/*
 *http://a.tbcdn.cn/??s/yui/3.3.0/build/oop/oop-min.js,s/yui/3.3.0/build/event-custom/event-custom-min.js,s/yui/3.3.0/build/dom/dom-min.js,s/yui/3.3.0/build/event/event-min.js,s/yui/3.3.0/build/pluginhost/pluginhost-min.js,s/yui/3.3.0/build/node/node-min.js,s/yui/3.3.0/build/cookie/cookie-min.js,apps/et/common/js/modernizr-min.js,s/yui/3.3.0/build/json/json-min.js,apps/et/common/js/storage-lite-v1.1-min.js,s/yui/3.3.0/build/attribute/attribute-min.js,s/yui/3.3.0/build/base/base-min.js,apps/et/common/js/search-form-min.js,s/yui/3.3.0/build/jsonp/jsonp-min.js,apps/et/common/js/mustache-min.js,s/yui/3.3.0/build/intl/intl-min.js,s/yui/3.3.0/build/autocomplete/lang/autocomplete.js,s/yui/3.3.0/build/collection/array-extras-min.js,s/yui/3.3.0/build/escape/escape-min.js,s/yui/3.3.0/build/event-valuechange/event-valuechange-min.js,s/yui/3.3.0/build/dom/selector-css3-min.js,s/yui/3.3.0/build/classnamemanager/classnamemanager-min.js,s/yui/3.3.0/build/widget/widget-min.js,s/yui/3.3.0/build/widget/widget-position-min.js,s/yui/3.3.0/build/widget/widget-position-align-min.js,s/yui/3.3.0/build/widget/widget-stack-min.js,s/yui/3.3.0/build/autocomplete/autocomplete-min.js,s/yui/3.3.0/build/autocomplete/autocomplete-list-keys-min.js,s/yui/3.3.0/build/anim/anim-base-min.js,s/yui/3.3.0/build/anim/anim-easing-min.js,apps/et/common/js/slide-min.js,apps/et/common/js/placeholder-min.js,apps/et/common/widgets/suggest/js/trip-autocomplete-min.js,apps/et/common/widgets/calendar/js/calendar-min.js,apps/et/common/widgets/calendar/js/trip-calendar.v1.1-min.js,s/yui/3.3.0/build/widget/widget-stdmod-min.js,s/yui/3.3.0/build/widget/widget-position-constrain-min.js,s/yui/3.3.0/build/overlay/overlay-min.js,s/yui/3.3.0/build/dd/dd-ddm-base-min.js,s/yui/3.3.0/build/dd/dd-drag-min.js,s/yui/3.3.0/build/dd/dd-plugin-min.js,apps/et/common/widgets/box/js/box-min.js,s/yui/3.3.0/build/imageloader/imageloader-min.js
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("oop",function(h){var d=h.Lang,c=h.Array,b=Object.prototype,a="_~yuim~_",e="each",g="some",f=function(l,k,m,i,j){if(l&&l[j]&&l!==h){return l[j].call(l,k,m);}else{switch(c.test(l)){case 1:return c[j](l,k,m);case 2:return c[j](h.Array(l,0,true),k,m);default:return h.Object[j](l,k,m,i);}}};h.augment=function(i,x,l,v,p){var n=x.prototype,t=null,w=x,q=(p)?h.Array(p):[],k=i.prototype,o=k||i,u=false,j,m;if(k&&w){j={};m={};t={};h.Object.each(n,function(s,r){m[r]=function(){for(var y in j){if(j.hasOwnProperty(y)&&(this[y]===m[y])){this[y]=j[y];}}w.apply(this,q);return j[r].apply(this,arguments);};if((!v||(r in v))&&(l||!(r in this))){if(d.isFunction(s)){j[r]=s;this[r]=m[r];}else{this[r]=s;}}},t,true);}else{u=true;}h.mix(o,t||n,l,v);if(u){x.apply(o,q);}return i;};h.aggregate=function(k,j,i,l){return h.mix(k,j,i,l,0,true);};h.extend=function(l,k,i,n){if(!k||!l){h.error("extend failed, verify dependencies");}var m=k.prototype,j=h.Object(m);l.prototype=j;j.constructor=l;l.superclass=m;if(k!=Object&&m.constructor==b.constructor){m.constructor=k;}if(i){h.mix(j,i,true);}if(n){h.mix(l,n,true);}return l;};h.each=function(k,j,l,i){return f(k,j,l,i,e);};h.some=function(k,j,l,i){return f(k,j,l,i,g);};h.clone=function(l,m,r,s,k,q){if(!d.isObject(l)){return l;}if(h.instanceOf(l,YUI)){return l;}var n,j=q||{},i,p=h.each;switch(d.type(l)){case"date":return new Date(l);case"regexp":return l;case"function":return l;case"array":n=[];break;default:if(l[a]){return j[l[a]];}i=h.guid();n=(m)?{}:h.Object(l);l[a]=i;j[i]=l;}if(!l.addEventListener&&!l.attachEvent){p(l,function(t,o){if((o||o===0)&&(!r||(r.call(s||this,t,o,this,l)!==false))){if(o!==a){if(o=="prototype"){}else{this[o]=h.clone(t,m,r,s,k||l,j);}}}},n);}if(!q){h.Object.each(j,function(t,o){if(t[a]){try{delete t[a];}catch(u){t[a]=null;}}},this);j=null;}return n;};h.bind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?j.concat(h.Array(arguments,0,true)):arguments;return m.apply(k||m,l);};};h.rbind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?h.Array(arguments,0,true).concat(j):arguments;return m.apply(k||m,l);};};},"3.3.0");/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("event-custom-base",function(b){b.Env.evt={handles:{},plugins:{}};var g=0,i=1,p={objs:{},before:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r);}return this._inject(g,t,u,v);},after:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r);}return this._inject(i,t,u,v);},_inject:function(r,t,u,w){var x=b.stamp(u),v,s;if(!this.objs[x]){this.objs[x]={};}v=this.objs[x];if(!v[w]){v[w]=new b.Do.Method(u,w);u[w]=function(){return v[w].exec.apply(v[w],arguments);};}s=x+b.stamp(t)+w;v[w].register(s,t,r);return new b.EventHandle(v[w],s);},detach:function(r){if(r.detach){r.detach();}},_unload:function(s,r){}};b.Do=p;p.Method=function(r,s){this.obj=r;this.methodName=s;this.method=r[s];this.before={};this.after={};};p.Method.prototype.register=function(s,t,r){if(r){this.after[s]=t;}else{this.before[s]=t;}};p.Method.prototype._delete=function(r){delete this.before[r];delete this.after[r];};p.Method.prototype.exec=function(){var t=b.Array(arguments,0,true),u,s,x,v=this.before,r=this.after,w=false;for(u in v){if(v.hasOwnProperty(u)){s=v[u].apply(this.obj,t);if(s){switch(s.constructor){case p.Halt:return s.retVal;case p.AlterArgs:t=s.newArgs;break;case p.Prevent:w=true;break;default:}}}}if(!w){s=this.method.apply(this.obj,t);}p.originalRetVal=s;p.currentRetVal=s;for(u in r){if(r.hasOwnProperty(u)){x=r[u].apply(this.obj,t);if(x&&x.constructor==p.Halt){return x.retVal;}else{if(x&&x.constructor==p.AlterReturn){s=x.newRetVal;p.currentRetVal=s;}}}}return s;};p.AlterArgs=function(s,r){this.msg=s;this.newArgs=r;};p.AlterReturn=function(s,r){this.msg=s;this.newRetVal=r;};p.Halt=function(s,r){this.msg=s;this.retVal=r;};p.Prevent=function(r){this.msg=r;};p.Error=p.Halt;var m="after",q=["broadcast","monitored","bubbles","context","contextFn","currentTarget","defaultFn","defaultTargetOnly","details","emitFacade","fireOnce","async","host","preventable","preventedFn","queuable","silent","stoppedFn","target","type"],n=9,a="yui:log";b.EventHandle=function(r,s){this.evt=r;this.sub=s;};b.EventHandle.prototype={batch:function(r,s){r.call(s||this,this);if(b.Lang.isArray(this.evt)){b.Array.each(this.evt,function(t){t.batch.call(s||t,r);});}},detach:function(){var r=this.evt,t=0,s;if(r){if(b.Lang.isArray(r)){for(s=0;s<r.length;s++){t+=r[s].detach();}}else{r._delete(this.sub);t=1;}}return t;},monitor:function(r){return this.evt.monitor.apply(this.evt,arguments);}};b.CustomEvent=function(r,s){s=s||{};this.id=b.stamp(this);this.type=r;this.context=b;this.logSystem=(r==a);this.silent=this.logSystem;this.subscribers={};this.afters={};this.preventable=true;this.bubbles=true;this.signature=n;this.subCount=0;this.afterCount=0;this.applyConfig(s,true);};b.CustomEvent.prototype={hasSubs:function(r){var v=this.subCount,t=this.afterCount,u=this.sibling;if(u){v+=u.subCount;t+=u.afterCount;}if(r){return(r=="after")?t:v;}return(v+t);},monitor:function(t){this.monitored=true;var s=this.id+"|"+this.type+"_"+t,r=b.Array(arguments,0,true);r[0]=s;return this.host.on.apply(this.host,r);},getSubs:function(){var u=b.merge(this.subscribers),r=b.merge(this.afters),t=this.sibling;if(t){b.mix(u,t.subscribers);b.mix(r,t.afters);}return[u,r];},applyConfig:function(s,r){if(s){b.mix(this,s,r,q);}},_on:function(w,u,t,r){if(!w){this.log("Invalid callback for CE: "+this.type);}var v=new b.Subscriber(w,u,t,r);if(this.fireOnce&&this.fired){if(this.async){setTimeout(b.bind(this._notify,this,v,this.firedWith),0);}else{this._notify(v,this.firedWith);}}if(r==m){this.afters[v.id]=v;this.afterCount++;}else{this.subscribers[v.id]=v;this.subCount++;}return new b.EventHandle(this,v);},subscribe:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,true);},on:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;if(this.host){this.host._monitor("attach",this.type,{args:arguments});}return this._on(t,s,r,true);},after:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,m);},detach:function(w,u){if(w&&w.detach){return w.detach();}var t,v,x=0,r=b.merge(this.subscribers,this.afters);for(t in r){if(r.hasOwnProperty(t)){v=r[t];if(v&&(!w||w===v.fn)){this._delete(v);x++;}}}return x;},unsubscribe:function(){return this.detach.apply(this,arguments);},_notify:function(v,u,r){this.log(this.type+"->"+"sub: "+v.id);var t;t=v.notify(u,this);if(false===t||this.stopped>1){this.log(this.type+" cancelled by subscriber");return false;}return true;},log:function(s,r){if(!this.silent){}},fire:function(){if(this.fireOnce&&this.fired){this.log("fireOnce event: "+this.type+" already fired");return true;}else{var r=b.Array(arguments,0,true);this.fired=true;this.firedWith=r;if(this.emitFacade){return this.fireComplex(r);}else{return this.fireSimple(r);}}},fireSimple:function(r){this.stopped=0;this.prevented=0;if(this.hasSubs()){var s=this.getSubs();this._procSubs(s[0],r);this._procSubs(s[1],r);}this._broadcast(r);return this.stopped?false:true;},fireComplex:function(r){r[0]=r[0]||{};return this.fireSimple(r);},_procSubs:function(v,t,r){var w,u;for(u in v){if(v.hasOwnProperty(u)){w=v[u];if(w&&w.fn){if(false===this._notify(w,t,r)){this.stopped=2;}if(this.stopped==2){return false;}}}}return true;},_broadcast:function(s){if(!this.stopped&&this.broadcast){var r=b.Array(s);r.unshift(this.type);if(this.host!==b){b.fire.apply(b,r);}if(this.broadcast==2){b.Global.fire.apply(b.Global,r);}}},unsubscribeAll:function(){return this.detachAll.apply(this,arguments);},detachAll:function(){return this.detach();},_delete:function(r){if(r){if(this.subscribers[r.id]){delete this.subscribers[r.id];this.subCount--;}if(this.afters[r.id]){delete this.afters[r.id];this.afterCount--;}}if(this.host){this.host._monitor("detach",this.type,{ce:this,sub:r});}if(r){r.deleted=true;}}};b.Subscriber=function(t,s,r){this.fn=t;this.context=s;this.id=b.stamp(this);this.args=r;};b.Subscriber.prototype={_notify:function(v,t,u){if(this.deleted&&!this.postponed){if(this.postponed){delete this.fn;
delete this.context;}else{delete this.postponed;return null;}}var r=this.args,s;switch(u.signature){case 0:s=this.fn.call(v,u.type,t,v);break;case 1:s=this.fn.call(v,t[0]||null,v);break;default:if(r||t){t=t||[];r=(r)?t.concat(r):t;s=this.fn.apply(v,r);}else{s=this.fn.call(v);}}if(this.once){u._delete(this);}return s;},notify:function(s,u){var v=this.context,r=true;if(!v){v=(u.contextFn)?u.contextFn():u.context;}if(b.config.throwFail){r=this._notify(v,s,u);}else{try{r=this._notify(v,s,u);}catch(t){b.error(this+" failed: "+t.message,t);}}return r;},contains:function(s,r){if(r){return((this.fn==s)&&this.context==r);}else{return(this.fn==s);}}};var j=b.Lang,h=":",e="|",l="~AFTER~",k=b.Array,c=b.cached(function(r){return r.replace(/(.*)(:)(.*)/,"*$2$3");}),o=b.cached(function(r,s){if(!s||!j.isString(r)||r.indexOf(h)>-1){return r;}return s+h+r;}),f=b.cached(function(u,w){var s=u,v,x,r;if(!j.isString(s)){return s;}r=s.indexOf(l);if(r>-1){x=true;s=s.substr(l.length);}r=s.indexOf(e);if(r>-1){v=s.substr(0,(r));s=s.substr(r+1);if(s=="*"){s=null;}}return[v,(w)?o(s,w):s,x,s];}),d=function(r){var s=(j.isObject(r))?r:{};this._yuievt=this._yuievt||{id:b.guid(),events:{},targets:{},config:s,chain:("chain" in s)?s.chain:b.config.chain,bubbling:false,defaults:{context:s.context||this,host:this,emitFacade:s.emitFacade,fireOnce:s.fireOnce,queuable:s.queuable,monitored:s.monitored,broadcast:s.broadcast,defaultTargetOnly:s.defaultTargetOnly,bubbles:("bubbles" in s)?s.bubbles:true}};};d.prototype={once:function(){var r=this.on.apply(this,arguments);r.batch(function(s){if(s.sub){s.sub.once=true;}});return r;},parseType:function(r,s){return f(r,s||this._yuievt.config.prefix);},on:function(v,A,t){var D=f(v,this._yuievt.config.prefix),F,G,s,J,C,B,H,x=b.Env.evt.handles,u,r,y,I=b.Node,E,z,w;this._monitor("attach",D[1],{args:arguments,category:D[0],after:D[2]});if(j.isObject(v)){if(j.isFunction(v)){return b.Do.before.apply(b.Do,arguments);}F=A;G=t;s=k(arguments,0,true);J=[];if(j.isArray(v)){w=true;}u=v._after;delete v._after;b.each(v,function(M,L){if(j.isObject(M)){F=M.fn||((j.isFunction(M))?M:F);G=M.context||G;}var K=(u)?l:"";s[0]=K+((w)?M:L);s[1]=F;s[2]=G;J.push(this.on.apply(this,s));},this);return(this._yuievt.chain)?this:new b.EventHandle(J);}B=D[0];u=D[2];y=D[3];if(I&&b.instanceOf(this,I)&&(y in I.DOM_EVENTS)){s=k(arguments,0,true);s.splice(2,0,I.getDOMNode(this));return b.on.apply(b,s);}v=D[1];if(b.instanceOf(this,YUI)){r=b.Env.evt.plugins[v];s=k(arguments,0,true);s[0]=y;if(I){E=s[2];if(b.instanceOf(E,b.NodeList)){E=b.NodeList.getDOMNodes(E);}else{if(b.instanceOf(E,I)){E=I.getDOMNode(E);}}z=(y in I.DOM_EVENTS);if(z){s[2]=E;}}if(r){H=r.on.apply(b,s);}else{if((!v)||z){H=b.Event._attach(s);}}}if(!H){C=this._yuievt.events[v]||this.publish(v);H=C._on(A,t,(arguments.length>3)?k(arguments,3,true):null,(u)?"after":true);}if(B){x[B]=x[B]||{};x[B][v]=x[B][v]||[];x[B][v].push(H);}return(this._yuievt.chain)?this:H;},subscribe:function(){return this.on.apply(this,arguments);},detach:function(A,C,r){var G=this._yuievt.events,v,x=b.Node,E=x&&(b.instanceOf(this,x));if(!A&&(this!==b)){for(v in G){if(G.hasOwnProperty(v)){G[v].detach(C,r);}}if(E){b.Event.purgeElement(x.getDOMNode(this));}return this;}var u=f(A,this._yuievt.config.prefix),z=j.isArray(u)?u[0]:null,H=(u)?u[3]:null,w,D=b.Env.evt.handles,F,B,y,t,s=function(M,K,L){var J=M[K],N,I;if(J){for(I=J.length-1;I>=0;--I){N=J[I].evt;if(N.host===L||N.el===L){J[I].detach();}}}};if(z){B=D[z];A=u[1];F=(E)?b.Node.getDOMNode(this):this;if(B){if(A){s(B,A,F);}else{for(v in B){if(B.hasOwnProperty(v)){s(B,v,F);}}}return this;}}else{if(j.isObject(A)&&A.detach){A.detach();return this;}else{if(E&&((!H)||(H in x.DOM_EVENTS))){y=k(arguments,0,true);y[2]=x.getDOMNode(this);b.detach.apply(b,y);return this;}}}w=b.Env.evt.plugins[H];if(b.instanceOf(this,YUI)){y=k(arguments,0,true);if(w&&w.detach){w.detach.apply(b,y);return this;}else{if(!A||(!w&&x&&(A in x.DOM_EVENTS))){y[0]=A;b.Event.detach.apply(b.Event,y);return this;}}}t=G[u[1]];if(t){t.detach(C,r);}return this;},unsubscribe:function(){return this.detach.apply(this,arguments);},detachAll:function(r){return this.detach(r);},unsubscribeAll:function(){return this.detachAll.apply(this,arguments);},publish:function(t,u){var s,y,r,x,w=this._yuievt,v=w.config.prefix;t=(v)?o(t,v):t;this._monitor("publish",t,{args:arguments});if(j.isObject(t)){r={};b.each(t,function(A,z){r[z]=this.publish(z,A||u);},this);return r;}s=w.events;y=s[t];if(y){if(u){y.applyConfig(u,true);}}else{x=w.defaults;y=new b.CustomEvent(t,(u)?b.merge(x,u):x);s[t]=y;}return s[t];},_monitor:function(u,r,v){var s,t=this.getEvent(r);if((this._yuievt.config.monitored&&(!t||t.monitored))||(t&&t.monitored)){s=r+"_"+u;v.monitored=u;this.fire.call(this,s,v);}},fire:function(v){var z=j.isString(v),u=(z)?v:(v&&v.type),y,s,x=this._yuievt.config.prefix,w,r=(z)?k(arguments,1,true):arguments;u=(x)?o(u,x):u;this._monitor("fire",u,{args:r});y=this.getEvent(u,true);w=this.getSibling(u,y);if(w&&!y){y=this.publish(u);}if(!y){if(this._yuievt.hasTargets){return this.bubble({type:u},r,this);}s=true;}else{y.sibling=w;s=y.fire.apply(y,r);}return(this._yuievt.chain)?this:s;},getSibling:function(r,t){var s;if(r.indexOf(h)>-1){r=c(r);s=this.getEvent(r,true);if(s){s.applyConfig(t);s.bubbles=false;s.broadcast=0;}}return s;},getEvent:function(s,r){var u,t;if(!r){u=this._yuievt.config.prefix;s=(u)?o(s,u):s;}t=this._yuievt.events;return t[s]||null;},after:function(t,s){var r=k(arguments,0,true);switch(j.type(t)){case"function":return b.Do.after.apply(b.Do,arguments);case"array":case"object":r[0]._after=true;break;default:r[0]=l+t;}return this.on.apply(this,r);},before:function(){return this.on.apply(this,arguments);}};b.EventTarget=d;b.mix(b,d.prototype,false,false,{bubbles:false});d.call(b);YUI.Env.globalEvents=YUI.Env.globalEvents||new d();b.Global=YUI.Env.globalEvents;},"3.3.0",{requires:["oop"]});YUI.add("event-custom-complex",function(f){var b,e,d={},a=f.CustomEvent.prototype,c=f.EventTarget.prototype;f.EventFacade=function(h,g){h=h||d;
this._event=h;this.details=h.details;this.type=h.type;this._type=h.type;this.target=h.target;this.currentTarget=g;this.relatedTarget=h.relatedTarget;};f.extend(f.EventFacade,Object,{stopPropagation:function(){this._event.stopPropagation();this.stopped=1;},stopImmediatePropagation:function(){this._event.stopImmediatePropagation();this.stopped=2;},preventDefault:function(){this._event.preventDefault();this.prevented=1;},halt:function(g){this._event.halt(g);this.prevented=1;this.stopped=(g)?2:1;}});a.fireComplex=function(p){var r,l,g,n,i,o,u,j,h,t=this,s=t.host||t,m,k;if(t.stack){if(t.queuable&&t.type!=t.stack.next.type){t.log("queue "+t.type);t.stack.queue.push([t,p]);return true;}}r=t.stack||{id:t.id,next:t,silent:t.silent,stopped:0,prevented:0,bubbling:null,type:t.type,afterQueue:new f.Queue(),defaultTargetOnly:t.defaultTargetOnly,queue:[]};j=t.getSubs();t.stopped=(t.type!==r.type)?0:r.stopped;t.prevented=(t.type!==r.type)?0:r.prevented;t.target=t.target||s;u=new f.EventTarget({fireOnce:true,context:s});t.events=u;if(t.preventedFn){u.on("prevented",t.preventedFn);}if(t.stoppedFn){u.on("stopped",t.stoppedFn);}t.currentTarget=s;t.details=p.slice();t.log("Firing "+t.type);t._facade=null;l=t._getFacade(p);if(f.Lang.isObject(p[0])){p[0]=l;}else{p.unshift(l);}if(j[0]){t._procSubs(j[0],p,l);}if(t.bubbles&&s.bubble&&!t.stopped){k=r.bubbling;r.bubbling=t.type;if(r.type!=t.type){r.stopped=0;r.prevented=0;}o=s.bubble(t,p,null,r);t.stopped=Math.max(t.stopped,r.stopped);t.prevented=Math.max(t.prevented,r.prevented);r.bubbling=k;}if(t.defaultFn&&!t.prevented&&((!t.defaultTargetOnly&&!r.defaultTargetOnly)||s===l.target)){t.defaultFn.apply(s,p);}t._broadcast(p);if(j[1]&&!t.prevented&&t.stopped<2){if(r.id===t.id||t.type!=s._yuievt.bubbling){t._procSubs(j[1],p,l);while((m=r.afterQueue.last())){m();}}else{h=j[1];if(r.execDefaultCnt){h=f.merge(h);f.each(h,function(q){q.postponed=true;});}r.afterQueue.add(function(){t._procSubs(h,p,l);});}}t.target=null;if(r.id===t.id){n=r.queue;while(n.length){g=n.pop();i=g[0];r.next=i;i.fire.apply(i,g[1]);}t.stack=null;}o=!(t.stopped);if(t.type!=s._yuievt.bubbling){r.stopped=0;r.prevented=0;t.stopped=0;t.prevented=0;}return o;};a._getFacade=function(){var g=this._facade,j,i,h=this.details;if(!g){g=new f.EventFacade(this,this.currentTarget);}j=h&&h[0];if(f.Lang.isObject(j,true)){i={};f.mix(i,g,true,e);f.mix(g,j,true);f.mix(g,i,true,e);g.type=j.type||g.type;}g.details=this.details;g.target=this.originalTarget||this.target;g.currentTarget=this.currentTarget;g.stopped=0;g.prevented=0;this._facade=g;return this._facade;};a.stopPropagation=function(){this.stopped=1;if(this.stack){this.stack.stopped=1;}this.events.fire("stopped",this);};a.stopImmediatePropagation=function(){this.stopped=2;if(this.stack){this.stack.stopped=2;}this.events.fire("stopped",this);};a.preventDefault=function(){if(this.preventable){this.prevented=1;if(this.stack){this.stack.prevented=1;}this.events.fire("prevented",this);}};a.halt=function(g){if(g){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();};c.addTarget=function(g){this._yuievt.targets[f.stamp(g)]=g;this._yuievt.hasTargets=true;};c.getTargets=function(){return f.Object.values(this._yuievt.targets);};c.removeTarget=function(g){delete this._yuievt.targets[f.stamp(g)];};c.bubble=function(u,q,o,s){var m=this._yuievt.targets,p=true,v,r=u&&u.type,h,l,n,j,g=o||(u&&u.target)||this,k;if(!u||((!u.stopped)&&m)){for(l in m){if(m.hasOwnProperty(l)){v=m[l];h=v.getEvent(r,true);j=v.getSibling(r,h);if(j&&!h){h=v.publish(r);}k=v._yuievt.bubbling;v._yuievt.bubbling=r;if(!h){if(v._yuievt.hasTargets){v.bubble(u,q,g,s);}}else{h.sibling=j;h.target=g;h.originalTarget=g;h.currentTarget=v;n=h.broadcast;h.broadcast=false;h.emitFacade=true;h.stack=s;p=p&&h.fire.apply(h,q||u.details||[]);h.broadcast=n;h.originalTarget=null;if(h.stopped){break;}}v._yuievt.bubbling=k;}}}return p;};b=new f.EventFacade();e=f.Object.keys(b);},"3.3.0",{requires:["event-custom-base"]});YUI.add("event-custom",function(a){},"3.3.0",{use:["event-custom-base","event-custom-complex"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("dom-base",function(d){(function(h){var o="nodeType",u="ownerDocument",v="documentElement",g="defaultView",m="parentWindow",s="tagName",k="parentNode",e="firstChild",t="previousSibling",w="nextSibling",l="contains",r="compareDocumentPosition",f="",i=[],y=h.config.doc.documentElement,n=/<([a-z]+)/i,j=function(B,z){var C=h.config.doc.createElement("div"),A=true;C.innerHTML=B;if(!C.firstChild||C.firstChild.tagName!==z.toUpperCase()){A=false;}return A;},p=h.Features.add,q=h.Features.test,x={byId:function(A,z){return x.allById(A,z)[0]||null;},getText:(y.textContent!==undefined)?function(A){var z="";if(A){z=A.textContent;}return z||"";}:function(A){var z="";if(A){z=A.innerText||A.nodeValue;}return z||"";},setText:(y.textContent!==undefined)?function(z,A){if(z){z.textContent=A;}}:function(z,A){if("innerText" in z){z.innerText=A;}else{if("nodeValue" in z){z.nodeValue=A;}}},ancestor:function(A,B,C){var z=null;if(C){z=(!B||B(A))?A:null;}return z||x.elementByAxis(A,k,B,null);},ancestors:function(B,C,D){var A=x.ancestor.apply(x,arguments),z=(A)?[A]:[];while((A=x.ancestor(A,C))){if(A){z.unshift(A);}}return z;},elementByAxis:function(z,C,B,A){while(z&&(z=z[C])){if((A||z[s])&&(!B||B(z))){return z;}}return null;},contains:function(A,B){var z=false;if(!B||!A||!B[o]||!A[o]){z=false;}else{if(A[l]){if(h.UA.opera||B[o]===1){z=A[l](B);}else{z=x._bruteContains(A,B);}}else{if(A[r]){if(A===B||!!(A[r](B)&16)){z=true;}}}}return z;},inDoc:function(B,C){var A=false,z;if(B&&B.nodeType){(C)||(C=B[u]);z=C[v];if(z&&z.contains&&B.tagName){A=z.contains(B);}else{A=x.contains(z,B);}}return A;},allById:function(E,z){z=z||h.config.doc;var A=[],B=[],C,D;if(z.querySelectorAll){B=z.querySelectorAll('[id="'+E+'"]');}else{if(z.all){A=z.all(E);if(A){if(A.nodeName){if(A.id===E){B.push(A);A=i;}else{A=[A];}}if(A.length){for(C=0;D=A[C++];){if(D.id===E||(D.attributes&&D.attributes.id&&D.attributes.id.value===E)){B.push(D);}}}}}else{B=[x._getDoc(z).getElementById(E)];}}return B;},create:function(D,G){if(typeof D==="string"){D=h.Lang.trim(D);}G=G||h.config.doc;var C=n.exec(D),E=x._create,A=x.creators,F=null,B,H,z;if(D!=undefined){if(C&&C[1]){B=A[C[1].toLowerCase()];if(typeof B==="function"){E=B;}else{H=B;}}z=E(D,G,H).childNodes;if(z.length===1){F=z[0].parentNode.removeChild(z[0]);}else{if(z[0]&&z[0].className==="yui3-big-dummy"){if(z.length===2){F=z[0].nextSibling;}else{z[0].parentNode.removeChild(z[0]);F=x._nl2frag(z,G);}}else{F=x._nl2frag(z,G);}}}return F;},_nl2frag:function(A,D){var B=null,C,z;if(A&&(A.push||A.item)&&A[0]){D=D||A[0].ownerDocument;B=D.createDocumentFragment();if(A.item){A=h.Array(A,0,true);}for(C=0,z=A.length;C<z;C++){B.appendChild(A[C]);}}return B;},CUSTOM_ATTRIBUTES:(!y.hasAttribute)?{"for":"htmlFor","class":"className"}:{"htmlFor":"for","className":"class"},setAttribute:function(B,z,C,A){if(B&&z&&B.setAttribute){z=x.CUSTOM_ATTRIBUTES[z]||z;B.setAttribute(z,C,A);}},getAttribute:function(C,z,B){B=(B!==undefined)?B:2;var A="";if(C&&z&&C.getAttribute){z=x.CUSTOM_ATTRIBUTES[z]||z;A=C.getAttribute(z,B);if(A===null){A="";}}return A;},isWindow:function(z){return !!(z&&z.alert&&z.document);},_fragClones:{},_create:function(A,B,z){z=z||"div";var C=x._fragClones[z];if(C){C=C.cloneNode(false);}else{C=x._fragClones[z]=B.createElement(z);}C.innerHTML=A;return C;},_removeChildNodes:function(z){while(z.firstChild){z.removeChild(z.firstChild);}},addHTML:function(G,F,B){var z=G.parentNode,D=0,E,A=F,C;if(F!=undefined){if(F.nodeType){C=F;}else{if(typeof F=="string"||typeof F=="number"){A=C=x.create(F);}else{if(F[0]&&F[0].nodeType){C=h.config.doc.createDocumentFragment();while((E=F[D++])){C.appendChild(E);}}}}}if(B){if(B.nodeType){B.parentNode.insertBefore(C,B);}else{switch(B){case"replace":while(G.firstChild){G.removeChild(G.firstChild);}if(C){G.appendChild(C);}break;case"before":z.insertBefore(C,G);break;case"after":if(G.nextSibling){z.insertBefore(C,G.nextSibling);}else{z.appendChild(C);}break;default:G.appendChild(C);}}}else{if(C){G.appendChild(C);}}return A;},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(B){var A="",z;if(B&&B[s]){z=x.VALUE_GETTERS[B[s].toLowerCase()];if(z){A=z(B);}else{A=B.value;}}if(A===f){A=f;}return(typeof A==="string")?A:"";},setValue:function(z,A){var B;if(z&&z[s]){B=x.VALUE_SETTERS[z[s].toLowerCase()];if(B){B(z,A);}else{z.value=A;}}},siblings:function(C,B){var z=[],A=C;while((A=A[t])){if(A[s]&&(!B||B(A))){z.unshift(A);}}A=C;while((A=A[w])){if(A[s]&&(!B||B(A))){z.push(A);}}return z;},_bruteContains:function(z,A){while(A){if(z===A){return true;}A=A.parentNode;}return false;},_getRegExp:function(A,z){z=z||"";x._regexCache=x._regexCache||{};if(!x._regexCache[A+z]){x._regexCache[A+z]=new RegExp(A,z);}return x._regexCache[A+z];},_getDoc:function(z){var A=h.config.doc;if(z){A=(z[o]===9)?z:z[u]||z.document||h.config.doc;}return A;},_getWin:function(z){var A=x._getDoc(z);return A[g]||A[m]||h.config.win;},_batch:function(z,I,F,E,D,B){I=(typeof I==="string")?x[I]:I;var J,H=Array.prototype.slice.call(arguments,2),C=0,A,G;if(I&&z){while((A=z[C++])){J=J=I.call(x,A,F,E,D,B);if(typeof J!=="undefined"){(G)||(G=[]);G.push(J);}}}return(typeof G!=="undefined")?G:z;},wrap:function(C,A){var B=h.DOM.create(A),z=B.getElementsByTagName("*");if(z.length){B=z[z.length-1];}if(C.parentNode){C.parentNode.replaceChild(B,C);}B.appendChild(C);},unwrap:function(C){var A=C.parentNode,B=A.lastChild,C=A.firstChild,z=C,D;if(A){D=A.parentNode;if(D){while(C!==B){z=C.nextSibling;D.insertBefore(C,A);C=z;}D.replaceChild(B,A);}else{A.removeChild(C);}}},generateID:function(z){var A=z.id;if(!A){A=h.stamp(z);z.id=A;}return A;},creators:{}};p("innerhtml","table",{test:function(){var z=h.config.doc.createElement("table");try{z.innerHTML="<tbody></tbody>";}catch(A){return false;}return(z.firstChild&&z.firstChild.nodeName==="TBODY");}});p("innerhtml-div","tr",{test:function(){return j("<tr></tr>","tr");}});p("innerhtml-div","script",{test:function(){return j("<script><\/script>","script");}});p("value-set","select",{test:function(){var z=h.config.doc.createElement("select");
z.innerHTML="<option>1</option><option>2</option>";z.value="2";return(z.value&&z.value==="2");}});(function(D){var E=x.creators,z=x.create,C=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/,B="<table>",A="</table>";if(!q("innerhtml","table")){E.tbody=function(G,H){var I=z(B+G+A,H),F=I.children.tags("tbody")[0];if(I.children.length>1&&F&&!C.test(G)){F[k].removeChild(F);}return I;};}if(!q("innerhtml-div","script")){E.script=function(F,G){var H=G.createElement("div");H.innerHTML="-"+F;H.removeChild(H[e]);return H;};x.creators.link=x.creators.style=x.creators.script;}if(!q("value-set","select")){x.VALUE_SETTERS.select=function(I,J){for(var G=0,F=I.getElementsByTagName("option"),H;H=F[G++];){if(x.getValue(H)===J){H.selected=true;break;}}};}D.mix(x.VALUE_GETTERS,{button:function(F){return(F.attributes&&F.attributes.value)?F.attributes.value.value:"";}});D.mix(x.VALUE_SETTERS,{button:function(G,H){var F=G.attributes.value;if(!F){F=G[u].createAttribute("value");G.setAttributeNode(F);}F.value=H;}});if(!q("innerhtml-div","tr")){D.mix(E,{option:function(F,G){return z('<select><option class="yui3-big-dummy" selected></option>'+F+"</select>",G);},tr:function(F,G){return z("<tbody>"+F+"</tbody>",G);},td:function(F,G){return z("<tr>"+F+"</tr>",G);},col:function(F,G){return z("<colgroup>"+F+"</colgroup>",G);},tbody:"table"});D.mix(E,{legend:"fieldset",th:E.td,thead:E.tbody,tfoot:E.tbody,caption:E.tbody,colgroup:E.tbody,optgroup:E.option});}D.mix(x.VALUE_GETTERS,{option:function(G){var F=G.attributes;return(F.value&&F.value.specified)?G.value:G.text;},select:function(G){var H=G.value,F=G.options;if(F&&F.length){if(G.multiple){}else{H=x.getValue(F[G.selectedIndex]);}}return H;}});})(h);h.DOM=x;})(d);var b,a,c;d.mix(d.DOM,{hasClass:function(g,f){var e=d.DOM._getRegExp("(?:^|\\s+)"+f+"(?:\\s+|$)");return e.test(g.className);},addClass:function(f,e){if(!d.DOM.hasClass(f,e)){f.className=d.Lang.trim([f.className,e].join(" "));}},removeClass:function(f,e){if(e&&a(f,e)){f.className=d.Lang.trim(f.className.replace(d.DOM._getRegExp("(?:^|\\s+)"+e+"(?:\\s+|$)")," "));if(a(f,e)){c(f,e);}}},replaceClass:function(f,e,g){c(f,e);b(f,g);},toggleClass:function(f,e,g){var h=(g!==undefined)?g:!(a(f,e));if(h){b(f,e);}else{c(f,e);}}});a=d.DOM.hasClass;c=d.DOM.removeClass;b=d.DOM.addClass;d.mix(d.DOM,{setWidth:function(f,e){d.DOM._setSize(f,"width",e);},setHeight:function(f,e){d.DOM._setSize(f,"height",e);},_setSize:function(f,h,g){g=(g>0)?g:0;var e=0;f.style[h]=g+"px";e=(h==="height")?f.offsetHeight:f.offsetWidth;if(e>g){g=g-(e-g);if(g<0){g=0;}f.style[h]=g+"px";}}});},"3.3.0",{requires:["oop"]});YUI.add("dom-style",function(a){(function(e){var p="documentElement",b="defaultView",n="ownerDocument",h="style",i="float",r="cssFloat",s="styleFloat",k="transparent",d="getComputedStyle",c="getBoundingClientRect",o=e.config.win,g=e.config.doc,t=undefined,q=e.DOM,f="transform",l=["WebkitTransform","MozTransform","OTransform"],m=/color$/i,j=/width|height|top|left|right|bottom|margin|padding/i;e.Array.each(l,function(u){if(u in g[p].style){f=u;}});e.mix(q,{DEFAULT_UNIT:"px",CUSTOM_STYLES:{},setStyle:function(x,u,y,w){w=w||x.style;var v=q.CUSTOM_STYLES;if(w){if(y===null||y===""){y="";}else{if(!isNaN(new Number(y))&&j.test(u)){y+=q.DEFAULT_UNIT;}}if(u in v){if(v[u].set){v[u].set(x,y,w);return;}else{if(typeof v[u]==="string"){u=v[u];}}}else{if(u===""){u="cssText";y="";}}w[u]=y;}},getStyle:function(x,u,w){w=w||x.style;var v=q.CUSTOM_STYLES,y="";if(w){if(u in v){if(v[u].get){return v[u].get(x,u,w);}else{if(typeof v[u]==="string"){u=v[u];}}}y=w[u];if(y===""){y=q[d](x,u);}}return y;},setStyles:function(v,w){var u=v.style;e.each(w,function(x,y){q.setStyle(v,y,x,u);},q);},getComputedStyle:function(v,u){var x="",w=v[n];if(v[h]&&w[b]&&w[b][d]){x=w[b][d](v,null)[u];}return x;}});if(g[p][h][r]!==t){q.CUSTOM_STYLES[i]=r;}else{if(g[p][h][s]!==t){q.CUSTOM_STYLES[i]=s;}}if(e.UA.opera){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(m.test(v)){x=e.Color.toRGB(x);}return x;};}if(e.UA.webkit){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(x==="rgba(0, 0, 0, 0)"){x=k;}return x;};}e.DOM._getAttrOffset=function(y,v){var A=e.DOM[d](y,v),x=y.offsetParent,u,w,z;if(A==="auto"){u=e.DOM.getStyle(y,"position");if(u==="static"||u==="relative"){A=0;}else{if(x&&x[c]){w=x[c]()[v];z=y[c]()[v];if(v==="left"||v==="top"){A=z-w;}else{A=w-y[c]()[v];}}}}return A;};e.DOM._getOffset=function(u){var w,v=null;if(u){w=q.getStyle(u,"position");v=[parseInt(q[d](u,"left"),10),parseInt(q[d](u,"top"),10)];if(isNaN(v[0])){v[0]=parseInt(q.getStyle(u,"left"),10);if(isNaN(v[0])){v[0]=(w==="relative")?0:u.offsetLeft||0;}}if(isNaN(v[1])){v[1]=parseInt(q.getStyle(u,"top"),10);if(isNaN(v[1])){v[1]=(w==="relative")?0:u.offsetTop||0;}}}return v;};q.CUSTOM_STYLES.transform={set:function(v,w,u){u[f]=w;},get:function(v,u){return q[d](v,f);}};})(a);(function(d){var b=parseInt,c=RegExp;d.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){if(!d.Color.re_RGB.test(e)){e=d.Color.toHex(e);}if(d.Color.re_hex.exec(e)){e="rgb("+[b(c.$1,16),b(c.$2,16),b(c.$3,16)].join(", ")+")";}return e;},toHex:function(f){f=d.Color.KEYWORDS[f]||f;if(d.Color.re_RGB.exec(f)){f=[Number(c.$1).toString(16),Number(c.$2).toString(16),Number(c.$3).toString(16)];for(var e=0;e<f.length;e++){if(f[e].length<2){f[e]="0"+f[e];}}f=f.join("");}if(f.length<6){f=f.replace(d.Color.re_hex3,"$1$1");}if(f!=="transparent"&&f.indexOf("#")<0){f="#"+f;}return f.toUpperCase();}};})(a);},"3.3.0",{requires:["dom-base"]});YUI.add("dom-screen",function(a){(function(f){var d="documentElement",q="compatMode",o="position",c="fixed",m="relative",g="left",h="top",i="BackCompat",p="medium",e="borderLeftWidth",b="borderTopWidth",r="getBoundingClientRect",k="getComputedStyle",l=f.DOM,n=/^t(?:able|d|h)$/i,j;
if(f.UA.ie){if(f.config.doc[q]!=="quirks"){j=d;}else{j="body";}}f.mix(l,{winHeight:function(t){var s=l._getWinSize(t).height;return s;},winWidth:function(t){var s=l._getWinSize(t).width;return s;},docHeight:function(t){var s=l._getDocSize(t).height;return Math.max(s,l._getWinSize(t).height);},docWidth:function(t){var s=l._getDocSize(t).width;return Math.max(s,l._getWinSize(t).width);},docScrollX:function(u,v){v=v||(u)?l._getDoc(u):f.config.doc;var t=v.defaultView,s=(t)?t.pageXOffset:0;return Math.max(v[d].scrollLeft,v.body.scrollLeft,s);},docScrollY:function(u,v){v=v||(u)?l._getDoc(u):f.config.doc;var t=v.defaultView,s=(t)?t.pageYOffset:0;return Math.max(v[d].scrollTop,v.body.scrollTop,s);},getXY:function(){if(f.config.doc[d][r]){return function(x){var E=null,y,u,z,C,B,t,w,A,D,s,v;if(x&&x.tagName){D=x.ownerDocument;v=D[d];if(v.contains){s=v.contains(x);}else{s=f.DOM.contains(v,x);}if(s){y=(j)?D[j].scrollLeft:l.docScrollX(x,D);u=(j)?D[j].scrollTop:l.docScrollY(x,D);z=x[r]();E=[z.left,z.top];if(f.UA.ie){C=2;B=2;A=D[q];t=l[k](D[d],e);w=l[k](D[d],b);if(f.UA.ie===6){if(A!==i){C=0;B=0;}}if((A==i)){if(t!==p){C=parseInt(t,10);}if(w!==p){B=parseInt(w,10);}}E[0]-=C;E[1]-=B;}if((u||y)){if(!f.UA.ios||(f.UA.ios>=4.2)){E[0]+=y;E[1]+=u;}}}else{E=l._getOffset(x);}}return E;};}else{return function(t){var w=null,v,s,y,u,x;if(t){if(l.inDoc(t)){w=[t.offsetLeft,t.offsetTop];v=t.ownerDocument;s=t;y=((f.UA.gecko||f.UA.webkit>519)?true:false);while((s=s.offsetParent)){w[0]+=s.offsetLeft;w[1]+=s.offsetTop;if(y){w=l._calcBorders(s,w);}}if(l.getStyle(t,o)!=c){s=t;while((s=s.parentNode)){u=s.scrollTop;x=s.scrollLeft;if(f.UA.gecko&&(l.getStyle(s,"overflow")!=="visible")){w=l._calcBorders(s,w);}if(u||x){w[0]-=x;w[1]-=u;}}w[0]+=l.docScrollX(t,v);w[1]+=l.docScrollY(t,v);}else{w[0]+=l.docScrollX(t,v);w[1]+=l.docScrollY(t,v);}}else{w=l._getOffset(t);}}return w;};}}(),getX:function(s){return l.getXY(s)[0];},getY:function(s){return l.getXY(s)[1];},setXY:function(t,w,z){var u=l.setStyle,y,x,s,v;if(t&&w){y=l.getStyle(t,o);x=l._getOffset(t);if(y=="static"){y=m;u(t,o,y);}v=l.getXY(t);if(w[0]!==null){u(t,g,w[0]-v[0]+x[0]+"px");}if(w[1]!==null){u(t,h,w[1]-v[1]+x[1]+"px");}if(!z){s=l.getXY(t);if(s[0]!==w[0]||s[1]!==w[1]){l.setXY(t,w,true);}}}else{}},setX:function(t,s){return l.setXY(t,[s,null]);},setY:function(s,t){return l.setXY(s,[null,t]);},swapXY:function(t,s){var u=l.getXY(t);l.setXY(t,l.getXY(s));l.setXY(s,u);},_calcBorders:function(v,w){var u=parseInt(l[k](v,b),10)||0,s=parseInt(l[k](v,e),10)||0;if(f.UA.gecko){if(n.test(v.tagName)){u=0;s=0;}}w[0]+=s;w[1]+=u;return w;},_getWinSize:function(v,y){y=y||(v)?l._getDoc(v):f.config.doc;var x=y.defaultView||y.parentWindow,z=y[q],u=x.innerHeight,t=x.innerWidth,s=y[d];if(z&&!f.UA.opera){if(z!="CSS1Compat"){s=y.body;}u=s.clientHeight;t=s.clientWidth;}return{height:u,width:t};},_getDocSize:function(t){var u=(t)?l._getDoc(t):f.config.doc,s=u[d];if(u[q]!="CSS1Compat"){s=u.body;}return{height:s.scrollHeight,width:s.scrollWidth};}});})(a);(function(g){var d="top",c="right",h="bottom",b="left",f=function(m,k){var o=Math.max(m[d],k[d]),p=Math.min(m[c],k[c]),i=Math.min(m[h],k[h]),j=Math.max(m[b],k[b]),n={};n[d]=o;n[c]=p;n[h]=i;n[b]=j;return n;},e=g.DOM;g.mix(e,{region:function(j){var k=e.getXY(j),i=false;if(j&&k){i=e._getRegion(k[1],k[0]+j.offsetWidth,k[1]+j.offsetHeight,k[0]);}return i;},intersect:function(k,i,m){var j=m||e.region(k),l={},p=i,o;if(p.tagName){l=e.region(p);}else{if(g.Lang.isObject(i)){l=i;}else{return false;}}o=f(l,j);return{top:o[d],right:o[c],bottom:o[h],left:o[b],area:((o[h]-o[d])*(o[c]-o[b])),yoff:((o[h]-o[d])),xoff:(o[c]-o[b]),inRegion:e.inRegion(k,i,false,m)};},inRegion:function(l,i,j,o){var m={},k=o||e.region(l),q=i,p;if(q.tagName){m=e.region(q);}else{if(g.Lang.isObject(i)){m=i;}else{return false;}}if(j){return(k[b]>=m[b]&&k[c]<=m[c]&&k[d]>=m[d]&&k[h]<=m[h]);}else{p=f(m,k);if(p[h]>=p[d]&&p[c]>=p[b]){return true;}else{return false;}}},inViewportRegion:function(j,i,k){return e.inRegion(j,e.viewportRegion(j),i,k);},_getRegion:function(k,m,i,j){var n={};n[d]=n[1]=k;n[b]=n[0]=j;n[h]=i;n[c]=m;n.width=n[c]-n[b];n.height=n[h]-n[d];return n;},viewportRegion:function(j){j=j||g.config.doc.documentElement;var i=false,l,k;if(j){l=e.docScrollX(j);k=e.docScrollY(j);i=e._getRegion(k,e.winWidth(j)+l,k+e.winHeight(j),l);}return i;}});})(a);},"3.3.0",{requires:["dom-base","dom-style","event-base"]});YUI.add("selector-native",function(a){(function(e){e.namespace("Selector");var c="compareDocumentPosition",d="ownerDocument";var b={_foundCache:[],useNative:true,_compare:("sourceIndex" in e.config.doc.documentElement)?function(i,h){var g=i.sourceIndex,f=h.sourceIndex;if(g===f){return 0;}else{if(g>f){return 1;}}return -1;}:(e.config.doc.documentElement[c]?function(g,f){if(g[c](f)&4){return -1;}else{return 1;}}:function(j,i){var h,f,g;if(j&&i){h=j[d].createRange();h.setStart(j,0);f=i[d].createRange();f.setStart(i,0);g=h.compareBoundaryPoints(1,f);}return g;}),_sort:function(f){if(f){f=e.Array(f,0,true);if(f.sort){f.sort(b._compare);}}return f;},_deDupe:function(f){var g=[],h,j;for(h=0;(j=f[h++]);){if(!j._found){g[g.length]=j;j._found=true;}}for(h=0;(j=g[h++]);){j._found=null;j.removeAttribute("_found");}return g;},query:function(g,o,p,f){o=o||e.config.doc;var l=[],h=(e.Selector.useNative&&e.config.doc.querySelector&&!f),k=[[g,o]],m,q,j,n=(h)?e.Selector._nativeQuery:e.Selector._bruteQuery;if(g&&n){if(!f&&(!h||o.tagName)){k=b._splitQueries(g,o);}for(j=0;(m=k[j++]);){q=n(m[0],m[1],p);if(!p){q=e.Array(q,0,true);}if(q){l=l.concat(q);}}if(k.length>1){l=b._sort(b._deDupe(l));}}return(p)?(l[0]||null):l;},_splitQueries:function(h,l){var g=h.split(","),j=[],m="",k,f;if(l){if(l.tagName){l.id=l.id||e.guid();m='[id="'+l.id+'"] ';}for(k=0,f=g.length;k<f;++k){h=m+g[k];j.push([h,l]);}}return j;},_nativeQuery:function(f,g,h){if(e.UA.webkit&&f.indexOf(":checked")>-1&&(e.Selector.pseudos&&e.Selector.pseudos.checked)){return e.Selector.query(f,g,h,true);}try{return g["querySelector"+(h?"":"All")](f);}catch(i){return e.Selector.query(f,g,h,true);
}},filter:function(g,f){var h=[],j,k;if(g&&f){for(j=0;(k=g[j++]);){if(e.Selector.test(k,f)){h[h.length]=k;}}}else{}return h;},test:function(h,k,p){var n=false,g=k.split(","),f=false,q,t,o,s,m,l,r;if(h&&h.tagName){if(!p&&!e.DOM.inDoc(h)){q=h.parentNode;if(q){p=q;}else{s=h[d].createDocumentFragment();s.appendChild(h);p=s;f=true;}}p=p||h[d];if(!h.id){h.id=e.guid();}for(m=0;(r=g[m++]);){r+='[id="'+h.id+'"]';o=e.Selector.query(r,p);for(l=0;t=o[l++];){if(t===h){n=true;break;}}if(n){break;}}if(f){s.removeChild(h);}}return n;},ancestor:function(g,f,h){return e.DOM.ancestor(g,function(i){return e.Selector.test(i,f);},h);}};e.mix(e.Selector,b,true);})(a);},"3.3.0",{requires:["dom-base"]});YUI.add("selector-css2",function(g){var h="parentNode",d="tagName",e="attributes",a="combinator",f="pseudos",c=g.Selector,b={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:true,_children:function(n,j){var k=n.children,m,l=[],o,p;if(n.children&&j&&n.children.tags){l=n.children.tags(j);}else{if((!k&&n[d])||(k&&j)){o=k||n.childNodes;k=[];for(m=0;(p=o[m++]);){if(p.tagName){if(!j||j===p.tagName){k.push(p);}}}}}return k||[];},_re:{attr:/(\[[^\]]*\])/g,pseudos:/:([\-\w]+(?:\(?:['"]?(.+)['"]?\)))*/i},shorthand:{"\\#(-?[_a-z]+[-\\w]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w]*)":"[className~=$1]"},operators:{"":function(j,i){return g.DOM.getAttribute(j,i)!=="";},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(i){return g.Selector._children(i[h])[0]===i;}},_bruteQuery:function(n,r,t){var o=[],i=[],q=c._tokenize(n),m=q[q.length-1],s=g.DOM._getDoc(r),k,j,p,l;if(m){j=m.id;p=m.className;l=m.tagName||"*";if(r.getElementsByTagName){if(j&&(r.all||(r.nodeType===9||g.DOM.inDoc(r)))){i=g.DOM.allById(j,r);}else{if(p){i=r.getElementsByClassName(p);}else{i=r.getElementsByTagName(l);}}}else{k=r.firstChild;while(k){if(k.tagName){i.push(k);}k=k.nextSilbing||k.firstChild;}}if(i.length){o=c._filterNodes(i,q,t);}}return o;},_filterNodes:function(u,q,s){var z=0,y,A=q.length,t=A-1,p=[],w=u[0],D=w,B=g.Selector.getters,o,x,m,r,k,v,l,C;for(z=0;(D=w=u[z++]);){t=A-1;r=null;testLoop:while(D&&D.tagName){m=q[t];l=m.tests;y=l.length;if(y&&!k){while((C=l[--y])){o=C[1];if(B[C[0]]){v=B[C[0]](D,C[0]);}else{v=D[C[0]];if(v===undefined&&D.getAttribute){v=D.getAttribute(C[0]);}}if((o==="="&&v!==C[2])||(typeof o!=="string"&&o.test&&!o.test(v))||(!o.test&&typeof o==="function"&&!o(D,C[0]))){if((D=D[r])){while(D&&(!D.tagName||(m.tagName&&m.tagName!==D.tagName))){D=D[r];}}continue testLoop;}}}t--;if(!k&&(x=m.combinator)){r=x.axis;D=D[r];while(D&&!D.tagName){D=D[r];}if(x.direct){r=null;}}else{p.push(w);if(s){return p;}break;}}}w=D=null;return p;},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:true},"+":{axis:"previousSibling",direct:true}},_parsers:[{name:e,re:/^\[(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\]]*?)['"]?\]/i,fn:function(k,l){var j=k[2]||"",i=g.Selector.operators,m;if((k[1]==="id"&&j==="=")||(k[1]==="className"&&g.config.doc.documentElement.getElementsByClassName&&(j==="~="||j==="="))){l.prefilter=k[1];l[k[1]]=k[3];}if(j in i){m=i[j];if(typeof m==="string"){k[3]=k[3].replace(g.Selector._reRegExpTokens,"\\$1");m=g.DOM._getRegExp(m.replace("{val}",k[3]));}k[2]=m;}if(!l.last||l.prefilter!==k[1]){return k.slice(1);}}},{name:d,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(j,k){var i=j[1].toUpperCase();k.tagName=i;if(i!=="*"&&(!k.last||k.prefilter)){return[d,"=",i];}if(!k.prefilter){k.prefilter="tagName";}}},{name:a,re:/^\s*([>+~]|\s)\s*/,fn:function(i,j){}},{name:f,re:/^:([\-\w]+)(?:\(['"]?(.+)['"]?\))*/i,fn:function(i,j){var k=c[f][i[1]];if(k){return[i[2],k];}else{return false;}}}],_getToken:function(i){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]};},_tokenize:function(l){l=l||"";l=c._replaceShorthand(g.Lang.trim(l));var k=c._getToken(),q=l,p=[],r=false,n,o,m,j;outer:do{r=false;for(m=0;(j=c._parsers[m++]);){if((n=j.re.exec(l))){if(j.name!==a){k.selector=l;}l=l.replace(n[0],"");if(!l.length){k.last=true;}if(c._attrFilters[n[1]]){n[1]=c._attrFilters[n[1]];}o=j.fn(n,k);if(o===false){r=false;break outer;}else{if(o){k.tests.push(o);}}if(!l.length||j.name===a){p.push(k);k=c._getToken(k);if(j.name===a){k.combinator=g.Selector.combinators[n[1]];}}r=true;}}}while(r&&l.length);if(!r||l.length){p=[];}return p;},_replaceShorthand:function(k){var l=c.shorthand,m=k.match(c._re.attr),p=k.match(c._re.pseudos),o,n,j;if(p){k=k.replace(c._re.pseudos,"!!REPLACED_PSEUDO!!");}if(m){k=k.replace(c._re.attr,"!!REPLACED_ATTRIBUTE!!");}for(o in l){if(l.hasOwnProperty(o)){k=k.replace(g.DOM._getRegExp(o,"gi"),l[o]);}}if(m){for(n=0,j=m.length;n<j;++n){k=k.replace("!!REPLACED_ATTRIBUTE!!",m[n]);}}if(p){for(n=0,j=p.length;n<j;++n){k=k.replace("!!REPLACED_PSEUDO!!",p[n]);}}return k;},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(j,i){return g.DOM.getAttribute(j,i);}}};g.mix(g.Selector,b,true);g.Selector.getters.src=g.Selector.getters.rel=g.Selector.getters.href;if(g.Selector.useNative&&g.config.doc.querySelector){g.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]";}},"3.3.0",{requires:["selector-native"]});YUI.add("selector",function(a){},"3.3.0",{use:["selector-native","selector-css2"]});YUI.add("dom",function(a){},"3.3.0",{use:["dom-base","dom-style","dom-screen","selector"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
var GLOBAL_ENV=YUI.Env;if(!GLOBAL_ENV._ready){GLOBAL_ENV._ready=function(){GLOBAL_ENV.DOMReady=true;GLOBAL_ENV.remove(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready);};GLOBAL_ENV.add(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready);}YUI.add("event-base",function(e){e.publish("domready",{fireOnce:true,async:true});if(GLOBAL_ENV.DOMReady){e.fire("domready");}else{e.Do.before(function(){e.fire("domready");},YUI.Env,"_ready");}var b=e.UA,d={},a={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},c=function(h){if(!h){return h;}try{if(h&&3==h.nodeType){h=h.parentNode;}}catch(g){return null;}return e.one(h);},f=function(g,h,i){this._event=g;this._currentTarget=h;this._wrapper=i||d;this.init();};e.extend(f,Object,{init:function(){var i=this._event,j=this._wrapper.overrides,g=i.pageX,l=i.pageY,k,h=this._currentTarget;this.altKey=i.altKey;this.ctrlKey=i.ctrlKey;this.metaKey=i.metaKey;this.shiftKey=i.shiftKey;this.type=(j&&j.type)||i.type;this.clientX=i.clientX;this.clientY=i.clientY;this.pageX=g;this.pageY=l;k=i.keyCode||i.charCode;if(b.webkit&&(k in a)){k=a[k];}this.keyCode=k;this.charCode=k;this.which=i.which||i.charCode||k;this.button=this.which;this.target=c(i.target);this.currentTarget=c(h);this.relatedTarget=c(i.relatedTarget);if(i.type=="mousewheel"||i.type=="DOMMouseScroll"){this.wheelDelta=(i.detail)?(i.detail*-1):Math.round(i.wheelDelta/80)||((i.wheelDelta<0)?-1:1);}if(this._touch){this._touch(i,h,this._wrapper);}},stopPropagation:function(){this._event.stopPropagation();this._wrapper.stopped=1;this.stopped=1;},stopImmediatePropagation:function(){var g=this._event;if(g.stopImmediatePropagation){g.stopImmediatePropagation();}else{this.stopPropagation();}this._wrapper.stopped=2;this.stopped=2;},preventDefault:function(g){var h=this._event;h.preventDefault();h.returnValue=g||false;this._wrapper.prevented=1;this.prevented=1;},halt:function(g){if(g){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();}});f.resolve=c;e.DOM2EventFacade=f;e.DOMEventFacade=f;(function(){e.Env.evt.dom_wrappers={};e.Env.evt.dom_map={};var o=e.Env.evt,h=e.config,l=h.win,q=YUI.Env.add,j=YUI.Env.remove,n=function(){YUI.Env.windowLoaded=true;e.Event._load();j(l,"load",n);},g=function(){e.Event._unload();},i="domready",k="~yui|2|compat~",m=function(s){try{return(s&&typeof s!=="string"&&e.Lang.isNumber(s.length)&&!s.tagName&&!s.alert);}catch(r){return false;}},p=function(){var t=false,u=0,s=[],v=o.dom_wrappers,r=null,w=o.dom_map;return{POLL_RETRYS:1000,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!p._interval){p._interval=setInterval(p._poll,p.POLL_INTERVAL);}},onAvailable:function(x,B,F,y,C,E){var D=e.Array(x),z,A;for(z=0;z<D.length;z=z+1){s.push({id:D[z],fn:B,obj:F,override:y,checkReady:C,compat:E});}u=this.POLL_RETRYS;setTimeout(p._poll,0);A=new e.EventHandle({_delete:function(){if(A.handle){A.handle.detach();return;}var H,G;for(H=0;H<D.length;H++){for(G=0;G<s.length;G++){if(D[H]===s[G].id){s.splice(G,1);}}}}});return A;},onContentReady:function(B,z,A,y,x){return p.onAvailable(B,z,A,y,true,x);},attach:function(A,z,y,x){return p._attach(e.Array(arguments,0,true));},_createWrapper:function(D,C,x,y,B){var A,E=e.stamp(D),z="event:"+E+C;if(false===B){z+="native";}if(x){z+="capture";}A=v[z];if(!A){A=e.publish(z,{silent:true,bubbles:false,contextFn:function(){if(y){return A.el;}else{A.nodeRef=A.nodeRef||e.one(A.el);return A.nodeRef;}}});A.overrides={};A.el=D;A.key=z;A.domkey=E;A.type=C;A.fn=function(F){A.fire(p.getEvent(F,D,(y||(false===B))));};A.capture=x;if(D==l&&C=="load"){A.fireOnce=true;r=z;}v[z]=A;w[E]=w[E]||{};w[E][z]=A;q(D,C,A.fn,x);}return A;},_attach:function(D,C){var I,K,A,H,x,z=false,B,E=D[0],F=D[1],y=D[2]||l,L=C&&C.facade,J=C&&C.capture,G=C&&C.overrides;if(D[D.length-1]===k){I=true;}if(!F||!F.call){return false;}if(m(y)){K=[];e.each(y,function(N,M){D[2]=N;K.push(p._attach(D,C));});return new e.EventHandle(K);}else{if(e.Lang.isString(y)){if(I){A=e.DOM.byId(y);}else{A=e.Selector.query(y);switch(A.length){case 0:A=null;break;case 1:A=A[0];break;default:D[2]=A;return p._attach(D,C);}}if(A){y=A;}else{B=p.onAvailable(y,function(){B.handle=p._attach(D,C);},p,true,false,I);return B;}}}if(!y){return false;}if(e.Node&&e.instanceOf(y,e.Node)){y=e.Node.getDOMNode(y);}H=p._createWrapper(y,E,J,I,L);if(G){e.mix(H.overrides,G);}if(y==l&&E=="load"){if(YUI.Env.windowLoaded){z=true;}}if(I){D.pop();}x=D[3];B=H._on(F,x,(D.length>4)?D.slice(4):null);if(z){H.fire();}return B;},detach:function(E,F,z,C){var D=e.Array(arguments,0,true),H,A,G,B,x,y;if(D[D.length-1]===k){H=true;}if(E&&E.detach){return E.detach();}if(typeof z=="string"){if(H){z=e.DOM.byId(z);}else{z=e.Selector.query(z);A=z.length;if(A<1){z=null;}else{if(A==1){z=z[0];}}}}if(!z){return false;}if(z.detach){D.splice(2,1);return z.detach.apply(z,D);}else{if(m(z)){G=true;for(B=0,A=z.length;B<A;++B){D[2]=z[B];G=(e.Event.detach.apply(e.Event,D)&&G);}return G;}}if(!E||!F||!F.call){return p.purgeElement(z,false,E);}x="event:"+e.stamp(z)+E;y=v[x];if(y){return y.detach(F);}else{return false;}},getEvent:function(A,y,x){var z=A||l.event;return(x)?z:new e.DOMEventFacade(z,y,v["event:"+e.stamp(y)+A.type]);},generateId:function(x){return e.DOM.generateID(x);},_isValidCollection:m,_load:function(x){if(!t){t=true;if(e.fire){e.fire(i);}p._poll();}},_poll:function(){if(p.locked){return;}if(e.UA.ie&&!YUI.Env.DOMReady){p.startInterval();return;}p.locked=true;var y,x,C,z,B,D,A=!t;if(!A){A=(u>0);}B=[];D=function(G,H){var F,E=H.override;if(H.compat){if(H.override){if(E===true){F=H.obj;}else{F=E;}}else{F=G;}H.fn.call(F,H.obj);}else{F=H.obj||e.one(G);H.fn.apply(F,(e.Lang.isArray(E))?E:[]);}};for(y=0,x=s.length;y<x;++y){C=s[y];if(C&&!C.checkReady){z=(C.compat)?e.DOM.byId(C.id):e.Selector.query(C.id,null,true);if(z){D(z,C);s[y]=null;}else{B.push(C);}}}for(y=0,x=s.length;y<x;++y){C=s[y];if(C&&C.checkReady){z=(C.compat)?e.DOM.byId(C.id):e.Selector.query(C.id,null,true);if(z){if(t||(z.get&&z.get("nextSibling"))||z.nextSibling){D(z,C);
s[y]=null;}}else{B.push(C);}}}u=(B.length===0)?0:u-1;if(A){p.startInterval();}else{clearInterval(p._interval);p._interval=null;}p.locked=false;return;},purgeElement:function(A,x,E){var C=(e.Lang.isString(A))?e.Selector.query(A,null,true):A,G=p.getListeners(C,E),B,D,F,z,y;if(x&&C){G=G||[];z=e.Selector.query("*",C);B=0;D=z.length;for(;B<D;++B){y=p.getListeners(z[B],E);if(y){G=G.concat(y);}}}if(G){B=0;D=G.length;for(;B<D;++B){F=G[B];F.detachAll();j(F.el,F.type,F.fn,F.capture);delete v[F.key];delete w[F.domkey][F.key];}}},getListeners:function(B,A){var C=e.stamp(B,true),x=w[C],z=[],y=(A)?"event:"+C+A:null,D=o.plugins;if(!x){return null;}if(y){if(D[A]&&D[A].eventDef){y+="_synth";}if(x[y]){z.push(x[y]);}y+="native";if(x[y]){z.push(x[y]);}}else{e.each(x,function(F,E){z.push(F);});}return(z.length)?z:null;},_unload:function(x){e.each(v,function(z,y){z.detachAll();j(z.el,z.type,z.fn,z.capture);delete v[y];delete w[z.domkey][y];});j(l,"unload",g);},nativeAdd:q,nativeRemove:j};}();e.Event=p;if(h.injected||YUI.Env.windowLoaded){n();}else{q(l,"load",n);}if(e.UA.ie){e.on(i,p._poll);}q(l,"unload",g);p.Custom=e.CustomEvent;p.Subscriber=e.Subscriber;p.Target=e.EventTarget;p.Handle=e.EventHandle;p.Facade=e.EventFacade;p._poll();})();e.Env.evt.plugins.available={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onAvailable.call(e.Event,k,h,j,g);}};e.Env.evt.plugins.contentready={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onContentReady.call(e.Event,k,h,j,g);}};},"3.3.0",{requires:["event-custom-base"]});YUI.add("event-delegate",function(a){var c=a.Array,h=a.Lang,b=h.isString,i=h.isObject,e=h.isArray,g=a.Selector.test,d=a.Env.evt.handles;function f(u,w,l,k){var s=c(arguments,0,true),t=b(l)?l:null,r,o,j,n,v,m,q,x,p;if(i(u)){x=[];if(e(u)){for(m=0,q=u.length;m<q;++m){s[0]=u[m];x.push(a.delegate.apply(a,s));}}else{s.unshift(null);for(m in u){if(u.hasOwnProperty(m)){s[0]=m;s[1]=u[m];x.push(a.delegate.apply(a,s));}}}return new a.EventHandle(x);}r=u.split(/\|/);if(r.length>1){v=r.shift();u=r.shift();}o=a.Node.DOM_EVENTS[u];if(i(o)&&o.delegate){p=o.delegate.apply(o,arguments);}if(!p){if(!u||!w||!l||!k){return;}j=(t)?a.Selector.query(t,null,true):l;if(!j&&b(l)){p=a.on("available",function(){a.mix(p,a.delegate.apply(a,s),true);},l);}if(!p&&j){s.splice(2,2,j);p=a.Event._attach(s,{facade:false});p.sub.filter=k;p.sub._notify=f.notifySub;}}if(p&&v){n=d[v]||(d[v]={});n=n[u]||(n[u]=[]);n.push(p);}return p;}f.notifySub=function(q,l,p){l=l.slice();if(this.args){l.push.apply(l,this.args);}var o=f._applyFilter(this.filter,l,p),n,m,j,k;if(o){o=c(o);n=l[0]=new a.DOMEventFacade(l[0],p.el,p);n.container=a.one(p.el);for(m=0,j=o.length;m<j&&!n.stopped;++m){n.currentTarget=a.one(o[m]);k=this.fn.apply(this.context||n.currentTarget,l);if(k===false){break;}}return k;}};f.compileFilter=a.cached(function(j){return function(l,k){return g(l._node,j,k.currentTarget._node);};});f._applyFilter=function(n,l,q){var p=l[0],j=q.el,o=p.target||p.srcElement,k=[],m=false;if(o.nodeType===3){o=o.parentNode;}l.unshift(o);if(b(n)){while(o){m=(o===j);if(g(o,n,(m?null:j))){k.push(o);}if(m){break;}o=o.parentNode;}}else{l[0]=a.one(o);l[1]=new a.DOMEventFacade(p,j,q);while(o){if(n.apply(l[0],l)){k.push(o);}if(o===j){break;}o=o.parentNode;l[0]=a.one(o);}l[1]=p;}if(k.length<=1){k=k[0];}l.shift();return k;};a.delegate=a.Event.delegate=f;},"3.3.0",{requires:["node-base"]});YUI.add("event-synthetic",function(b){var h=b.Env.evt.dom_map,d=b.Array,g=b.Lang,j=g.isObject,c=g.isString,e=b.Selector.query,i=function(){};function f(l,k){this.handle=l;this.emitFacade=k;}f.prototype.fire=function(q){var k=d(arguments,0,true),o=this.handle,p=o.evt,m=o.sub,r=m.context,l=m.filter,n=q||{};if(this.emitFacade){if(!q||!q.preventDefault){n=p._getFacade();if(j(q)&&!q.preventDefault){b.mix(n,q,true);k[0]=n;}else{k.unshift(n);}}n.type=p.type;n.details=k.slice();if(l){n.container=p.host;}}else{if(l&&j(q)&&q.currentTarget){k.shift();}}m.context=r||n.currentTarget||p.host;p.fire.apply(p,k);m.context=r;};function a(){this._init.apply(this,arguments);}b.mix(a,{Notifier:f,getRegistry:function(q,p,n){var o=q._node,m=b.stamp(o),l="event:"+m+p+"_synth",k=h[m]||(h[m]={});if(!k[l]&&n){k[l]={type:"_synth",fn:i,capture:false,el:o,key:l,domkey:m,notifiers:[],detachAll:function(){var r=this.notifiers,s=r.length;while(--s>=0){r[s].detach();}}};}return(k[l])?k[l].notifiers:null;},_deleteSub:function(l){if(l&&l.fn){var k=this.eventDef,m=(l.filter)?"detachDelegate":"detach";this.subscribers={};this.subCount=0;k[m](l.node,l,this.notifier,l.filter);k._unregisterSub(l);delete l.fn;delete l.node;delete l.context;}},prototype:{constructor:a,_init:function(){var k=this.publishConfig||(this.publishConfig={});this.emitFacade=("emitFacade" in k)?k.emitFacade:true;k.emitFacade=false;},processArgs:i,on:i,detach:i,delegate:i,detachDelegate:i,_on:function(n,p){var o=[],l=this.processArgs(n,p),k=n[2],r=p?"delegate":"on",m,q;m=(c(k))?e(k):d(k);if(!m.length&&c(k)){q=b.on("available",function(){b.mix(q,b[r].apply(b,n),true);},k);return q;}b.Array.each(m,function(t){var u=n.slice(),s;t=b.one(t);if(t){if(p){s=u.splice(3,1)[0];}u.splice(0,4,u[1],u[3]);if(!this.preventDups||!this.getSubs(t,n,null,true)){q=this._getNotifier(t,u,l,s);this[r](t,q.sub,q.notifier,s);o.push(q);}}},this);return(o.length===1)?o[0]:new b.EventHandle(o);},_getNotifier:function(n,q,o,m){var s=new b.CustomEvent(this.type,this.publishConfig),p=s.on.apply(s,q),r=new f(p,this.emitFacade),l=a.getRegistry(n,this.type,true),k=p.sub;p.notifier=r;k.node=n;k.filter=m;if(o){this.applyArgExtras(o,k);}b.mix(s,{eventDef:this,notifier:r,host:n,currentTarget:n,target:n,el:n._node,_delete:a._deleteSub},true);l.push(p);return p;},applyArgExtras:function(k,l){l._extra=k;},_unregisterSub:function(m){var k=a.getRegistry(m.node,this.type),l;if(k){for(l=k.length-1;l>=0;--l){if(k[l].sub===m){k.splice(l,1);break;}}}},_detach:function(m){var r=m[2],p=(c(r))?e(r):d(r),q,o,k,n,l;m.splice(2,1);
for(o=0,k=p.length;o<k;++o){q=b.one(p[o]);if(q){n=this.getSubs(q,m);if(n){for(l=n.length-1;l>=0;--l){n[l].detach();}}}}},getSubs:function(l,q,k,n){var r=a.getRegistry(l,this.type),s=[],m,p,o;if(r){if(!k){k=this.subMatch;}for(m=0,p=r.length;m<p;++m){o=r[m];if(k.call(this,o.sub,q)){if(n){return o;}else{s.push(r[m]);}}}}return s.length&&s;},subMatch:function(l,k){return !k[1]||l.fn===k[1];}}},true);b.SyntheticEvent=a;b.Event.define=function(m,l,o){if(!l){l={};}var n=(j(m))?m:b.merge({type:m},l),p,k;if(o||!b.Node.DOM_EVENTS[n.type]){p=function(){a.apply(this,arguments);};b.extend(p,a,n);k=new p();m=k.type;b.Node.DOM_EVENTS[m]=b.Env.evt.plugins[m]={eventDef:k,on:function(){return k._on(d(arguments));},delegate:function(){return k._on(d(arguments),true);},detach:function(){return k._detach(d(arguments));}};}return k;};},"3.3.0",{requires:["node-base","event-custom"]});YUI.add("event-mousewheel",function(c){var b="DOMMouseScroll",a=function(e){var d=c.Array(e,0,true),f;if(c.UA.gecko){d[0]=b;f=c.config.win;}else{f=c.config.doc;}if(d.length<3){d[2]=f;}else{d.splice(2,0,f);}return d;};c.Env.evt.plugins.mousewheel={on:function(){return c.Event._attach(a(arguments));},detach:function(){return c.Event.detach.apply(c.Event,a(arguments));}};},"3.3.0",{requires:["node-base"]});YUI.add("event-mouseenter",function(c){function b(h,d){var g=h.currentTarget,f=h.relatedTarget;if(g!==f&&!g.contains(f)){d.fire(h);}}var a={proxyType:"mouseover",on:function(f,d,e){d.onHandle=f.on(this.proxyType,b,null,e);},detach:function(e,d){d.onHandle.detach();},delegate:function(g,e,f,d){e.delegateHandle=c.delegate(this.proxyType,b,g,d,null,f);},detachDelegate:function(e,d){d.delegateHandle.detach();}};c.Event.define("mouseenter",a,true);c.Event.define("mouseleave",c.merge(a,{proxyType:"mouseout"}),true);},"3.3.0",{requires:["event-synthetic"]});YUI.add("event-key",function(a){a.Env.evt.plugins.key={on:function(e,g,b,k,c){var i=a.Array(arguments,0,true),f,j,h,d;f=k&&k.split(":");if(!k||k.indexOf(":")==-1||!f[1]){i[0]="key"+((f&&f[0])||"press");return a.on.apply(a,i);}j=f[0];h=(f[1])?f[1].split(/,|\+/):null;d=(a.Lang.isString(b)?b:a.stamp(b))+k;d=d.replace(/,/g,"_");if(!a.getEvent(d)){a.on(e+j,function(p){var q=false,m=false,n,l,o;for(n=0;n<h.length;n=n+1){l=h[n];o=parseInt(l,10);if(a.Lang.isNumber(o)){if(p.charCode===o){q=true;}else{m=true;}}else{if(q||!m){q=(p[l+"Key"]);m=!q;}}}if(q){a.fire(d,p);}},b);}i.splice(2,2);i[0]=d;return a.on.apply(a,i);}};},"3.3.0",{requires:["node-base"]});YUI.add("event-focus",function(e){var d=e.Event,c=e.Lang,a=c.isString,b=c.isFunction(e.DOM.create('<p onbeforeactivate=";"/>').onbeforeactivate);function f(h,g,j){var i="_"+h+"Notifiers";e.Event.define(h,{_attach:function(l,m,k){if(e.DOM.isWindow(l)){return d._attach([h,function(n){m.fire(n);},l]);}else{return d._attach([g,this._proxy,l,this,m,k],{capture:true});}},_proxy:function(o,s,p){var m=o.target,q=m.getData(i),t=e.stamp(o.currentTarget._node),k=(b||o.target!==o.currentTarget),l=s.handle.sub,r=[m,o].concat(l.args||[]),n;s.currentTarget=(p)?m:o.currentTarget;s.container=(p)?o.currentTarget:null;if(!l.filter||l.filter.apply(m,r)){if(!q){q={};m.setData(i,q);if(k){n=d._attach([j,this._notify,m._node]).sub;n.once=true;}}if(!q[t]){q[t]=[];}q[t].push(s);if(!k){this._notify(o);}}},_notify:function(p,l){var m=p.currentTarget,r=m.getData(i),s=m.get("ownerDocument")||m,q=m,k=[],t,n,o;if(r){while(q&&q!==s){k.push.apply(k,r[e.stamp(q)]||[]);q=q.get("parentNode");}k.push.apply(k,r[e.stamp(s)]||[]);for(n=0,o=k.length;n<o;++n){t=k[n];p.currentTarget=k[n].currentTarget;if(t.container){p.container=t.container;}else{delete p.container;}t.fire(p);}m.clearData(i);}},on:function(m,k,l){k.onHandle=this._attach(m._node,l);},detach:function(l,k){k.onHandle.detach();},delegate:function(n,l,m,k){if(a(k)){l.filter=e.delegate.compileFilter(k);}l.delegateHandle=this._attach(n._node,m,true);},detachDelegate:function(l,k){k.delegateHandle.detach();}},true);}if(b){f("focus","beforeactivate","focusin");f("blur","beforedeactivate","focusout");}else{f("focus","focus","focus");f("blur","blur","blur");}},"3.3.0",{requires:["event-synthetic"]});YUI.add("event-resize",function(a){(function(){var c,b,e="window:resize",d=function(f){if(a.UA.gecko){a.fire(e,f);}else{if(b){b.cancel();}b=a.later(a.config.windowResizeDelay||40,a,function(){a.fire(e,f);});}};a.Env.evt.plugins.windowresize={on:function(h,g){if(!c){c=a.Event._attach(["resize",d]);}var f=a.Array(arguments,0,true);f[0]=e;return a.on.apply(a,f);}};})();},"3.3.0",{requires:["node-base"]});YUI.add("event-hover",function(d){var c=d.Lang.isFunction,b=function(){},a={processArgs:function(e){var f=c(e[2])?2:3;return(c(e[f]))?e.splice(f,1)[0]:b;},on:function(h,f,g,e){f._detach=h[(e)?"delegate":"on"]({mouseenter:d.bind(g.fire,g),mouseleave:f._extra},e);},detach:function(g,e,f){e._detacher.detach();}};a.delegate=a.on;a.detachDelegate=a.detach;d.Event.define("hover",a);},"3.3.0",{requires:["event-mouseenter"]});YUI.add("event",function(a){},"3.3.0",{use:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("pluginhost-base",function(C){var A=C.Lang;function B(){this._plugins={};}B.prototype={plug:function(G,D){var E,H,F;if(A.isArray(G)){for(E=0,H=G.length;E<H;E++){this.plug(G[E]);}}else{if(G&&!A.isFunction(G)){D=G.cfg;G=G.fn;}if(G&&G.NS){F=G.NS;D=D||{};D.host=this;if(this.hasPlugin(F)){this[F].setAttrs(D);}else{this[F]=new G(D);this._plugins[F]=G;}}}return this;},unplug:function(F){var E=F,D=this._plugins;if(F){if(A.isFunction(F)){E=F.NS;if(E&&(!D[E]||D[E]!==F)){E=null;}}if(E){if(this[E]){this[E].destroy();delete this[E];}if(D[E]){delete D[E];}}}else{for(E in this._plugins){if(this._plugins.hasOwnProperty(E)){this.unplug(E);}}}return this;},hasPlugin:function(D){return(this._plugins[D]&&this[D]);},_initPlugins:function(D){this._plugins=this._plugins||{};if(this._initConfigPlugins){this._initConfigPlugins(D);}},_destroyPlugins:function(){this.unplug();}};C.namespace("Plugin").Host=B;},"3.3.0",{requires:["yui-base"]});YUI.add("pluginhost-config",function(C){var B=C.Plugin.Host,A=C.Lang;B.prototype._initConfigPlugins=function(E){var G=(this._getClasses)?this._getClasses():[this.constructor],D=[],H={},F,I,K,L,J;for(I=G.length-1;I>=0;I--){F=G[I];L=F._UNPLUG;if(L){C.mix(H,L,true);}K=F._PLUG;if(K){C.mix(D,K,true);}}for(J in D){if(D.hasOwnProperty(J)){if(!H[J]){this.plug(D[J]);}}}if(E&&E.plugins){this.plug(E.plugins);}};B.plug=function(E,I,G){var J,H,D,F;if(E!==C.Base){E._PLUG=E._PLUG||{};if(!A.isArray(I)){if(G){I={fn:I,cfg:G};}I=[I];}for(H=0,D=I.length;H<D;H++){J=I[H];F=J.NAME||J.fn.NAME;E._PLUG[F]=J;}}};B.unplug=function(E,H){var I,G,D,F;if(E!==C.Base){E._UNPLUG=E._UNPLUG||{};if(!A.isArray(H)){H=[H];}for(G=0,D=H.length;G<D;G++){I=H[G];F=I.NAME;if(!E._PLUG[F]){E._UNPLUG[F]=I;}else{delete E._PLUG[F];}}}};},"3.3.0",{requires:["pluginhost-base"]});YUI.add("pluginhost",function(A){},"3.3.0",{use:["pluginhost-base","pluginhost-config"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("node-base",function(c){var i=".",e="nodeName",m="nodeType",b="ownerDocument",l="tagName",d="_yuid",o=Array.prototype.slice,f=c.DOM,j=function(q){var p=(q.nodeType!==9)?q.uniqueID:q[d];if(p&&j._instances[p]&&j._instances[p]._node!==q){q[d]=null;}p=p||c.stamp(q);if(!p){p=c.guid();}this[d]=p;this._node=q;j._instances[p]=this;this._stateProxy=q;c.EventTarget.call(this,{emitFacade:true});if(this._initPlugins){this._initPlugins();}this.SHOW_TRANSITION=j.SHOW_TRANSITION;this.HIDE_TRANSITION=j.HIDE_TRANSITION;},n=function(q){var p=null;if(q){p=(typeof q=="string")?function(r){return c.Selector.test(r,q);}:function(r){return q(c.one(r));};}return p;};j.NAME="node";j.re_aria=/^(?:role$|aria-)/;j.SHOW_TRANSITION="fadeIn";j.HIDE_TRANSITION="fadeOut";j.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,orientationchange:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1};c.mix(j.DOM_EVENTS,c.Env.evt.plugins);j._instances={};j.getDOMNode=function(p){if(p){return(p.nodeType)?p:p._node||null;}return null;};j.scrubVal=function(q,p){if(q){if(typeof q=="object"||typeof q=="function"){if(m in q||f.isWindow(q)){q=c.one(q);}else{if((q.item&&!q._nodes)||(q[0]&&q[0][m])){q=c.all(q);}}}}else{if(typeof q==="undefined"){q=p;}else{if(q===null){q=null;}}}return q;};j.addMethod=function(p,r,q){if(p&&r&&typeof r=="function"){j.prototype[p]=function(){var t=o.call(arguments),u=this,s;if(t[0]&&c.instanceOf(t[0],j)){t[0]=t[0]._node;}if(t[1]&&c.instanceOf(t[1],j)){t[1]=t[1]._node;}t.unshift(u._node);s=r.apply(u,t);if(s){s=j.scrubVal(s,u);}(typeof s!="undefined")||(s=u);return s;};}else{}};j.importMethod=function(r,p,q){if(typeof p=="string"){q=q||p;j.addMethod(q,r[p],r);}else{c.Array.each(p,function(s){j.importMethod(r,s);});}};j.one=function(s){var p=null,r,q;if(s){if(typeof s=="string"){if(s.indexOf("doc")===0){s=c.config.doc;}else{if(s.indexOf("win")===0){s=c.config.win;}else{s=c.Selector.query(s,null,true);}}if(!s){return null;}}else{if(c.instanceOf(s,j)){return s;}}if(s.nodeType||c.DOM.isWindow(s)){q=(s.uniqueID&&s.nodeType!==9)?s.uniqueID:s._yuid;p=j._instances[q];r=p?p._node:null;if(!p||(r&&s!==r)){p=new j(s);}}}return p;};j.create=function(p,q){if(q&&q._node){q=q._node;}return c.one(f.create(p,q));};j.ATTRS={text:{getter:function(){return f.getText(this._node);},setter:function(p){f.setText(this._node,p);return p;}},"options":{getter:function(){return this._node.getElementsByTagName("option");}},"children":{getter:function(){var s=this._node,r=s.children,t,q,p;if(!r){t=s.childNodes;r=[];for(q=0,p=t.length;q<p;++q){if(t[q][l]){r[r.length]=t[q];}}}return c.all(r);}},value:{getter:function(){return f.getValue(this._node);},setter:function(p){f.setValue(this._node,p);return p;}}};j.DEFAULT_SETTER=function(p,r){var q=this._stateProxy,s;if(p.indexOf(i)>-1){s=p;p=p.split(i);c.Object.setValue(q,p,r);}else{if(typeof q[p]!="undefined"){q[p]=r;}}return r;};j.DEFAULT_GETTER=function(p){var q=this._stateProxy,r;if(p.indexOf&&p.indexOf(i)>-1){r=c.Object.getValue(q,p.split(i));}else{if(typeof q[p]!="undefined"){r=q[p];}}return r;};c.mix(j,c.EventTarget,false,null,1);c.mix(j.prototype,{toString:function(){var s=this[d]+": not bound to a node",r=this._node,p,t,q;if(r){p=r.attributes;t=(p&&p.id)?r.getAttribute("id"):null;q=(p&&p.className)?r.getAttribute("className"):null;s=r[e];if(t){s+="#"+t;}if(q){s+="."+q.replace(" ",".");}s+=" "+this[d];}return s;},get:function(p){var q;if(this._getAttr){q=this._getAttr(p);}else{q=this._get(p);}if(q){q=j.scrubVal(q,this);}else{if(q===null){q=null;}}return q;},_get:function(p){var q=j.ATTRS[p],r;if(q&&q.getter){r=q.getter.call(this);}else{if(j.re_aria.test(p)){r=this._node.getAttribute(p,2);}else{r=j.DEFAULT_GETTER.apply(this,arguments);}}return r;},set:function(p,r){var q=j.ATTRS[p];if(this._setAttr){this._setAttr.apply(this,arguments);}else{if(q&&q.setter){q.setter.call(this,r,p);}else{if(j.re_aria.test(p)){this._node.setAttribute(p,r);}else{j.DEFAULT_SETTER.apply(this,arguments);}}}return this;},setAttrs:function(p){if(this._setAttrs){this._setAttrs(p);}else{c.Object.each(p,function(q,r){this.set(r,q);},this);}return this;},getAttrs:function(q){var p={};if(this._getAttrs){this._getAttrs(q);}else{c.Array.each(q,function(r,s){p[r]=this.get(r);},this);}return p;},create:j.create,compareTo:function(p){var q=this._node;if(c.instanceOf(p,j)){p=p._node;}return q===p;},inDoc:function(q){var p=this._node;q=(q)?q._node||q:p[b];if(q.documentElement){return f.contains(q.documentElement,p);}},getById:function(r){var q=this._node,p=f.byId(r,q[b]);if(p&&f.contains(q,p)){p=c.one(p);}else{p=null;}return p;},ancestor:function(p,q){return c.one(f.ancestor(this._node,n(p),q));},ancestors:function(p,q){return c.all(f.ancestors(this._node,n(p),q));},previous:function(q,p){return c.one(f.elementByAxis(this._node,"previousSibling",n(q),p));},next:function(q,p){return c.one(f.elementByAxis(this._node,"nextSibling",n(q),p));},siblings:function(p){return c.all(f.siblings(this._node,n(p)));},one:function(p){return c.one(c.Selector.query(p,this._node,true));},all:function(p){var q=c.all(c.Selector.query(p,this._node));q._query=p;q._queryRoot=this._node;return q;},test:function(p){return c.Selector.test(this._node,p);},remove:function(q){var r=this._node,p=r.parentNode;if(p){p.removeChild(r);}if(q){this.destroy();}return this;},replace:function(p){var q=this._node;if(typeof p=="string"){p=j.create(p);}q.parentNode.replaceChild(j.getDOMNode(p),q);return this;},replaceChild:function(q,p){if(typeof q=="string"){q=f.create(q);}return c.one(this._node.replaceChild(j.getDOMNode(q),j.getDOMNode(p)));},appendChild:function(p){return j.scrubVal(this._insert(p));},insertBefore:function(q,p){return c.Node.scrubVal(this._insert(q,p));
},purge:function(q,p){c.Event.purgeElement(this._node,q,p);return this;},destroy:function(p){this.purge();if(this.unplug){this.unplug();}this.clearData();if(p){this.all("*").destroy();}this._node=null;this._stateProxy=null;delete j._instances[this[d]];},invoke:function(w,q,p,v,u,t){var s=this._node,r;if(q&&c.instanceOf(q,j)){q=q._node;}if(p&&c.instanceOf(p,j)){p=p._node;}r=s[w](q,p,v,u,t);return j.scrubVal(r,this);},insert:function(q,p){this._insert(q,p);return this;},_insert:function(s,q){var r=this._node,p=null;if(typeof q=="number"){q=this._node.childNodes[q];}else{if(q&&q._node){q=q._node;}}if(s&&typeof s!="string"){s=s._node||s._nodes||s;}p=f.addHTML(r,s,q);return p;},prepend:function(p){return this.insert(p,0);},append:function(p){return this.insert(p,null);},appendTo:function(p){c.one(p).append(this);return this;},setContent:function(p){this._insert(p,"replace");return this;},getContent:function(p){return this.get("innerHTML");},swap:c.config.doc.documentElement.swapNode?function(p){this._node.swapNode(j.getDOMNode(p));}:function(p){p=j.getDOMNode(p);var r=this._node,q=p.parentNode,s=p.nextSibling;if(s===r){q.insertBefore(r,p);}else{if(p===r.nextSibling){q.insertBefore(p,r);}else{r.parentNode.replaceChild(p,r);f.addHTML(q,r,s);}}return this;},getData:function(q){var p;this._data=this._data||{};if(arguments.length){p=this._data[q];}else{p=this._data;}return p;},setData:function(p,q){this._data=this._data||{};if(arguments.length>1){this._data[p]=q;}else{this._data=p;}return this;},clearData:function(p){if("_data" in this){if(p){delete this._data[p];}else{delete this._data;}}return this;},hasMethod:function(q){var p=this._node;return !!(p&&q in p&&typeof p[q]!="unknown"&&(typeof p[q]=="function"||String(p[q]).indexOf("function")===1));},SHOW_TRANSITION:null,HIDE_TRANSITION:null,show:function(p){p=arguments[arguments.length-1];this.toggleView(true,p);return this;},_show:function(){this.setStyle("display","");},_isHidden:function(){return c.DOM.getStyle(this._node,"display")==="none";},toggleView:function(p,q){this._toggleView.apply(this,arguments);},_toggleView:function(p,q){q=arguments[arguments.length-1];if(typeof p!="boolean"){p=(this._isHidden())?1:0;}if(p){this._show();}else{this._hide();}if(typeof q=="function"){q.call(this);}return this;},hide:function(p){p=arguments[arguments.length-1];this.toggleView(false,p);return this;},_hide:function(){this.setStyle("display","none");},isFragment:function(){return(this.get("nodeType")===11);},empty:function(p){this.get("childNodes").remove(p);return this;}},true);c.Node=j;c.one=c.Node.one;var a=function(p){var q=[];if(typeof p==="string"){this._query=p;p=c.Selector.query(p);}else{if(p.nodeType||f.isWindow(p)){p=[p];}else{if(c.instanceOf(p,c.Node)){p=[p._node];}else{if(c.instanceOf(p[0],c.Node)){c.Array.each(p,function(r){if(r._node){q.push(r._node);}});p=q;}else{p=c.Array(p,0,true);}}}}this._nodes=p;};a.NAME="NodeList";a.getDOMNodes=function(p){return(p&&p._nodes)?p._nodes:p;};a.each=function(p,s,r){var q=p._nodes;if(q&&q.length){c.Array.each(q,s,r||p);}else{}};a.addMethod=function(p,r,q){if(p&&r){a.prototype[p]=function(){var t=[],s=arguments;c.Array.each(this._nodes,function(y){var x=(y.uniqueID&&y.nodeType!==9)?"uniqueID":"_yuid",v=c.Node._instances[y[x]],w,u;if(!v){v=a._getTempNode(y);}w=q||v;u=r.apply(w,s);if(u!==undefined&&u!==v){t[t.length]=u;}});return t.length?t:this;};}else{}};a.importMethod=function(r,p,q){if(typeof p==="string"){q=q||p;a.addMethod(p,r[p]);}else{c.Array.each(p,function(s){a.importMethod(r,s);});}};a._getTempNode=function(q){var p=a._tempNode;if(!p){p=c.Node.create("<div></div>");a._tempNode=p;}p._node=q;p._stateProxy=q;return p;};c.mix(a.prototype,{item:function(p){return c.one((this._nodes||[])[p]);},each:function(r,q){var p=this;c.Array.each(this._nodes,function(t,s){t=c.one(t);return r.call(q||t,t,s,p);});return p;},batch:function(q,p){var r=this;c.Array.each(this._nodes,function(u,t){var s=c.Node._instances[u[d]];if(!s){s=a._getTempNode(u);}return q.call(p||s,s,t,r);});return r;},some:function(r,q){var p=this;return c.Array.some(this._nodes,function(t,s){t=c.one(t);q=q||t;return r.call(q,t,s,p);});},toFrag:function(){return c.one(c.DOM._nl2frag(this._nodes));},indexOf:function(p){return c.Array.indexOf(this._nodes,c.Node.getDOMNode(p));},filter:function(p){return c.all(c.Selector.filter(this._nodes,p));},modulus:function(s,q){q=q||0;var p=[];a.each(this,function(t,r){if(r%s===q){p.push(t);}});return c.all(p);},odd:function(){return this.modulus(2,1);},even:function(){return this.modulus(2);},destructor:function(){},refresh:function(){var s,q=this._nodes,r=this._query,p=this._queryRoot;if(r){if(!p){if(q&&q[0]&&q[0].ownerDocument){p=q[0].ownerDocument;}}this._nodes=c.Selector.query(r,p);}return this;},_prepEvtArgs:function(s,r,q){var p=c.Array(arguments,0,true);if(p.length<2){p[2]=this._nodes;}else{p.splice(2,0,this._nodes);}p[3]=q||this;return p;},on:function(r,q,p){return c.on.apply(c,this._prepEvtArgs.apply(this,arguments));},once:function(r,q,p){return c.once.apply(c,this._prepEvtArgs.apply(this,arguments));},after:function(r,q,p){return c.after.apply(c,this._prepEvtArgs.apply(this,arguments));},size:function(){return this._nodes.length;},isEmpty:function(){return this._nodes.length<1;},toString:function(){var s="",r=this[d]+": not bound to any nodes",p=this._nodes,q;if(p&&p[0]){q=p[0];s+=q[e];if(q.id){s+="#"+q.id;}if(q.className){s+="."+q.className.replace(" ",".");}if(p.length>1){s+="...["+p.length+" items]";}}return s||r;}},true);a.importMethod(c.Node.prototype,["append","destroy","detach","detachAll","empty","insert","prepend","remove","set","setContent","show","hide","toggleView"]);a.prototype.get=function(q){var t=[],s=this._nodes,r=false,u=a._getTempNode,p,v;if(s[0]){p=c.Node._instances[s[0]._yuid]||u(s[0]);v=p._get(q);if(v&&v.nodeType){r=true;}}c.Array.each(s,function(w){p=c.Node._instances[w._yuid];if(!p){p=u(w);}v=p._get(q);if(!r){v=c.Node.scrubVal(v,p);}t.push(v);});return(r)?c.all(t):t;};c.NodeList=a;
c.all=function(p){return new a(p);};c.Node.all=c.all;c.Array.each(["removeChild","hasChildNodes","cloneNode","hasAttribute","removeAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select","createCaption"],function(p){c.Node.prototype[p]=function(t,r,q){var s=this.invoke(p,t,r,q);return s;};});c.Node.importMethod(c.DOM,["contains","setAttribute","getAttribute","wrap","unwrap","generateID"]);c.NodeList.importMethod(c.Node.prototype,["getAttribute","setAttribute","removeAttribute","unwrap","wrap","generateID"]);(function(q){var p=["hasClass","addClass","removeClass","replaceClass","toggleClass"];q.Node.importMethod(q.DOM,p);q.NodeList.importMethod(q.Node.prototype,p);})(c);if(!c.config.doc.documentElement.hasAttribute){c.Node.prototype.hasAttribute=function(p){if(p==="value"){if(this.get("value")!==""){return true;}}return !!(this._node.attributes[p]&&this._node.attributes[p].specified);};}c.Node.prototype.focus=function(){try{this._node.focus();}catch(p){}};c.Node.ATTRS.type={setter:function(q){if(q==="hidden"){try{this._node.type="hidden";}catch(p){this.setStyle("display","none");this._inputType="hidden";}}else{try{this._node.type=q;}catch(p){}}return q;},getter:function(){return this._inputType||this._node.type;},_bypassProxy:true};if(c.config.doc.createElement("form").elements.nodeType){c.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select");}};}c.mix(c.Node.ATTRS,{offsetHeight:{setter:function(p){c.DOM.setHeight(this._node,p);return p;},getter:function(){return this._node.offsetHeight;}},offsetWidth:{setter:function(p){c.DOM.setWidth(this._node,p);return p;},getter:function(){return this._node.offsetWidth;}}});c.mix(c.Node.prototype,{sizeTo:function(p,q){var r;if(arguments.length<2){r=c.one(p);p=r.get("offsetWidth");q=r.get("offsetHeight");}this.setAttrs({offsetWidth:p,offsetHeight:q});}});var k=c.NodeList,h=Array.prototype,g=["concat","pop","push","shift","slice","splice","unshift"];c.Array.each(g,function(p){k.prototype[p]=function(){var r=[],s=0,q;while((q=arguments[s++])){r.push(q._node||q._nodes||q);}return c.Node.scrubVal(h[p].apply(this._nodes,r));};});},"3.3.0",{requires:["dom-base","selector-css2","event-base"]});YUI.add("node-style",function(a){(function(c){var b=["getStyle","getComputedStyle","setStyle","setStyles"];c.Node.importMethod(c.DOM,b);c.NodeList.importMethod(c.Node.prototype,b);})(a);},"3.3.0",{requires:["dom-style","node-base"]});YUI.add("node-screen",function(a){a.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(b){a.Node.ATTRS[b]={getter:function(){var c=Array.prototype.slice.call(arguments);c.unshift(a.Node.getDOMNode(this));return a.DOM[b].apply(this,c);}};});a.Node.ATTRS.scrollLeft={getter:function(){var b=a.Node.getDOMNode(this);return("scrollLeft" in b)?b.scrollLeft:a.DOM.docScrollX(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollLeft" in b){b.scrollLeft=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(c,a.DOM.docScrollY(b));}}}else{}}};a.Node.ATTRS.scrollTop={getter:function(){var b=a.Node.getDOMNode(this);return("scrollTop" in b)?b.scrollTop:a.DOM.docScrollY(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollTop" in b){b.scrollTop=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(a.DOM.docScrollX(b),c);}}}else{}}};a.Node.importMethod(a.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]);a.Node.ATTRS.region={getter:function(){var b=a.Node.getDOMNode(this),c;if(b&&!b.tagName){if(b.nodeType===9){b=b.documentElement;}}if(b.alert){c=a.DOM.viewportRegion(b);}else{c=a.DOM.region(b);}return c;}};a.Node.ATTRS.viewportRegion={getter:function(){return a.DOM.viewportRegion(a.Node.getDOMNode(this));}};a.Node.importMethod(a.DOM,"inViewportRegion");a.Node.prototype.intersect=function(b,d){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.intersect(c,b,d);};a.Node.prototype.inRegion=function(b,d,e){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.inRegion(c,b,d,e);};},"3.3.0",{requires:["dom-screen"]});YUI.add("node-pluginhost",function(a){a.Node.plug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.plug.apply(a.Base,b);return a.Node;};a.Node.unplug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.unplug.apply(a.Base,b);return a.Node;};a.mix(a.Node,a.Plugin.Host,false,null,1);a.NodeList.prototype.plug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.plug.apply(a.one(c),b);});};a.NodeList.prototype.unplug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.unplug.apply(a.one(c),b);});};},"3.3.0",{requires:["node-base","pluginhost"]});YUI.add("node-event-delegate",function(a){a.Node.prototype.delegate=function(d){var c=a.Array(arguments,0,true),b=(a.Lang.isObject(d)&&!a.Lang.isArray(d))?1:2;c.splice(b,0,this._node);return a.delegate.apply(a,c);};},"3.3.0",{requires:["node-base","event-delegate"]});YUI.add("node",function(a){},"3.3.0",{requires:["dom","event-base","event-delegate","pluginhost"],use:["node-base","node-style","node-screen","node-pluginhost","node-event-delegate"],skinnable:false});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("cookie",function(C){var K=C.Lang,I=C.Object,G=null,D=K.isString,P=K.isObject,F=K.isUndefined,E=K.isFunction,H=encodeURIComponent,B=decodeURIComponent,N=C.config.doc;function J(L){throw new TypeError(L);}function M(L){if(!D(L)||L===""){J("Cookie name must be a non-empty string.");}}function A(L){if(!D(L)||L===""){J("Subcookie name must be a non-empty string.");}}C.Cookie={_createCookieString:function(Q,T,R,O){O=O||{};var V=H(Q)+"="+(R?H(T):T),L=O.expires,U=O.path,S=O.domain;if(P(O)){if(L instanceof Date){V+="; expires="+L.toUTCString();}if(D(U)&&U!==""){V+="; path="+U;}if(D(S)&&S!==""){V+="; domain="+S;}if(O.secure===true){V+="; secure";}}return V;},_createCookieHashString:function(L){if(!P(L)){J("Cookie._createCookieHashString(): Argument must be an object.");}var O=[];I.each(L,function(R,Q){if(!E(R)&&!F(R)){O.push(H(Q)+"="+H(String(R)));}});return O.join("&");},_parseCookieHash:function(S){var R=S.split("&"),T=G,Q={};if(S.length){for(var O=0,L=R.length;O<L;O++){T=R[O].split("=");Q[B(T[0])]=B(T[1]);}}return Q;},_parseCookieString:function(W,Y){var X={};if(D(W)&&W.length>0){var L=(Y===false?function(Z){return Z;}:B),U=W.split(/;\s/g),V=G,O=G,R=G;for(var Q=0,S=U.length;Q<S;Q++){R=U[Q].match(/([^=]+)=/i);if(R instanceof Array){try{V=B(R[1]);O=L(U[Q].substring(R[1].length+1));}catch(T){}}else{V=B(U[Q]);O="";}X[V]=O;}}return X;},_setDoc:function(L){N=L;},exists:function(L){M(L);var O=this._parseCookieString(N.cookie,true);return O.hasOwnProperty(L);},get:function(O,L){M(O);var S,Q,R;if(E(L)){R=L;L={};}else{if(P(L)){R=L.converter;}else{L={};}}S=this._parseCookieString(N.cookie,!L.raw);Q=S[O];if(F(Q)){return G;}if(!E(R)){return Q;}else{return R(Q);}},getSub:function(L,Q,O){var R=this.getSubs(L);if(R!==G){A(Q);if(F(R[Q])){return G;}if(!E(O)){return R[Q];}else{return O(R[Q]);}}else{return G;}},getSubs:function(L){M(L);var O=this._parseCookieString(N.cookie,false);if(D(O[L])){return this._parseCookieHash(O[L]);}return G;},remove:function(O,L){M(O);L=C.merge(L||{},{expires:new Date(0)});return this.set(O,"",L);},removeSub:function(O,S,L){M(O);A(S);L=L||{};var R=this.getSubs(O);if(P(R)&&R.hasOwnProperty(S)){delete R[S];if(!L.removeIfEmpty){return this.setSubs(O,R,L);}else{for(var Q in R){if(R.hasOwnProperty(Q)&&!E(R[Q])&&!F(R[Q])){return this.setSubs(O,R,L);}}return this.remove(O,L);}}else{return"";}},set:function(O,Q,L){M(O);if(F(Q)){J("Cookie.set(): Value cannot be undefined.");}L=L||{};var R=this._createCookieString(O,Q,!L.raw,L);N.cookie=R;return R;},setSub:function(O,R,Q,L){M(O);A(R);if(F(Q)){J("Cookie.setSub(): Subcookie value cannot be undefined.");}var S=this.getSubs(O);if(!P(S)){S={};}S[R]=Q;return this.setSubs(O,S,L);},setSubs:function(O,Q,L){M(O);if(!P(Q)){J("Cookie.setSubs(): Cookie value must be an object.");}var R=this._createCookieString(O,this._createCookieHashString(Q),false,L);N.cookie=R;return R;}};},"3.3.0",{requires:["yui-base"]});
YUI.namespace('Y.Modernizr');YUI.add('trip-modernizr',function(Y){Y.Modernizr={input:{}};if("placeholder"in document.createElement("input")){Y.Modernizr.input.placeholder=true;}else{Y.Modernizr.input.placeholder=false;}},'',{requires:['node-base']});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("json-parse",function(B){function K(Q){return(B.config.win||this||{})[Q];}var I=K("JSON"),J=K("eval"),L=(Object.prototype.toString.call(I)==="[object JSON]"&&I),E=!!L,O=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,M=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,D=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,F=/(?:^|:|,)(?:\s*\[)+/g,P=/[^\],:{}\s]/,N=function(Q){return"\\u"+("0000"+(+(Q.charCodeAt(0))).toString(16)).slice(-4);},C=function(S,Q){var R=function(X,V){var U,T,W=X[V];if(W&&typeof W==="object"){for(U in W){if(W.hasOwnProperty(U)){T=R(W,U);if(T===undefined){delete W[U];}else{W[U]=T;}}}}return Q.call(X,V,W);};return typeof Q==="function"?R({"":S},""):S;},G=function(R,Q){R=R.replace(O,N);if(!P.test(R.replace(M,"@").replace(D,"]").replace(F,""))){return C(J("("+R+")"),Q);}throw new SyntaxError("JSON.parse");};B.namespace("JSON").parse=function(R,Q){if(typeof R!=="string"){R+="";}return L&&B.JSON.useNativeParse?L.parse(R,Q):G(R,Q);};function A(R,Q){return R==="ok"?true:Q;}if(L){try{E=(L.parse('{"ok":false}',A)).ok;}catch(H){E=false;}}B.JSON.useNativeParse=E;},"3.3.0");YUI.add("json-stringify",function(B){var I=(B.config.win||{}).JSON,k=B.Lang,M=k.isFunction,f=k.isObject,R=k.isArray,J=Object.prototype.toString,Z=(J.call(I)==="[object JSON]"&&I),c=!!Z,a="undefined",O="object",W="null",i="string",X="number",S="boolean",K="date",b={"undefined":a,"string":i,"[object String]":i,"number":X,"[object Number]":X,"boolean":S,"[object Boolean]":S,"[object Date]":K,"[object RegExp]":O},F="",N="{",A="}",U="[",H="]",P=",",C=",\n",L="\n",d=":",G=": ",Q='"',E=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,D={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function l(e){var Y=typeof e;return b[Y]||b[J.call(e)]||(Y===O?(e?O:W):a);}function h(Y){if(!D[Y]){D[Y]="\\u"+("0000"+(+(Y.charCodeAt(0))).toString(16)).slice(-4);}return D[Y];}function T(Y){return Q+Y.replace(E,h)+Q;}function V(Y,e){return Y.replace(/^/gm,e);}function g(e,u,Y){if(e===undefined){return undefined;}var n=M(u)?u:null,t=J.call(Y).match(/String|Number/)||[],v=B.JSON.dateToString,s=[],q,p,r;if(n||!R(u)){u=undefined;}if(u){q={};for(p=0,r=u.length;p<r;++p){q[u[p]]=true;}u=q;}Y=t[0]==="Number"?new Array(Math.min(Math.max(0,Y),10)+1).join(" "):(Y||F).slice(0,10);function m(x,AD){var AB=x[AD],AF=l(AB),AA=[],z=Y?G:d,y,w,AE,o,AC;if(f(AB)&&M(AB.toJSON)){AB=AB.toJSON(AD);}else{if(AF===K){AB=v(AB);}}if(M(n)){AB=n.call(x,AD,AB);}if(AB!==x[AD]){AF=l(AB);}switch(AF){case K:case O:break;case i:return T(AB);case X:return isFinite(AB)?AB+F:W;case S:return AB+F;case W:return W;default:return undefined;}for(w=s.length-1;w>=0;--w){if(s[w]===AB){throw new Error("JSON.stringify. Cyclical reference");}}y=R(AB);s.push(AB);if(y){for(w=AB.length-1;w>=0;--w){AA[w]=m(AB,w)||W;}}else{AE=u||AB;w=0;for(o in AE){if(AE.hasOwnProperty(o)){AC=m(AB,o);if(AC){AA[w++]=T(o)+z+AC;}}}}s.pop();if(Y&&AA.length){return y?U+L+V(AA.join(C),Y)+L+H:N+L+V(AA.join(C),Y)+L+A;}else{return y?U+AA.join(P)+H:N+AA.join(P)+A;}}return m({"":e},"");}if(Z){try{c=("0"===Z.stringify(0));}catch(j){c=false;}}B.mix(B.namespace("JSON"),{useNativeStringify:c,dateToString:function(e){function Y(m){return m<10?"0"+m:m;}return e.getUTCFullYear()+"-"+Y(e.getUTCMonth()+1)+"-"+Y(e.getUTCDate())+"T"+Y(e.getUTCHours())+d+Y(e.getUTCMinutes())+d+Y(e.getUTCSeconds())+"Z";},stringify:function(m,Y,e){return Z&&B.JSON.useNativeStringify?Z.stringify(m,Y,e):g(m,Y,e);}});},"3.3.0");YUI.add("json",function(A){},"3.3.0",{use:["json-parse","json-stringify"]});YUI.add('trip-storage-lite',function(Y){var d=Y.config.doc,w=Y.config.win,JSON=Y.JSON,StorageLite=Y.namespace('StorageLite'),DB_NAME='yui_storage_lite',DB_DISPLAYNAME='YUI StorageLite data',DB_MAXSIZE=1048576,DB_VERSION='1.0',EVT_READY='ready',MODE_NOOP=0,MODE_HTML5=1,MODE_GECKO=2,MODE_DB=3,MODE_USERDATA=4,USERDATA_PATH='yui_storage_lite',USERDATA_NAME='data',data={},storageDriver,storageMode;if(w.localStorage){storageMode=MODE_HTML5}else if(w.globalStorage){storageMode=MODE_GECKO}else if(w.openDatabase&&navigator.userAgent.indexOf('Chrome')===-1){storageMode=MODE_DB}else if(Y.UA.ie>=5){storageMode=MODE_USERDATA}else{storageMode=MODE_NOOP}Y.StorageFullError=function(message){Y.StorageFullError.superclass.constructor.call(message);this.name='StorageFullError';this.message=message||'Maximum storage capacity reached';if(Y.UA.ie){this.description=this.message}};Y.extend(Y.StorageFullError,Error);Y.augment(StorageLite,Y.EventTarget,true,null,{emitFacade:true,prefix:'storage-lite',preventable:false});StorageLite.publish(EVT_READY,{fireOnce:true});Y.mix(StorageLite,{clear:function(){},getItem:function(key,json){return null},length:function(){return 0},removeItem:function(key){},setItem:function(key,value){}});if(storageMode===MODE_HTML5||storageMode===MODE_GECKO){Y.mix(StorageLite,{length:function(){return storageDriver.length},removeItem:function(key){storageDriver.removeItem(key)},setItem:function(key,value,json){storageDriver.setItem(key,json?JSON.stringify(value):value)}},true);if(storageMode===MODE_HTML5){storageDriver=w.localStorage;Y.mix(StorageLite,{clear:function(){storageDriver.clear()},getItem:function(key,json){try{return json?JSON.parse(storageDriver.getItem(key)):storageDriver.getItem(key)}catch(ex){return null}}},true)}else if(storageMode===MODE_GECKO){storageDriver=w.globalStorage[w.location.hostname];Y.mix(StorageLite,{clear:function(){for(var key in storageDriver){if(storageDriver.hasOwnProperty(key)){storageDriver.removeItem(key);delete storageDriver[key]}}},getItem:function(key,json){try{return json?JSON.parse(storageDriver[key].value):storageDriver[key].value}catch(ex){return null}}},true)}StorageLite.fire(EVT_READY)}else if(storageMode===MODE_DB||storageMode===MODE_USERDATA){Y.mix(StorageLite,{clear:function(){data={};StorageLite._save()},getItem:function(key,json){return data.hasOwnProperty(key)?data[key]:null},length:function(){var count=0,key;for(key in data){if(data.hasOwnProperty(key)){count+=1}}return count},removeItem:function(key){delete data[key];StorageLite._save()},setItem:function(key,value,json){data[key]=value;StorageLite._save()}},true);if(storageMode===MODE_DB){storageDriver=w.openDatabase(DB_NAME,DB_VERSION,DB_DISPLAYNAME,DB_MAXSIZE);Y.mix(StorageLite,{_save:function(){storageDriver.transaction(function(t){t.executeSql("REPLACE INTO "+DB_NAME+" (name, value) VALUES ('data', ?)",[JSON.stringify(data)])})}},true);storageDriver.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+DB_NAME+"(name TEXT PRIMARY KEY, value TEXT NOT NULL)");t.executeSql("SELECT value FROM "+DB_NAME+" WHERE name = 'data'",[],function(t,results){if(results.rows.length){try{data=JSON.parse(results.rows.item(0).value)}catch(ex){data={}}}StorageLite.fire(EVT_READY)})})}else if(storageMode===MODE_USERDATA){storageDriver=d.createElement('span');storageDriver.addBehavior('#default#userData');Y.mix(StorageLite,{_save:function(){var _data=JSON.stringify(data);try{storageDriver.setAttribute(USERDATA_NAME,_data);storageDriver.save(USERDATA_PATH)}catch(ex){}}},true);Y.on('domready',function(){d.body.appendChild(storageDriver);try{storageDriver.load(USERDATA_PATH);data=JSON.parse(storageDriver.getAttribute(USERDATA_NAME)||'{}')}catch(ex){data={}}StorageLite.fire(EVT_READY)})}}else{StorageLite.fire(EVT_READY)}},'gallery-2010.12.01-21-32',{requires:['event-base','event-custom','event-custom-complex','json']});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("attribute-base",function(c){c.State=function(){this.data={};};c.State.prototype={add:function(B,C,E){var D=this.data;D[C]=D[C]||{};D[C][B]=E;},addAll:function(B,D){var C;for(C in D){if(D.hasOwnProperty(C)){this.add(B,C,D[C]);}}},remove:function(B,C){var D=this.data;if(D[C]&&(B in D[C])){delete D[C][B];}},removeAll:function(B,D){var C=this.data;c.each(D||C,function(F,E){if(c.Lang.isString(E)){this.remove(B,E);}else{this.remove(B,F);}},this);},get:function(B,C){var D=this.data;return(D[C]&&B in D[C])?D[C][B]:undefined;},getAll:function(B){var D=this.data,C;c.each(D,function(F,E){if(B in D[E]){C=C||{};C[E]=F[B];}},this);return C;}};var k=c.Object,f=c.Lang,l=c.EventTarget,w=".",t="Change",n="getter",m="setter",o="readOnly",x="writeOnce",u="initOnly",A="validator",h="value",p="valueFn",e="broadcast",r="lazyAdd",j="_bypassProxy",z="added",b="initializing",i="initValue",v="published",s="defaultValue",a="lazy",q="isLazyAdd",g,y={};y[o]=1;y[x]=1;y[n]=1;y[e]=1;function d(){var D=this,B=this.constructor.ATTRS,C=c.Base;D._ATTR_E_FACADE={};l.call(D,{emitFacade:true});D._conf=D._state=new c.State();D._stateProxy=D._stateProxy||null;D._requireAddAttr=D._requireAddAttr||false;if(B&&!(C&&c.instanceOf(D,C))){D.addAttrs(this._protectAttrs(B));}}d.INVALID_VALUE={};g=d.INVALID_VALUE;d._ATTR_CFG=[m,n,A,h,p,x,o,r,e,j];d.prototype={addAttr:function(C,B,E){var F=this,H=F._state,G,D;E=(r in B)?B[r]:E;if(E&&!F.attrAdded(C)){H.add(C,a,B||{});H.add(C,z,true);}else{if(!F.attrAdded(C)||H.get(C,q)){B=B||{};D=(h in B);if(D){G=B.value;delete B.value;}B.added=true;B.initializing=true;H.addAll(C,B);if(D){F.set(C,G);}H.remove(C,b);}}return F;},attrAdded:function(B){return !!this._state.get(B,z);},modifyAttr:function(C,B){var D=this,F,E;if(D.attrAdded(C)){if(D._isLazyAttr(C)){D._addLazyAttr(C);}E=D._state;for(F in B){if(y[F]&&B.hasOwnProperty(F)){E.add(C,F,B[F]);if(F===e){E.remove(C,v);}}}}},removeAttr:function(B){this._state.removeAll(B);},get:function(B){return this._getAttr(B);},_isLazyAttr:function(B){return this._state.get(B,a);},_addLazyAttr:function(C){var D=this._state,B=D.get(C,a);D.add(C,q,true);D.remove(C,a);this.addAttr(C,B);},set:function(B,D,C){return this._setAttr(B,D,C);},reset:function(B){var D=this,C;if(B){if(D._isLazyAttr(B)){D._addLazyAttr(B);}D.set(B,D._state.get(B,i));}else{C=D._state.data.added;c.each(C,function(E,F){D.reset(F);},D);}return D;},_set:function(B,D,C){return this._setAttr(B,D,C,true);},_getAttr:function(D){var E=this,I=D,F=E._state,G,B,H,C;if(D.indexOf(w)!==-1){G=D.split(w);D=G.shift();}if(E._tCfgs&&E._tCfgs[D]){C={};C[D]=E._tCfgs[D];delete E._tCfgs[D];E._addAttrs(C,E._tVals);}if(E._isLazyAttr(D)){E._addLazyAttr(D);}H=E._getStateVal(D);B=F.get(D,n);if(B&&!B.call){B=this[B];}H=(B)?B.call(E,H,I):H;H=(G)?k.getValue(H,G):H;return H;},_setAttr:function(D,G,B,E){var K=true,C=this._state,H=this._stateProxy,M=C.data,J,N,O,F,I,L;if(D.indexOf(w)!==-1){N=D;O=D.split(w);D=O.shift();}if(this._isLazyAttr(D)){this._addLazyAttr(D);}J=(!M.value||!(D in M.value));if(H&&D in H&&!this._state.get(D,j)){J=false;}if(this._requireAddAttr&&!this.attrAdded(D)){}else{I=C.get(D,x);L=C.get(D,b);if(!J&&!E){if(I){K=false;}if(C.get(D,o)){K=false;}}if(!L&&!E&&I===u){K=false;}if(K){if(!J){F=this.get(D);}if(O){G=k.setValue(c.clone(F),O,G);if(G===undefined){K=false;}}if(K){if(L){this._setAttrVal(D,N,F,G);}else{this._fireAttrChange(D,N,F,G,B);}}}}return this;},_fireAttrChange:function(H,G,E,D,B){var J=this,F=H+t,C=J._state,I;if(!C.get(H,v)){J.publish(F,{queuable:false,defaultTargetOnly:true,defaultFn:J._defAttrChangeFn,silent:true,broadcast:C.get(H,e)});C.add(H,v,true);}I=(B)?c.merge(B):J._ATTR_E_FACADE;I.attrName=H;I.subAttrName=G;I.prevVal=E;I.newVal=D;J.fire(F,I);},_defAttrChangeFn:function(B){if(!this._setAttrVal(B.attrName,B.subAttrName,B.prevVal,B.newVal)){B.stopImmediatePropagation();}else{B.newVal=this.get(B.attrName);}},_getStateVal:function(B){var C=this._stateProxy;return C&&(B in C)&&!this._state.get(B,j)?C[B]:this._state.get(B,h);},_setStateVal:function(B,D){var C=this._stateProxy;if(C&&(B in C)&&!this._state.get(B,j)){C[B]=D;}else{this._state.add(B,h,D);}},_setAttrVal:function(M,L,I,G){var O=this,J=true,D=O._state,E=D.get(M,A),H=D.get(M,m),K=D.get(M,b),N=this._getStateVal(M),C=L||M,F,B;if(E){if(!E.call){E=this[E];}if(E){B=E.call(O,G,C);if(!B&&K){G=D.get(M,s);B=true;}}}if(!E||B){if(H){if(!H.call){H=this[H];}if(H){F=H.call(O,G,C);if(F===g){J=false;}else{if(F!==undefined){G=F;}}}}if(J){if(!L&&(G===N)&&!f.isObject(G)){J=false;}else{if(D.get(M,i)===undefined){D.add(M,i,G);}O._setStateVal(M,G);}}}else{J=false;}return J;},setAttrs:function(B,C){return this._setAttrs(B,C);},_setAttrs:function(C,D){for(var B in C){if(C.hasOwnProperty(B)){this.set(B,C[B]);}}return this;},getAttrs:function(B){return this._getAttrs(B);},_getAttrs:function(E){var G=this,I={},F,C,B,H,D=(E===true);E=(E&&!D)?E:k.keys(G._state.data.added);for(F=0,C=E.length;F<C;F++){B=E[F];H=G.get(B);if(!D||G._getStateVal(B)!=G._state.get(B,i)){I[B]=G.get(B);}}return I;},addAttrs:function(B,C,D){var E=this;if(B){E._tCfgs=B;E._tVals=E._normAttrVals(C);E._addAttrs(B,E._tVals,D);E._tCfgs=E._tVals=null;}return E;},_addAttrs:function(C,D,E){var G=this,B,F,H;for(B in C){if(C.hasOwnProperty(B)){F=C[B];F.defaultValue=F.value;H=G._getAttrInitVal(B,F,G._tVals);if(H!==undefined){F.value=H;}if(G._tCfgs[B]){delete G._tCfgs[B];}G.addAttr(B,F,E);}}},_protectAttrs:function(C){if(C){C=c.merge(C);for(var B in C){if(C.hasOwnProperty(B)){C[B]=c.merge(C[B]);}}}return C;},_normAttrVals:function(B){return(B)?c.merge(B):null;},_getAttrInitVal:function(B,C,E){var F,D;if(!C[o]&&E&&E.hasOwnProperty(B)){F=E[B];}else{F=C[h];D=C[p];if(D){if(!D.call){D=this[D];}if(D){F=D.call(this);}}}return F;},_getAttrCfg:function(B){var D,C=this._state.data;if(C){D={};c.each(C,function(E,F){if(B){if(B in E){D[F]=E[B];}}else{c.each(E,function(H,G){D[G]=D[G]||{};D[G][F]=H;});}});}return D;}};c.mix(d,l,false,null,1);c.Attribute=d;},"3.3.0",{requires:["event-custom"]});YUI.add("attribute-complex",function(b){var a=b.Object,c=".";
b.Attribute.Complex=function(){};b.Attribute.Complex.prototype={_normAttrVals:function(g){var i={},h={},j,d,f,e;if(g){for(e in g){if(g.hasOwnProperty(e)){if(e.indexOf(c)!==-1){j=e.split(c);d=j.shift();f=h[d]=h[d]||[];f[f.length]={path:j,value:g[e]};}else{i[e]=g[e];}}}return{simple:i,complex:h};}else{return null;}},_getAttrInitVal:function(m,j,p){var e=j.value,o=j.valueFn,d,f,h,g,q,n,k;if(o){if(!o.call){o=this[o];}if(o){e=o.call(this);}}if(!j.readOnly&&p){d=p.simple;if(d&&d.hasOwnProperty(m)){e=d[m];}f=p.complex;if(f&&f.hasOwnProperty(m)){k=f[m];for(h=0,g=k.length;h<g;++h){q=k[h].path;n=k[h].value;a.setValue(e,q,n);}}}return e;}};b.mix(b.Attribute,b.Attribute.Complex,true,null,1);},"3.3.0",{requires:["attribute-base"]});YUI.add("attribute",function(a){},"3.3.0",{use:["attribute-base","attribute-complex"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("base-base",function(b){var i=b.Object,k=b.Lang,j=".",g="destroy",p="init",o="initialized",h="destroyed",d="initializer",m="bubbleTargets",e="_bubbleTargets",c=Object.prototype.constructor,l="deep",q="shallow",n="destructor",a=b.Attribute;function f(){b.stamp(this);a.call(this);var r=b.Plugin&&b.Plugin.Host;if(this._initPlugins&&r){r.call(this);}if(this._lazyAddAttrs!==false){this._lazyAddAttrs=true;}this.name=this.constructor.NAME;this._eventPrefix=this.constructor.EVENT_PREFIX||this.constructor.NAME;this.init.apply(this,arguments);}f._ATTR_CFG=a._ATTR_CFG.concat("cloneDefaultValue");f.NAME="base";f.ATTRS={initialized:{readOnly:true,value:false},destroyed:{readOnly:true,value:false}};f.prototype={init:function(r){this._yuievt.config.prefix=this._eventPrefix;this.publish(p,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defInitFn});this._preInitEventCfg(r);this.fire(p,{cfg:r});return this;},_preInitEventCfg:function(s){if(s){if(s.on){this.on(s.on);}if(s.after){this.after(s.after);}}var t,r,v,u=(s&&m in s);if(u||e in this){v=u?(s&&s.bubbleTargets):this._bubbleTargets;if(k.isArray(v)){for(t=0,r=v.length;t<r;t++){this.addTarget(v[t]);}}else{if(v){this.addTarget(v);}}}},destroy:function(){this.publish(g,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defDestroyFn});this.fire(g);this.detachAll();return this;},_defInitFn:function(r){this._initHierarchy(r.cfg);if(this._initPlugins){this._initPlugins(r.cfg);}this._set(o,true);},_defDestroyFn:function(r){this._destroyHierarchy();if(this._destroyPlugins){this._destroyPlugins();}this._set(h,true);},_getClasses:function(){if(!this._classes){this._initHierarchyData();}return this._classes;},_getAttrCfgs:function(){if(!this._attrs){this._initHierarchyData();}return this._attrs;},_filterAttrCfgs:function(v,s){var t=null,r,u=v.ATTRS;if(u){for(r in u){if(u.hasOwnProperty(r)&&s[r]){t=t||{};t[r]=s[r];delete s[r];}}}return t;},_initHierarchyData:function(){var t=this.constructor,s=[],r=[];while(t){s[s.length]=t;if(t.ATTRS){r[r.length]=t.ATTRS;}t=t.superclass?t.superclass.constructor:null;}this._classes=s;this._attrs=this._aggregateAttrs(r);},_aggregateAttrs:function(y){var v,z,u,r,A,s,x,t=f._ATTR_CFG,w={};if(y){for(s=y.length-1;s>=0;--s){z=y[s];for(v in z){if(z.hasOwnProperty(v)){u=b.mix({},z[v],true,t);r=u.value;x=u.cloneDefaultValue;if(r){if((x===undefined&&(c===r.constructor||k.isArray(r)))||x===l||x===true){u.value=b.clone(r);}else{if(x===q){u.value=b.merge(r);}}}A=null;if(v.indexOf(j)!==-1){A=v.split(j);v=A.shift();}if(A&&w[v]&&w[v].value){i.setValue(w[v].value,A,r);}else{if(!A){if(!w[v]){w[v]=u;}else{b.mix(w[v],u,true,t);}}}}}}}return w;},_initHierarchy:function(w){var t=this._lazyAddAttrs,x,y,z,u,s,v=this._getClasses(),r=this._getAttrCfgs();for(z=v.length-1;z>=0;z--){x=v[z];y=x.prototype;if(x._yuibuild&&x._yuibuild.exts){for(u=0,s=x._yuibuild.exts.length;u<s;u++){x._yuibuild.exts[u].apply(this,arguments);}}this.addAttrs(this._filterAttrCfgs(x,r),w,t);if(y.hasOwnProperty(d)){y.initializer.apply(this,arguments);}}},_destroyHierarchy:function(){var v,s,u,r,t=this._getClasses();for(u=0,r=t.length;u<r;u++){v=t[u];s=v.prototype;if(s.hasOwnProperty(n)){s.destructor.apply(this,arguments);}}},toString:function(){return this.name+"["+b.stamp(this,true)+"]";}};b.mix(f,a,false,null,1);f.prototype.constructor=f;b.Base=f;},"3.3.0",{requires:["attribute-base"]});YUI.add("base-pluginhost",function(c){var a=c.Base,b=c.Plugin.Host;c.mix(a,b,false,null,1);a.plug=b.plug;a.unplug=b.unplug;},"3.3.0",{requires:["base-base","pluginhost"]});YUI.add("base-build",function(d){var b=d.Base,a=d.Lang,c;b._build=function(f,n,r,v,u,q){var w=b._build,g=w._ctor(n,q),k=w._cfg(n,q),t=w._mixCust,p=k.aggregates,e=k.custom,j=g._yuibuild.dynamic,o,m,h,s;if(j&&p){for(o=0,m=p.length;o<m;++o){h=p[o];if(n.hasOwnProperty(h)){g[h]=a.isArray(n[h])?[]:{};}}}for(o=0,m=r.length;o<m;o++){s=r[o];d.mix(g,s,true,null,1);t(g,s,p,e);g._yuibuild.exts.push(s);}if(v){d.mix(g.prototype,v,true);}if(u){d.mix(g,w._clean(u,p,e),true);t(g,u,p,e);}g.prototype.hasImpl=w._impl;if(j){g.NAME=f;g.prototype.constructor=g;}return g;};c=b._build;d.mix(c,{_mixCust:function(g,f,i,h){if(i){d.aggregate(g,f,true,i);}if(h){for(var e in h){if(h.hasOwnProperty(e)){h[e](e,g,f);}}}},_tmpl:function(e){function f(){f.superclass.constructor.apply(this,arguments);}d.extend(f,e);return f;},_impl:function(h){var n=this._getClasses(),m,f,e,k,o,g;for(m=0,f=n.length;m<f;m++){e=n[m];if(e._yuibuild){k=e._yuibuild.exts;o=k.length;for(g=0;g<o;g++){if(k[g]===h){return true;}}}}return false;},_ctor:function(e,f){var h=(f&&false===f.dynamic)?false:true,i=(h)?c._tmpl(e):e,g=i._yuibuild;if(!g){g=i._yuibuild={};}g.id=g.id||null;g.exts=g.exts||[];g.dynamic=h;return i;},_cfg:function(e,f){var g=[],j={},i,h=(f&&f.aggregates),l=(f&&f.custom),k=e;while(k&&k.prototype){i=k._buildCfg;if(i){if(i.aggregates){g=g.concat(i.aggregates);}if(i.custom){d.mix(j,i.custom,true);}}k=k.superclass?k.superclass.constructor:null;}if(h){g=g.concat(h);}if(l){d.mix(j,f.cfgBuild,true);}return{aggregates:g,custom:j};},_clean:function(m,k,g){var j,f,e,h=d.merge(m);for(j in g){if(h.hasOwnProperty(j)){delete h[j];}}for(f=0,e=k.length;f<e;f++){j=k[f];if(h.hasOwnProperty(j)){delete h[j];}}return h;}});b.build=function(g,e,h,f){return c(g,e,h,null,null,f);};b.create=function(e,h,g,f,i){return c(e,h,g,f,i);};b.mix=function(e,f){return c(null,e,f,null,null,{dynamic:false});};b._buildCfg={custom:{ATTRS:function(j,h,f){h.ATTRS=h.ATTRS||{};if(f.ATTRS){var g=f.ATTRS,i=h.ATTRS,e;for(e in g){if(g.hasOwnProperty(e)){i[e]=i[e]||{};d.mix(i[e],g[e],true);}}}}},aggregates:["_PLUG","_UNPLUG"]};},"3.3.0",{requires:["base-base"]});YUI.add("base",function(a){},"3.3.0",{after:["attribute-complex"],use:["base-base","base-pluginhost","base-build"]});var TG=TG||{};TG.SearchForm=TG.SearchForm||{};YUI.add('trip-search-form',function(Y){var isSupportPlaceholder=Y.Modernizr.input.placeholder,Array=Y.Array,Cookie=Y.Cookie;var dateReg=/(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)/;var SearchForm=Y.Base.create('searchForm',Y.Base,[],{allSubmit:true,initializer:function(){this.form=this.get('node');this.radioNodes=this.form.all('.J_type_radio');this.inputNodes=this.form.all('.J_TripCityInput ,.J_DateInput');this._syncUI();this._bindUI();},_syncUI:function(){this.setDefaultValue();},_bindUI:function(){var _form=this.form,tradeBtn=_form.one('.search-trade'),SELF=this;_form.on('submit',this.doSubmit,this);_form.delegate('click',this.setFlightType,'.J_type_radio',this);if(tradeBtn){tradeBtn.on('click',this._trade,this);}
var backNode=this.form.one('.search-backitem'),radioNodes=this.radioNodes,backDateInput=null;var doCheckFlightType=function(){if(radioNodes.size()<1){return false;}
radioNodes.item(1).set('checked',true);SELF.setFlightType();};if(backNode){backDateInput=backNode.one('.J_endDate');backDateInput&&backDateInput.on('keyup',this.checkOneWay,this);}
this.inputNodes.each(function(item){var curAc,curCal;if(item.hasClass('J_TripCityInput')&&item.hasAttribute('data-autotab')){curAc=TG.SearchForm['#'+item.get('id')];curAc&&curAc.on('select',function(){var el=Y.one('#'+item.getAttribute('data-autotab'));setTimeout(function(){el&&el.focus();},200);})}else if(item.hasClass('J_DateInput')){curCal=TG.SearchForm['#'+item.get('id')];curCal&&curCal.on('select',function(e){if(item.hasAttribute('data-autotab')){var el=Y.one('#'+item.getAttribute('data-autotab'));if(!e.inputNode.hasClass('J_endDate')&&el&&el.hasClass('required')){setTimeout(function(){el.focus();},200);}}
if(e.inputNode.hasClass('J_endDate')){doCheckFlightType();}});}});},checkOneWay:function(e){var target=e.currentTarget;if(e.keyCode==8&&target.get('value')==''){this.radioNodes.item(0).set('checked',true);this.setFlightType();}},doSubmit:function(e){e.halt();if(this._validateForm()){if(this.get('storage')){this._storageForm();}
var ieBackInput=this.form.one('.J_ieEndDate'),flightType=this.getTypeValue();if(ieBackInput&&flightType=='0'){ieBackInput.set('value','yyyy-mm-dd');}
if(typeof this.get('afterValidate')==='function'){this.get('afterValidate')(this.form);}else{this.form.submit();}
setTimeout(function(){if(ieBackInput&&flightType=='0'){ieBackInput.set('value','');}},100);}},_validateForm:function(){var _form=this.form,SELF=this,bDate,eDate,bDateDesc,formType='flight',nowTime;var inputNodes=_form.all('input'),requiresNodes=[],dateFormatNodes=[],cityNodes=[];var bindWidget=null,curNode,AC,msgStr;inputNodes.each(function(item,index){if(item.hasClass('required')){if(!SELF._requiredItemCheck(item)){requiresNodes.push(item);return false;}}
var nodeVal=item.get('value');if(item.hasClass('dateformat')){if(!dateReg.test(nodeVal)){dateFormatNodes.push(item);return false;}}
else if((item.hasClass('J_TripCityInput'))){cityNodes.push(item);}});if(requiresNodes.length>0){curNode=requiresNodes[0];curNode.select();bindWidget=TG.SearchForm['#'+requiresNodes[0].get('id')];if(bindWidget&&curNode.hasAttribute('data-description')){bindWidget.showMessage&&bindWidget.showMessage('\u8bf7\u9009\u62e9'+curNode.getAttribute('data-description'),curNode);}
return false;}
if(dateFormatNodes.length>0){bindWidget=TG.SearchForm['#'+dateFormatNodes[0].get('id')];bindWidget&&bindWidget.showMessage('\u65e5\u671f\u683c\u5f0f\u4e3a\uff1ayyyy-mm-dd',dateFormatNodes[0]);dateFormatNodes[0].select();return false;}
bDate=_form.one('.J_depDate');eDate=_form.one('.J_endDate');if(eDate&&bDate&&eDate.hasAttribute('data-description')&&bDate.hasAttribute('data-description')){bDateDesc=bDate.getAttribute('data-description');msgStr="\u4e0d\u80fd\u65e9\u4e8e";nowTime=new Date();if(bDateDesc.indexOf('\u5165\u4f4f')>-1){msgStr='\u4e0d\u80fd\u65e9\u4e8e/\u7b49\u4e8e';formType='hotel';}
if(this._toMs(bDate.get('value'))<new Date(nowTime.getFullYear(),nowTime.getMonth(),nowTime.getDate())){bindWidget=TG.SearchForm['#'+bDate.get('id')];bindWidget&&bindWidget.showMessage(bDate.getAttribute('data-description')+'\u4e0d\u80fd\u65e9\u4e8e\u4eca\u5929\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9',bDate);return false;}
if((formType=='flight'&&this._toMs(eDate.get('value'))<this._toMs(bDate.get('value')))||(formType=='hotel'&&this._toMs(eDate.get('value'))<=this._toMs(bDate.get('value')))){bindWidget=TG.SearchForm['#'+eDate.get('id')];Y.later(50,this,function(){eDate.select();bindWidget&&bindWidget.showMessage(eDate.getAttribute('data-description')+msgStr+bDate.getAttribute('data-description')+'\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9',eDate);});return false;}}
if(typeof cityNodes[1]!='undefined'){cityNodes[1].get&&(AC=TG.SearchForm['#'+cityNodes[1].get('id')]);}
if(AC&&cityNodes.length>1&&cityNodes[0].get('value')==cityNodes[1].get('value')&&cityNodes[0].hasClass('required')&&cityNodes[1].hasClass('required')){if(AC.showMessage){AC.inputNode.focus();AC.showMessage('\u51fa\u53d1\u57ce\u5e02\u548c\u5230\u8fbe\u57ce\u5e02\u4e0d\u80fd\u76f8\u540c\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165');return false;}}
return true;},_toMs:function(date){date=date.split('-');return new Date(date[0]/1,date[1]/1-1,date[2]/1);},_storageForm:function(){var inputNodes=this.form.all('input'),storageArr=[],itemStr='';inputNodes.each(function(node,i){var attr=node.getAttribute('type'),nodeValue=node.get('value');if(attr=='text'||attr=='hidden'){if(nodeValue!=''&&!node.get('disabled')){itemStr=node.get('id')+':'+nodeValue;storageArr.push(itemStr);}}else if(attr=='radio'){if(node.get('checked')){itemStr=node.get('id')+':'+nodeValue;storageArr.push(itemStr);}}});Y.StorageLite.setItem(this.form.get('id'),storageArr.join(','));},setDefaultValue:function(){var userCityInput=this.get('defaultCity');var userCity='';if(userCityInput){if(!this.get('storage')&&Cookie.get('ect')&&this.get('fillCurrentCity')){userCity=Cookie.get('ect').split('|')[1];userCityInput.set('value',userCity);}}
if(this.get('storage')&&Y.StorageLite.getItem(this.form.get('id'))){this.storageToInput(Y.StorageLite.getItem(this.form.get('id')));}},storageToInput:function(data){var SELF=this,isResetDate=false;data=data.split(',');Array.each(data,function(item,i){var item=item.split(':');var node=Y.one('#'+item[0]),nodeValue=item[1],bindWidget;if(node){switch(node.getAttribute('type')){case'text':bindWidget=TG.SearchForm['#'+node.get('id')];if(node.hasClass('J_DateInput')){if(node.hasClass('J_depDate')){if(SELF.isResetDate(nodeValue)){nodeValue=SELF.getDate(1);}}else if(node.hasClass('J_endDate')){if(SELF.isResetDate(nodeValue)){nodeValue=SELF.getDate(3);}}}
node.set('value',nodeValue);if(node.hasClass('J_DateInput')){bindWidget&&bindWidget.setDateInfo(false,node);}
if(!isSupportPlaceholder){node.removeClass('trip-placeholder');}
break;case'hidden':node.set('value',nodeValue);break;case'radio':node.set('checked',true);SELF.setFlightType();break;default:break;}}});},isResetDate:function(date){date=date.split('-');return new Date()>new Date(date[0],date[1]-1,date[2]);},getDate:function(num_date){function formatdate(str){str+='';if(str.length==1){return'0'+str;}else{return str;}}
num_date=num_date||0;var _y,_m,_d;var _T=new Date();_T.setDate(_T.getDate()+num_date);_y=_T.getFullYear();_m=formatdate(_T.getMonth()+1);_d=formatdate(_T.getDate());return[_y,_m,_d].join('-');},_requiredItemCheck:function(node){if(node.get('value')==''){return false;}else{return true;}},_trade:function(){var _form=this.form;tradeNodes=_form.all('input[data-trade]');var arr1=[],arr2=[];tradeNodes.each(function(item,i){var _tradeNode=Y.one('#'+item.getAttribute('data-trade'));if(_tradeNode){arr1.push(item);arr2.push(_tradeNode);}});this.tradeAction(arr1,arr2);},tradeAction:function(arr1,arr2){var _tmp="",_tmp2="";Array.each(arr1,function(item,i){_tmp=item.get('value');_tmp2=arr2[i].get('value');item.set('value',_tmp2);arr2[i].set('value',_tmp);if(!isSupportPlaceholder){if(_tmp2==''){item.addClass('trip-placeholder');item.set('value',item.getAttribute('placeholder'));}else{item.removeClass('trip-placeholder');}
if(_tmp==''){arr2[i].addClass('trip-placeholder');arr2[i].set('value',arr2[i].getAttribute('placeholder'));}else{arr2[i].removeClass('trip-placeholder');}}});},setFlightType:function(){var _type=this.getTypeValue(),backNode=this.form.one('.search-backitem'),backDateNode=backNode.one('input[type=text]');if(_type=='1'){backNode.removeClass('disabled');backDateNode.addClass('required');backDateNode.addClass('dateformat');}else{backNode.addClass('disabled');backDateNode.removeClass('required');backDateNode.removeClass('dateformat');if(!Y.Modernizr.input.placeholder){backDateNode.set('value',backDateNode.getAttribute('placeholder'));backDateNode.addClass('trip-placeholder');}else{backDateNode.set('value','');}}},getTypeValue:function(){var radioNodes=this.radioNodes;for(var i=0;i<radioNodes.size();i++){if(radioNodes.item(i).get('checked')){return radioNodes.item(i).get('value');break;}}}},{ATTRS:{node:{setter:Y.one},fillCurrentCity:{value:false},storage:{value:false},defaultCity:{value:'',setter:Y.one},afterValidate:{value:null}}});Y.SearchForm=SearchForm;},'',{requires:['node-base','event-base','cookie','base','trip-modernizr']});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("jsonp",function(c){var b=c.Lang.isFunction;function a(){this._init.apply(this,arguments);}a.prototype={_requests:0,_init:function(d,f){this.url=d;f=(b(f))?{on:{success:f}}:f||{};var e=f.on||{};if(!e.success){e.success=this._defaultCallback(d,f);}this._config=c.merge({context:this,args:[],format:this._format,allowCache:false},f,{on:e});},_defaultCallback:function(){},send:function(){var d=this,g=c.Array(arguments,0,true),f=d._config,h=d._proxy||c.guid(),e;if(f.allowCache){d._proxy=h;d._requests++;}g.unshift(d.url,"YUI.Env.JSONP."+h);e=f.format.apply(d,g);if(!f.on.success){return d;}function i(j){return(b(j))?function(k){if(!f.allowCache||!--d._requests){delete YUI.Env.JSONP[h];}j.apply(f.context,[k].concat(f.args));}:null;}YUI.Env.JSONP[h]=i(f.on.success);c.Get.script(e,{onFailure:i(f.on.failure),onTimeout:i(f.on.timeout),timeout:f.timeout});return d;},_format:function(d,e){return d.replace(/\{callback\}/,e);}};c.JSONPRequest=a;c.jsonp=function(d,f){var e=new c.JSONPRequest(d,f);return e.send.apply(e,c.Array(arguments,2,true));};if(!YUI.Env.JSONP){YUI.Env.JSONP={};}},"3.3.0",{requires:["get","oop"]});
YUI.namespace('Y.Mustache');YUI.add('trip-mustache',function(Y){var Mustache=function(){var Renderer=function(){};Renderer.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(template,context,partials,in_recursion){if(!in_recursion){this.context=context;this.buffer=[];}
if(!this.includes("",template)){if(in_recursion){return template;}else{this.send(template);return;}}
template=this.render_pragmas(template);var html=this.render_section(template,context,partials);if(in_recursion){return this.render_tags(html,context,partials,in_recursion);}
this.render_tags(html,context,partials,in_recursion);},send:function(line){if(line!=""){this.buffer.push(line);}},render_pragmas:function(template){if(!this.includes("%",template)){return template;}
var that=this;var regex=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+
this.ctag);return template.replace(regex,function(match,pragma,options){if(!that.pragmas_implemented[pragma]){throw({message:"This implementation of mustache doesn't understand the '"+
pragma+"' pragma"});}
that.pragmas[pragma]={};if(options){var opts=options.split("=");that.pragmas[pragma][opts[0]]=opts[1];}
return"";});},render_partial:function(name,context,partials){name=this.trim(name);if(!partials||partials[name]===undefined){throw({message:"unknown_partial '"+name+"'"});}
if(typeof(context[name])!="object"){return this.render(partials[name],context,partials,true);}
return this.render(partials[name],context[name],partials,true);},render_section:function(template,context,partials){if(!this.includes("#",template)&&!this.includes("^",template)){return template;}
var that=this;var regex=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return template.replace(regex,function(match,type,name,content){var value=that.find(name,context);if(type=="^"){if(!value||that.is_array(value)&&value.length===0){return that.render(content,context,partials,true);}else{return"";}}else if(type=="#"){if(that.is_array(value)){return that.map(value,function(row){return that.render(content,that.create_context(row),partials,true);}).join("");}else if(that.is_object(value)){return that.render(content,that.create_context(value),partials,true);}else if(typeof value==="function"){return value.call(context,content,function(text){return that.render(text,context,partials,true);});}else if(value){return that.render(content,context,partials,true);}else{return"";}}});},render_tags:function(template,context,partials,in_recursion){var that=this;var new_regex=function(){return new RegExp(that.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+
that.ctag+"+","g");};var regex=new_regex();var tag_replace_callback=function(match,operator,name){switch(operator){case"!":return"";case"=":that.set_delimiters(name);regex=new_regex();return"";case">":return that.render_partial(name,context,partials);case"{":return that.find(name,context);default:return that.escape(that.find(name,context));}};var lines=template.split("\n");for(var i=0;i<lines.length;i++){lines[i]=lines[i].replace(regex,tag_replace_callback,this);if(!in_recursion){this.send(lines[i]);}}
if(in_recursion){return lines.join("\n");}},set_delimiters:function(delimiters){var dels=delimiters.split(" ");this.otag=this.escape_regex(dels[0]);this.ctag=this.escape_regex(dels[1]);},escape_regex:function(text){if(!arguments.callee.sRE){var specials=['/','.','*','+','?','|','(',')','[',']','{','}','\\'];arguments.callee.sRE=new RegExp('(\\'+specials.join('|\\')+')','g');}
return text.replace(arguments.callee.sRE,'\\$1');},find:function(name,context){name=this.trim(name);function is_kinda_truthy(bool){return bool===false||bool===0||bool;}
var value;if(is_kinda_truthy(context[name])){value=context[name];}else if(is_kinda_truthy(this.context[name])){value=this.context[name];}
if(typeof value==="function"){return value.apply(context);}
if(value!==undefined){return value;}
return"";},includes:function(needle,haystack){return haystack.indexOf(this.otag+needle)!=-1;},escape:function(s){s=String(s===null?"":s);return s.replace(/&(?!\w+;)|["'<>\\]/g,function(s){switch(s){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'&quot;';case"'":return'&#39;';case"<":return"&lt;";case">":return"&gt;";default:return s;}});},create_context:function(_context){if(this.is_object(_context)){return _context;}else{var iterator=".";if(this.pragmas["IMPLICIT-ITERATOR"]){iterator=this.pragmas["IMPLICIT-ITERATOR"].iterator;}
var ctx={};ctx[iterator]=_context;return ctx;}},is_object:function(a){return a&&typeof a=="object";},is_array:function(a){return Object.prototype.toString.call(a)==='[object Array]';},trim:function(s){return s.replace(/^\s*|\s*$/g,"");},map:function(array,fn){if(typeof array.map=="function"){return array.map(fn);}else{var r=[];var l=array.length;for(var i=0;i<l;i++){r.push(fn(array[i]));}
return r;}}};return({name:"mustache.js",version:"0.3.1-dev",to_html:function(template,view,partials,send_fun){var renderer=new Renderer();if(send_fun){renderer.send=send_fun;}
renderer.render(template,view,partials);if(!send_fun){return renderer.buffer.join("\n");}}});}();Y.Mustache=Mustache;},'0.3.1');/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("intl",function(d){var b={},a="yuiRootLang",e="yuiActiveLang",c=[];d.mix(d.namespace("Intl"),{_mod:function(f){if(!b[f]){b[f]={};}return b[f];},setLang:function(g,j){var i=this._mod(g),f=i[e],h=!!i[j];if(h&&j!==f){i[e]=j;this.fire("intl:langChange",{module:g,prevVal:f,newVal:(j===a)?"":j});}return h;},getLang:function(f){var g=this._mod(f)[e];return(g===a)?"":g;},add:function(g,h,f){h=h||a;this._mod(g)[h]=f;this.setLang(g,h);},get:function(h,g,j){var f=this._mod(h),i;j=j||f[e];i=f[j]||{};return(g)?i[g]:d.merge(i);},getAvailableLangs:function(h){var f=d.Env._loader,g=f&&f.moduleInfo[h],i=g&&g.lang;return(i)?i.concat():c;}});d.augment(d.Intl,d.EventTarget);d.Intl.publish("intl:langChange",{emitFacade:true});},"3.3.0",{requires:["event-custom"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("lang/autocomplete-list",function(a){a.Intl.add("autocomplete-list","",{item_selected:"{item} selected.",items_available:"Suggestions are available. Use the up and down arrow keys to select suggestions."});},"3.3.0");YUI.add("lang/autocomplete",function(a){},"3.3.0",{use:["lang/autocomplete-list"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("array-extras",function(d){var b=d.Lang,c=Array.prototype,a=d.Array;a.lastIndexOf=c.lastIndexOf?function(e,g,f){return f||f===0?e.lastIndexOf(g,f):e.lastIndexOf(g);}:function(f,j,h){var e=f.length,g=e-1;if(h||h===0){g=Math.min(h<0?e+h:h,e);}if(g>-1&&e>0){for(;g>-1;--g){if(f[g]===j){return g;}}}return -1;};a.unique=function(f,l){var k=0,e=f.length,h=[],m,g;for(;k<e;++k){m=f[k];for(g=h.length;g>-1;--g){if(m===h[g]){break;}}if(g===-1){h.push(m);}}if(l){if(b.isNumber(h[0])){h.sort(a.numericSort);}else{h.sort();}}return h;};a.filter=c.filter?function(e,g,h){return e.filter(g,h);}:function(g,l,m){var j=0,e=g.length,h=[],k;for(;j<e;++j){k=g[j];if(l.call(m,k,j,g)){h.push(k);}}return h;};a.reject=function(e,g,h){return a.filter(e,function(k,j,f){return !g.call(h,k,j,f);});};a.every=c.every?function(e,g,h){return e.every(g,h);}:function(g,j,k){for(var h=0,e=g.length;h<e;++h){if(!j.call(k,g[h],h,g)){return false;}}return true;};a.map=c.map?function(e,g,h){return e.map(g,h);}:function(g,k,l){var j=0,e=g.length,h=g.concat();for(;j<e;++j){h[j]=k.call(l,g[j],j,g);}return h;};a.reduce=c.reduce?function(e,i,g,h){return e.reduce(function(l,k,j,f){return g.call(h,l,k,j,f);},i);}:function(h,m,k,l){var j=0,g=h.length,e=m;for(;j<g;++j){e=k.call(l,e,h[j],j,h);}return e;};a.find=function(g,j,k){for(var h=0,e=g.length;h<e;h++){if(j.call(k,g[h],h,g)){return g[h];}}return null;};a.grep=function(e,f){return a.filter(e,function(h,g){return f.test(h);});};a.partition=function(e,h,i){var g={matches:[],rejects:[]};a.each(e,function(j,f){var k=h.call(i,j,f,e)?g.matches:g.rejects;k.push(j);});return g;};a.zip=function(f,e){var g=[];a.each(f,function(i,h){g.push([i,e[h]]);});return g;};a.forEach=a.each;},"3.3.0");/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("escape",function(C){var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},B={html:function(D){return D.replace(/[&<>"'\/`]/g,B._htmlReplacer);},regex:function(D){return D.replace(/[\-#$\^*()+\[\]{}|\\,.?\s]/g,"\\$&");},_htmlReplacer:function(D){return A[D];}};B.regexp=B.regex;C.Escape=B;},"3.3.0");/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("event-valuechange",function(D){var B=D.Array,C="value",A={POLL_INTERVAL:50,TIMEOUT:10000,_history:{},_intervals:{},_notifiers:{},_timeouts:{},_poll:function(I,F,J){var H=I._node,E=H&&H.value,K=A._history[F],G;if(!H){A._stopPolling(I,F);return;}if(E!==K){A._history[F]=E;G={_event:J,newVal:E,prevVal:K};B.each(A._notifiers[F],function(L){L.fire(G);});A._refreshTimeout(I,F);}},_refreshTimeout:function(F,E){A._stopTimeout(F,E);A._timeouts[E]=setTimeout(function(){A._stopPolling(F,E);},A.TIMEOUT);},_startPolling:function(F,E,H,G){if(!E){E=D.stamp(F);}if(!G&&A._intervals[E]){return;}A._stopPolling(F,E);A._intervals[E]=setInterval(function(){A._poll(F,E,H);},A.POLL_INTERVAL);A._refreshTimeout(F,E,H);},_stopPolling:function(F,E){if(!E){E=D.stamp(F);}A._intervals[E]=clearInterval(A._intervals[E]);A._stopTimeout(F,E);},_stopTimeout:function(F,E){if(!E){E=D.stamp(F);}A._timeouts[E]=clearTimeout(A._timeouts[E]);},_onBlur:function(E){A._stopPolling(E.currentTarget);},_onFocus:function(F){var E=F.currentTarget;A._history[D.stamp(E)]=E.get(C);A._startPolling(E,null,F);},_onKeyDown:function(E){A._startPolling(E.currentTarget,null,E);},_onKeyUp:function(E){if(E.charCode===229||E.charCode===197){A._startPolling(E.currentTarget,null,E,true);}},_onMouseDown:function(E){A._startPolling(E.currentTarget,null,E);},_onSubscribe:function(I,H,G){var F=D.stamp(I),E=A._notifiers[F];A._history[F]=I.get(C);G._handles=I.on({blur:A._onBlur,focus:A._onFocus,keydown:A._onKeyDown,keyup:A._onKeyUp,mousedown:A._onMouseDown});if(!E){E=A._notifiers[F]=[];}E.push(G);},_onUnsubscribe:function(J,I,H){var G=D.stamp(J),E=A._notifiers[G],F=B.indexOf(E,H);H._handles.detach();if(F!==-1){E.splice(F,1);if(!E.length){A._stopPolling(J,G);delete A._notifiers[G];delete A._history[G];}}}};D.Event.define("valueChange",{detach:A._onUnsubscribe,on:A._onSubscribe,publishConfig:{emitFacade:true}});D.ValueChange=A;},"3.3.0",{requires:["event-focus","event-synthetic"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("selector-css3",function(a){a.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/;a.Selector._getNth=function(d,o,q,h){a.Selector._reNth.test(o);var m=parseInt(RegExp.$1,10),c=RegExp.$2,j=RegExp.$3,k=parseInt(RegExp.$4,10)||0,p=[],l=a.Selector._children(d.parentNode,q),f;if(j){m=2;f="+";c="n";k=(j==="odd")?1:0;}else{if(isNaN(m)){m=(c)?1:0;}}if(m===0){if(h){k=l.length-k+1;}if(l[k-1]===d){return true;}else{return false;}}else{if(m<0){h=!!h;m=Math.abs(m);}}if(!h){for(var e=k-1,g=l.length;e<g;e+=m){if(e>=0&&l[e]===d){return true;}}}else{for(var e=l.length-k,g=l.length;e>=0;e-=m){if(e<g&&l[e]===d){return true;}}}return false;};a.mix(a.Selector.pseudos,{"root":function(b){return b===b.ownerDocument.documentElement;},"nth-child":function(b,c){return a.Selector._getNth(b,c);},"nth-last-child":function(b,c){return a.Selector._getNth(b,c,null,true);},"nth-of-type":function(b,c){return a.Selector._getNth(b,c,b.tagName);},"nth-last-of-type":function(b,c){return a.Selector._getNth(b,c,b.tagName,true);},"last-child":function(c){var b=a.Selector._children(c.parentNode);return b[b.length-1]===c;},"first-of-type":function(b){return a.Selector._children(b.parentNode,b.tagName)[0]===b;},"last-of-type":function(c){var b=a.Selector._children(c.parentNode,c.tagName);return b[b.length-1]===c;},"only-child":function(c){var b=a.Selector._children(c.parentNode);return b.length===1&&b[0]===c;},"only-of-type":function(c){var b=a.Selector._children(c.parentNode,c.tagName);return b.length===1&&b[0]===c;},"empty":function(b){return b.childNodes.length===0;},"not":function(b,c){return !a.Selector.test(b,c);},"contains":function(b,c){var d=b.innerText||b.textContent||"";return d.indexOf(c)>-1;},"checked":function(b){return(b.checked===true||b.selected===true);},enabled:function(b){return(b.disabled!==undefined&&!b.disabled);},disabled:function(b){return(b.disabled);}});a.mix(a.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"});a.Selector.combinators["~"]={axis:"previousSibling"};},"3.3.0",{requires:["dom-base","selector-native","selector-css2"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("classnamemanager",function(C){var B="classNamePrefix",D="classNameDelimiter",A=C.config;A[B]=A[B]||"yui3";A[D]=A[D]||"-";C.ClassNameManager=function(){var E=A[B],F=A[D];return{getClassName:C.cached(function(){var G=C.Array(arguments);if(G[G.length-1]!==true){G.unshift(E);}else{G.pop();}return G.join(F);})};}();},"3.3.0");/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("widget-base",function(b){var g=b.Lang,r=b.Node,e=b.ClassNameManager,w=e.getClassName,M,s=b.cached(function(L){return L.substring(0,1).toUpperCase()+L.substring(1);}),F="content",P="visible",K="hidden",y="disabled",B="focused",d="width",A="height",N="boundingBox",v="contentBox",k="parentNode",m="ownerDocument",x="auto",j="srcNode",I="body",H="tabIndex",q="id",i="render",J="rendered",n="destroyed",a="strings",o="<div></div>",z="Change",p="loading",E="_uiSet",D="",G=function(){},u=true,O=false,t,l={},f=[P,y,A,d,B],C=b.UA.webkit,h={};function c(Q){var T=this,L,S,R=T.constructor;T._strs={};T._cssPrefix=R.CSS_PREFIX||w(R.NAME.toLowerCase());c.superclass.constructor.apply(T,arguments);S=T.get(i);if(S){if(S!==u){L=S;}T.render(L);}}c.NAME="widget";t=c.UI_SRC="ui";c.ATTRS=l;l[q]={valueFn:"_guid",writeOnce:u};l[J]={value:O,readOnly:u};l[N]={value:null,setter:"_setBB",writeOnce:u};l[v]={valueFn:"_defaultCB",setter:"_setCB",writeOnce:u};l[H]={value:null,validator:"_validTabIndex"};l[B]={value:O,readOnly:u};l[y]={value:O};l[P]={value:u};l[A]={value:D};l[d]={value:D};l[a]={value:{},setter:"_strSetter",getter:"_strGetter"};l[i]={value:O,writeOnce:u};c.CSS_PREFIX=w(c.NAME.toLowerCase());c.getClassName=function(){return w.apply(e,[c.CSS_PREFIX].concat(b.Array(arguments),true));};M=c.getClassName;c.getByNode=function(L){var R,Q=M();L=r.one(L);if(L){L=L.ancestor("."+Q,true);if(L){R=h[b.stamp(L,u)];}}return R||null;};b.extend(c,b.Base,{getClassName:function(){return w.apply(e,[this._cssPrefix].concat(b.Array(arguments),true));},initializer:function(L){h[b.stamp(this.get(N))]=this;if(this._applyParser){this._applyParser(L);}},destructor:function(){var Q=this.get(N),L=this.get(v),R=b.stamp(Q,u);if(R in h){delete h[R];}if(this.UI_EVENTS){this._destroyUIEvents();}this._unbindUI(Q);if(L){L.remove(u);}Q.remove(u);},render:function(L){if(!this.get(n)&&!this.get(J)){this.publish(i,{queuable:O,fireOnce:u,defaultTargetOnly:u,defaultFn:this._defRenderFn});this.fire(i,{parentNode:(L)?r.one(L):null});}return this;},_defRenderFn:function(L){this._parentNode=L.parentNode;this.renderer();this._set(J,u);this._removeLoadingClassNames();},renderer:function(){var L=this;L._renderUI();L.renderUI();L._bindUI();L.bindUI();L._syncUI();L.syncUI();},bindUI:G,renderUI:G,syncUI:G,hide:function(){return this.set(P,O);},show:function(){return this.set(P,u);},focus:function(){return this._set(B,u);},blur:function(){return this._set(B,O);},enable:function(){return this.set(y,O);},disable:function(){return this.set(y,u);},_uiSizeCB:function(L){this.get(v).toggleClass(M(F,"expanded"),L);},_renderBox:function(L){var T=this,Q=T.get(v),R=T.get(N),V=T.get(j),S=T.DEF_PARENT_NODE,U=(V&&V.get(m))||R.get(m)||Q.get(m);if(V&&!V.compareTo(Q)&&!Q.inDoc(U)){V.replace(Q);}if(!R.compareTo(Q.get(k))&&!R.compareTo(Q)){if(Q.inDoc(U)){Q.replace(R);}R.appendChild(Q);}L=L||(S&&r.one(S));if(L){L.appendChild(R);}else{if(!R.inDoc(U)){r.one(I).insert(R,0);}}},_setBB:function(L){return this._setBox(this.get(q),L,this.BOUNDING_TEMPLATE);},_setCB:function(L){return(this.CONTENT_TEMPLATE===null)?this.get(N):this._setBox(null,L,this.CONTENT_TEMPLATE);},_defaultCB:function(L){return this.get(j)||null;},_setBox:function(R,Q,L){Q=r.one(Q)||r.create(L);if(!Q.get(q)){Q.set(q,R||b.guid());}return Q;},_renderUI:function(){this._renderBoxClassNames();this._renderBox(this._parentNode);},_renderBoxClassNames:function(){var S=this._getClasses(),L,Q=this.get(N),R;Q.addClass(M());for(R=S.length-3;R>=0;R--){L=S[R];Q.addClass(L.CSS_PREFIX||w(L.NAME.toLowerCase()));}this.get(v).addClass(this.getClassName(F));},_removeLoadingClassNames:function(){var R=this.get(N),L=this.get(v),Q=this.getClassName(p),S=M(p);R.removeClass(S).removeClass(Q);L.removeClass(S).removeClass(Q);},_bindUI:function(){this._bindAttrUI(this._UI_ATTRS.BIND);this._bindDOM();},_unbindUI:function(L){this._unbindDOM(L);},_bindDOM:function(){var L=this.get(N).get(m);this._hDocFocus=L.on("focus",this._onDocFocus,this);if(C){this._hDocMouseDown=L.on("mousedown",this._onDocMouseDown,this);}},_unbindDOM:function(L){if(this._hDocFocus){this._hDocFocus.detach();}if(C&&this._hDocMouseDown){this._hDocMouseDown.detach();}},_syncUI:function(){this._syncAttrUI(this._UI_ATTRS.SYNC);},_uiSetHeight:function(L){this._uiSetDim(A,L);this._uiSizeCB((L!==D&&L!==x));},_uiSetWidth:function(L){this._uiSetDim(d,L);},_uiSetDim:function(L,Q){this.get(N).setStyle(L,g.isNumber(Q)?Q+this.DEF_UNIT:Q);},_uiSetVisible:function(L){this.get(N).toggleClass(this.getClassName(K),!L);},_uiSetDisabled:function(L){this.get(N).toggleClass(this.getClassName(y),L);},_uiSetFocused:function(R,Q){var L=this.get(N);L.toggleClass(this.getClassName(B),R);if(Q!==t){if(R){L.focus();}else{L.blur();}}},_uiSetTabIndex:function(Q){var L=this.get(N);if(g.isNumber(Q)){L.set(H,Q);}else{L.removeAttribute(H);}},_onDocMouseDown:function(L){if(this._domFocus){this._onDocFocus(L);}},_onDocFocus:function(L){this._domFocus=this.get(N).contains(L.target);this._set(B,this._domFocus,{src:t});},toString:function(){return this.name+"["+this.get(q)+"]";},DEF_UNIT:"px",DEF_PARENT_NODE:null,CONTENT_TEMPLATE:o,BOUNDING_TEMPLATE:o,_guid:function(){return b.guid();},_validTabIndex:function(L){return(g.isNumber(L)||g.isNull(L));},_bindAttrUI:function(Q){var R,L=Q.length;for(R=0;R<L;R++){this.after(Q[R]+z,this._setAttrUI);}},_syncAttrUI:function(R){var S,Q=R.length,L;for(S=0;S<Q;S++){L=R[S];this[E+s(L)](this.get(L));}},_setAttrUI:function(L){this[E+s(L.attrName)](L.newVal,L.src);},_strSetter:function(L){return b.merge(this.get(a),L);},getString:function(L){return this.get(a)[L];},getStrings:function(){return this.get(a);},_UI_ATTRS:{BIND:f,SYNC:f.concat(H)}});b.Widget=c;},"3.3.0",{requires:["attribute","event-focus","base-base","base-pluginhost","node-base","node-style","node-event-delegate","classnamemanager"]});YUI.add("widget-uievents",function(g){var f="boundingBox",e=g.Widget,d="render",a=g.Lang,c=":",b=g.Widget._uievts=g.Widget._uievts||{};g.mix(e.prototype,{_destroyUIEvents:function(){var h=g.stamp(this,true);
g.each(b,function(j,i){if(j.instances[h]){delete j.instances[h];if(g.Object.isEmpty(j.instances)){j.handle.detach();if(b[i]){delete b[i];}}}});},UI_EVENTS:g.Node.DOM_EVENTS,_getUIEventNode:function(){return this.get(f);},_createUIEvent:function(i){var l=this._getUIEventNode(),h=(g.stamp(l)+i),k=b[h],j;if(!k){j=l.delegate(i,function(m){var n=e.getByNode(this);n.fire(m.type,{domEvent:m});},"."+g.Widget.getClassName());b[h]=k={instances:{},handle:j};}k.instances[g.stamp(this)]=1;},_getUIEvent:function(j){if(a.isString(j)){var k=this.parseType(j)[1],h,i;if(k){h=k.indexOf(c);if(h>-1){k=k.substring(h+c.length);}if(this.UI_EVENTS[k]){i=k;}}return i;}},_initUIEvent:function(i){var j=this._getUIEvent(i),h=this._uiEvtsInitQueue||{};if(j&&!h[j]){this._uiEvtsInitQueue=h[j]=1;this.after(d,function(){this._createUIEvent(j);delete this._uiEvtsInitQueue[j];});}},on:function(h){this._initUIEvent(h);return e.superclass.on.apply(this,arguments);},publish:function(i,h){var j=this._getUIEvent(i);if(j&&h&&h.defaultFn){this._initUIEvent(j);}return e.superclass.publish.apply(this,arguments);}},true);},"3.3.0",{requires:["widget-base","node-event-delegate"]});YUI.add("widget-htmlparser",function(f){var e=f.Widget,c=f.Node,d=f.Lang,a="srcNode",b="contentBox";e.HTML_PARSER={};e._buildCfg={aggregates:["HTML_PARSER"]};e.ATTRS[a]={value:null,setter:c.one,getter:"_getSrcNode",writeOnce:true};f.mix(e.prototype,{_getSrcNode:function(g){return g||this.get(b);},_applyParsedConfig:function(i,g,h){return(h)?f.mix(g,h,false):g;},_applyParser:function(g){var i=this,j=i.get(a),h=i._getHtmlParser(),l,k;if(h&&j){f.Object.each(h,function(n,m,p){k=null;if(d.isFunction(n)){k=n.call(i,j);}else{if(d.isArray(n)){k=j.all(n[0]);if(k.isEmpty()){k=null;}}else{k=j.one(n);}}if(k!==null&&k!==undefined){l=l||{};l[m]=k;}});}g=i._applyParsedConfig(j,g,l);},_getHtmlParser:function(){var h=this._getClasses(),k={},g,j;for(g=h.length-1;g>=0;g--){j=h[g].HTML_PARSER;if(j){f.mix(k,j,true);}}return k;}});},"3.3.0",{requires:["widget-base"]});YUI.add("widget-skin",function(e){var d="boundingBox",b="contentBox",a="skin",c=e.ClassNameManager.getClassName;e.Widget.prototype.getSkinName=function(){var f=this.get(b)||this.get(d),h=new RegExp("\\b"+c(a)+"-(\\S+)"),g;if(f){f.ancestor(function(i){g=i.get("className").match(h);return g;});}return(g)?g[1]:null;};},"3.3.0",{requires:["widget-base"]});YUI.add("widget",function(a){},"3.3.0",{use:["widget-base","widget-uievents","widget-htmlparser","widget-skin"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("widget-position",function(A){var I=A.Lang,L=A.Widget,N="xy",J="position",G="positioned",K="boundingBox",H="relative",M="renderUI",F="bindUI",D="syncUI",C=L.UI_SRC,E="xyChange";function B(O){this._posNode=this.get(K);A.after(this._renderUIPosition,this,M);A.after(this._syncUIPosition,this,D);A.after(this._bindUIPosition,this,F);}B.ATTRS={x:{setter:function(O){this._setX(O);},getter:function(){return this._getX();},lazyAdd:false},y:{setter:function(O){this._setY(O);},getter:function(){return this._getY();},lazyAdd:false},xy:{value:[0,0],validator:function(O){return this._validateXY(O);}}};B.POSITIONED_CLASS_NAME=L.getClassName(G);B.prototype={_renderUIPosition:function(){this._posNode.addClass(B.POSITIONED_CLASS_NAME);},_syncUIPosition:function(){var O=this._posNode;if(O.getStyle(J)===H){this.syncXY();}this._uiSetXY(this.get(N));},_bindUIPosition:function(){this.after(E,this._afterXYChange);},move:function(){var O=arguments,P=(I.isArray(O[0]))?O[0]:[O[0],O[1]];this.set(N,P);},syncXY:function(){this.set(N,this._posNode.getXY(),{src:C});},_validateXY:function(O){return(I.isArray(O)&&I.isNumber(O[0])&&I.isNumber(O[1]));},_setX:function(O){this.set(N,[O,this.get(N)[1]]);},_setY:function(O){this.set(N,[this.get(N)[0],O]);},_getX:function(){return this.get(N)[0];},_getY:function(){return this.get(N)[1];},_afterXYChange:function(O){if(O.src!=C){this._uiSetXY(O.newVal);}},_uiSetXY:function(O){this._posNode.setXY(O);}};A.WidgetPosition=B;},"3.3.0",{requires:["base-build","node-screen","widget"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("widget-position-align",function(A){var H=A.Lang,D="align",F="bindUI",B="syncUI",E="offsetWidth",I="offsetHeight",K="viewportRegion",G="region",J="alignChange";function C(L){if(!this._posNode){A.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added");}A.after(this._syncUIPosAlign,this,B);A.after(this._bindUIPosAlign,this,F);}C.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:false,value:false}};C.TL="tl";C.TR="tr";C.BL="bl";C.BR="br";C.TC="tc";C.RC="rc";C.BC="bc";C.LC="lc";C.CC="cc";C.prototype={_syncUIPosAlign:function(){var L=this.get(D);if(L){this._uiSetAlign(L.node,L.points);}},_bindUIPosAlign:function(){this.after(J,this._afterAlignChange);},_setAlignCenter:function(L){if(L){this.set(D,{node:L===true?null:L,points:[C.CC,C.CC]});}return L;},_afterAlignChange:function(L){if(L.newVal){this._uiSetAlign(L.newVal.node,L.newVal.points);}},_uiSetAlign:function(O,N){if(!H.isArray(N)||N.length!=2){A.error("align: Invalid Points Arguments");return;}var M=this._getRegion(O),L,P,Q;if(M){L=N[0];P=N[1];switch(P){case C.TL:Q=[M.left,M.top];break;case C.TR:Q=[M.right,M.top];break;case C.BL:Q=[M.left,M.bottom];break;case C.BR:Q=[M.right,M.bottom];break;case C.TC:Q=[M.left+Math.floor(M.width/2),M.top];break;case C.BC:Q=[M.left+Math.floor(M.width/2),M.bottom];break;case C.LC:Q=[M.left,M.top+Math.floor(M.height/2)];break;case C.RC:Q=[M.right,M.top+Math.floor(M.height/2),L];break;case C.CC:Q=[M.left+Math.floor(M.width/2),M.top+Math.floor(M.height/2),L];break;default:break;}if(Q){this._doAlign(L,Q[0],Q[1]);}}},_doAlign:function(M,L,P){var O=this._posNode,N;switch(M){case C.TL:N=[L,P];break;case C.TR:N=[L-O.get(E),P];break;case C.BL:N=[L,P-O.get(I)];break;case C.BR:N=[L-O.get(E),P-O.get(I)];break;case C.TC:N=[L-(O.get(E)/2),P];break;case C.BC:N=[L-(O.get(E)/2),P-O.get(I)];break;case C.LC:N=[L,P-(O.get(I)/2)];break;case C.RC:N=[(L-O.get(E)),P-(O.get(I)/2)];break;case C.CC:N=[L-(O.get(E)/2),P-(O.get(I)/2)];break;default:break;}if(N){this.move(N);}},_getRegion:function(M){var L;if(!M){L=this._posNode.get(K);}else{M=A.Node.one(M);if(M){L=M.get(G);}}return L;},align:function(M,L){this.set(D,{node:M,points:L});},centered:function(L){this.align(L,[C.CC,C.CC]);}};A.WidgetPositionAlign=C;},"3.3.0",{requires:["widget-position"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("widget-stack",function(E){var N=E.Lang,T=E.UA,d=E.Node,F=E.Widget,c="zIndex",P="shim",a="visible",e="boundingBox",W="renderUI",G="bindUI",S="syncUI",Q="offsetWidth",D="offsetHeight",M="parentNode",A="firstChild",X="ownerDocument",H="width",V="height",K="px",O="shimdeferred",f="shimresize",Z="visibleChange",C="widthChange",J="heightChange",b="shimChange",B="zIndexChange",I="contentUpdate",R="stacked";function U(L){this._stackNode=this.get(e);this._stackHandles={};E.after(this._renderUIStack,this,W);E.after(this._syncUIStack,this,S);E.after(this._bindUIStack,this,G);}U.ATTRS={shim:{value:(T.ie==6)},zIndex:{value:0,setter:function(L){return this._setZIndex(L);}}};U.HTML_PARSER={zIndex:function(L){return L.getStyle(c);}};U.SHIM_CLASS_NAME=F.getClassName(P);U.STACKED_CLASS_NAME=F.getClassName(R);U.SHIM_TEMPLATE='<iframe class="'+U.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>';U.prototype={_syncUIStack:function(){this._uiSetShim(this.get(P));this._uiSetZIndex(this.get(c));},_bindUIStack:function(){this.after(b,this._afterShimChange);this.after(B,this._afterZIndexChange);},_renderUIStack:function(){this._stackNode.addClass(U.STACKED_CLASS_NAME);},_setZIndex:function(L){if(N.isString(L)){L=parseInt(L,10);}if(!N.isNumber(L)){L=0;}return L;},_afterShimChange:function(L){this._uiSetShim(L.newVal);},_afterZIndexChange:function(L){this._uiSetZIndex(L.newVal);},_uiSetZIndex:function(L){this._stackNode.setStyle(c,L);},_uiSetShim:function(L){if(L){if(this.get(a)){this._renderShim();}else{this._renderShimDeferred();}}else{this._destroyShim();}},_renderShimDeferred:function(){this._stackHandles[O]=this._stackHandles[O]||[];var Y=this._stackHandles[O],L=function(g){if(g.newVal){this._renderShim();}};Y.push(this.on(Z,L));},_addShimResizeHandlers:function(){this._stackHandles[f]=this._stackHandles[f]||[];var Y=this.sizeShim,L=this._stackHandles[f];this.sizeShim();L.push(this.after(Z,Y));L.push(this.after(C,Y));L.push(this.after(J,Y));L.push(this.after(I,Y));},_detachStackHandles:function(L){var Y=this._stackHandles[L],g;if(Y&&Y.length>0){while((g=Y.pop())){g.detach();}}},_renderShim:function(){var L=this._shimNode,Y=this._stackNode;if(!L){L=this._shimNode=this._getShimTemplate();Y.insertBefore(L,Y.get(A));if(T.ie==6){this._addShimResizeHandlers();}this._detachStackHandles(O);}},_destroyShim:function(){if(this._shimNode){this._shimNode.get(M).removeChild(this._shimNode);this._shimNode=null;this._detachStackHandles(O);this._detachStackHandles(f);}},sizeShim:function(){var Y=this._shimNode,L=this._stackNode;if(Y&&T.ie===6&&this.get(a)){Y.setStyle(H,L.get(Q)+K);Y.setStyle(V,L.get(D)+K);}},_getShimTemplate:function(){return d.create(U.SHIM_TEMPLATE,this._stackNode.get(X));}};E.WidgetStack=U;},"3.3.0",{requires:["base-build","widget"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("autocomplete-base",function(f){var g=f.Escape,j=f.Lang,q=f.Array,i=f.Object,d=j.isFunction,r=j.isString,u=j.trim,l=f.Attribute.INVALID_VALUE,o="_functionValidator",x="_sourceSuccess",c="allowBrowserAutocomplete",h="inputNode",w="query",e="queryDelimiter",b="requestTemplate",m="results",n="resultListLocator",k="value",s="valueChange",a="clear",t=w,p=m;function v(){f.before(this._bindUIACBase,this,"bindUI");f.before(this._destructorACBase,this,"destructor");f.before(this._syncUIACBase,this,"syncUI");this.publish(a,{defaultFn:this._defClearFn});this.publish(t,{defaultFn:this._defQueryFn});this.publish(p,{defaultFn:this._defResultsFn});}v.ATTRS={allowBrowserAutocomplete:{value:false},allowTrailingDelimiter:{value:false},inputNode:{setter:f.one,writeOnce:"initOnly"},maxResults:{value:0},minQueryLength:{value:1},query:{readOnly:true,value:null},queryDelay:{value:100},queryDelimiter:{value:null},requestTemplate:{setter:"_setRequestTemplate",value:null},resultFilters:{setter:"_setResultFilters",value:[]},resultFormatter:{validator:o},resultHighlighter:{setter:"_setResultHighlighter"},resultListLocator:{setter:"_setLocator"},results:{readOnly:true,value:[]},resultTextLocator:{setter:"_setLocator"},source:{setter:"_setSource"},tokenInput:{readOnly:true},value:{value:""}};v.CSS_PREFIX="ac";v.UI_SRC=(f.Widget&&f.Widget.UI_SRC)||"ui";v.prototype={sendRequest:function(A,B){var y,z=this.get("source");if(A||A===""){this._set(w,A);}else{A=this.get(w);}if(z){if(!B){B=this.get(b);}y=B?B(A):A;z.sendRequest({request:y,callback:{success:f.bind(this._onResponse,this,A)}});}return this;},_bindUIACBase:function(){var z=this.get(h),y=z&&z.tokenInput;if(y){z=y.get(h);this._set("tokenInput",y);}if(!z){f.error("No inputNode specified.");return;}this._inputNode=z;this._acBaseEvents=[z.on(s,this._onInputValueChange,this),z.on("blur",this._onInputBlur,this),this.after(c+"Change",this._syncBrowserAutocomplete),this.after(s,this._afterValueChange)];},_destructorACBase:function(){var y=this._acBaseEvents;while(y&&y.length){y.pop().detach();}},_syncUIACBase:function(){this._syncBrowserAutocomplete();this.set(k,this.get(h).get(k));},_createArraySource:function(z){var y=this;return{sendRequest:function(A){y[x](z.concat(),A);}};},_createFunctionSource:function(z){var y=this;return{sendRequest:function(A){y[x](z(A.request)||[],A);}};},_createObjectSource:function(z){var y=this;return{sendRequest:function(A){var B=A.request;y[x](i.owns(z,B)?z[B]:[],A);}};},_functionValidator:function(y){return y===null||d(y);},_getObjectValue:function(B,A){if(!B){return;}for(var z=0,y=A.length;B&&z<y;z++){B=B[A[z]];}return B;},_parseResponse:function(A,y,P){var G={data:P,query:A,results:[]},I=this.get(n),H=[],F=y&&y.results,C,z,J,B,O,K,L,M,D,E,N;if(F&&I){F=I(F);}if(F&&F.length){C=this.get("resultFilters");N=this.get("resultTextLocator");for(K=0,L=F.length;K<L;++K){D=F[K];E=N?N(D):D.toString();H.push({display:g.html(E),raw:D,text:E});}for(K=0,L=C.length;K<L;++K){H=C[K](A,H.concat());if(!H){return;}if(!H.length){break;}}if(H.length){J=this.get("resultFormatter");O=this.get("resultHighlighter");M=this.get("maxResults");if(M&&M>0&&H.length>M){H.length=M;}if(O){B=O(A,H.concat());if(!B){return;}for(K=0,L=B.length;K<L;++K){D=H[K];D.highlighted=B[K];D.display=D.highlighted;}}if(J){z=J(A,H.concat());if(!z){return;}for(K=0,L=z.length;K<L;++K){H[K].display=z[K];}}}}G.results=H;this.fire(p,G);},_parseValue:function(y){var z=this.get(e);if(z){y=y.split(z);y=y[y.length-1];}return j.trimLeft(y);},_setLocator:function(y){if(this[o](y)){return y;}var z=this;y=y.toString().split(".");return function(A){return A&&z._getObjectValue(A,y);};},_setRequestTemplate:function(y){if(this[o](y)){return y;}y=y.toString();return function(z){return j.sub(y,{query:encodeURIComponent(z)});};},_setResultFilters:function(A){var y,z;if(A===null){return[];}y=f.AutoCompleteFilters;z=function(B){if(d(B)){return B;}if(r(B)&&y&&d(y[B])){return y[B];}return false;};if(j.isArray(A)){A=q.map(A,z);return q.every(A,function(B){return !!B;})?A:l;}else{A=z(A);return A?[A]:l;}},_setResultHighlighter:function(y){var z;if(this._functionValidator(y)){return y;}z=f.AutoCompleteHighlighters;if(r(y)&&z&&d(z[y])){return z[y];}return l;},_setSource:function(z){var y="autocomplete-sources module not loaded";if((z&&d(z.sendRequest))||z===null){return z;}switch(j.type(z)){case"string":if(this._createStringSource){return this._createStringSource(z);}f.error(y);return l;case"array":return this._createArraySource(z);case"function":return this._createFunctionSource(z);case"object":if(f.JSONPRequest&&z instanceof f.JSONPRequest){if(this._createJSONPSource){return this._createJSONPSource(z);}f.error(y);return l;}return this._createObjectSource(z);}return l;},_sourceSuccess:function(z,y){y.callback.success({data:z,response:{results:z}});},_syncBrowserAutocomplete:function(){var y=this.get(h);if(y.get("nodeName").toLowerCase()==="input"){y.setAttribute("autocomplete",this.get(c)?"on":"off");}},_updateValue:function(z){var B=this.get(e),A,y,C;z=j.trimLeft(z);if(B){A=u(B);C=q.map(u(this.get(k)).split(B),u);y=C.length;if(y>1){C[y-1]=z;z=C.join(A+" ");}z=z+A+" ";}this.set(k,z);},_afterValueChange:function(E){var A,B,y,z=E.newVal,D,C;if(E.src!==v.UI_SRC){this._inputNode.set(k,z);return;}y=this.get("minQueryLength");D=this._parseValue(z)||"";if(y>=0&&D.length>=y){A=this.get("queryDelay");C=this;B=function(){C.fire(t,{inputValue:z,query:D});};if(A){clearTimeout(this._delay);this._delay=setTimeout(B,A);}else{B();}}else{clearTimeout(this._delay);this.fire(a,{prevVal:E.prevVal?this._parseValue(E.prevVal):null});}},_onInputBlur:function(B){var C=this.get(e),y,z,A;if(C&&!this.get("allowTrailingDelimiter")){C=j.trimRight(C);A=z=this._inputNode.get(k);if(C){while((z=j.trimRight(z))&&(y=z.length-C.length)&&z.lastIndexOf(C)===y){z=z.substring(0,y);}}else{z=j.trimRight(z);}if(z!==A){this.set(k,z);}}},_onInputValueChange:function(z){var y=z.newVal;if(y===this.get(k)){return;}this.set(k,y,{src:v.UI_SRC});},_onResponse:function(y,z){if(y===this.get(w)){this._parseResponse(y,z.response,z.data);
}},_defClearFn:function(){this._set(w,null);this._set(m,[]);},_defQueryFn:function(z){var y=z.query;this.sendRequest(y);},_defResultsFn:function(y){this._set(m,y[m]);}};f.AutoCompleteBase=v;},"3.3.0",{optional:["autocomplete-sources"],requires:["array-extras","base-build","escape","event-valuechange","node-base"]});YUI.add("autocomplete-sources",function(g){var e=g.Lang,a="_sourceSuccess",c="maxResults",d="requestTemplate",b="resultListLocator";function f(){}f.prototype={_YQL_SOURCE_REGEX:/^(?:select|set|use)\s+/i,_createIOSource:function(l){var i={},j={},k=this,n,h,m;j.sendRequest=function(p){var o=function(s){var t=s.request,q,u,r;if(i[t]){k[a](i[t],s);}else{q=k.get(c);u=k.get(d);r=l;if(u){r+=u(t);}r=e.sub(r,{maxResults:q>0?q:1000,query:encodeURIComponent(t)});if(n&&n.isInProgress()){n.abort();}n=g.io(r,{on:{success:function(y,v){var x;try{x=g.JSON.parse(v.responseText);}catch(w){g.error("JSON parse error",w);}if(x){i[t]=x;k[a](x,s);}}}});}};h=p;if(!m){m=true;g.use("io-base","json-parse",function(){j.sendRequest=o;o(h);});}};return j;},_createJSONPSource:function(l){var i={},j={},k=this,h,m;j.sendRequest=function(o){var n=function(p){var q=p.request;if(i[q]){k[a](i[q],p);}else{l._config.on.success=function(r){i[q]=r;k[a](r,p);};l.send(q);}};h=o;if(!m){m=true;g.use("jsonp",function(){if(!(l instanceof g.JSONPRequest)){l=new g.JSONPRequest(l,{format:g.bind(k._jsonpFormatter,k)});}j.sendRequest=n;n(h);});}};return j;},_createStringSource:function(h){if(this._YQL_SOURCE_REGEX.test(h)){return this._createYQLSource(h);}else{if(h.indexOf("{callback}")!==-1){return this._createJSONPSource(h);}else{return this._createIOSource(h);}}},_createYQLSource:function(k){var i={},l={},j=this,h,m;if(!this.get(b)){this.set(b,this._defaultYQLLocator);}l.sendRequest=function(p){var o,n=function(u){var v=u.request,w,s,q,t,r;if(i[v]){j[a](i[v],u);}else{w=function(x){i[v]=x;j[a](x,u);};s=j.get("yqlEnv");q=j.get(c);t={proto:j.get("yqlProtocol")};r=e.sub(k,{maxResults:q>0?q:1000,query:v});if(o){o._callback=w;o._opts=t;o._params.q=r;if(s){o._params.env=s;}}else{o=new g.YQLRequest(r,{on:{success:w},allowCache:false},s?{env:s}:null,t);}o.send();}};h=p;if(!m){m=true;g.use("yql",function(){l.sendRequest=n;n(h);});}};return l;},_defaultYQLLocator:function(i){var j=i&&i.query&&i.query.results,h;if(j&&e.isObject(j)){h=g.Object.values(j)||[];j=h.length===1?h[0]:h;if(!e.isArray(j)){j=[j];}}else{j=[];}return j;},_jsonpFormatter:function(i,j,k){var h=this.get(c),l=this.get(d);if(l){i+=l(k);}return e.sub(i,{callback:j,maxResults:h>0?h:1000,query:encodeURIComponent(k)});}};f.ATTRS={yqlEnv:{value:null},yqlProtocol:{value:"http"}};g.Base.mix(g.AutoCompleteBase,[f]);},"3.3.0",{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]});YUI.add("autocomplete-list",function(b){var h=b.Lang,u=b.Node,k=b.Array,o=9,r="_CLASS_ITEM",s="_CLASS_ITEM_ACTIVE",d="_CLASS_ITEM_HOVER",t="_SELECTOR_ITEM",f="activeItem",j="alwaysShowList",n="circular",q="hoveredItem",l="id",e="item",c="list",v="result",i="results",p="visible",g="width",m="select",a=b.Base.create("autocompleteList",b.Widget,[b.AutoCompleteBase,b.WidgetPosition,b.WidgetPositionAlign,b.WidgetStack],{ARIA_TEMPLATE:"<div/>",ITEM_TEMPLATE:"<li/>",LIST_TEMPLATE:"<ul/>",initializer:function(){var w=this.get("inputNode");if(!w){b.error("No inputNode specified.");return;}this._inputNode=w;this._listEvents=[];this.DEF_PARENT_NODE=w.get("parentNode");this[r]=this.getClassName(e);this[s]=this.getClassName(e,"active");this[d]=this.getClassName(e,"hover");this[t]="."+this[r];this.publish(m,{defaultFn:this._defSelectFn});},destructor:function(){while(this._listEvents.length){this._listEvents.pop().detach();}},bindUI:function(){this._bindInput();this._bindList();},renderUI:function(){var A=this._createAriaNode(),x=this.get("contentBox"),z=this._inputNode,y,w=z.get("parentNode");y=this._createListNode();this._set("listNode",y);x.append(y);z.addClass(this.getClassName("input")).setAttrs({"aria-autocomplete":c,"aria-expanded":false,"aria-owns":y.get("id"),role:"combobox"});w.append(A);this._ariaNode=A;this._boundingBox=this.get("boundingBox");this._contentBox=x;this._listNode=y;this._parentNode=w;},syncUI:function(){this._syncResults();this._syncVisibility();},hide:function(){return this.get(j)?this:this.set(p,false);},selectItem:function(w){if(w){if(!w.hasClass(this[r])){return this;}}else{w=this.get(f);if(!w){return this;}}this.fire(m,{itemNode:w,result:w.getData(v)});return this;},_activateNextItem:function(){var x=this.get(f),w;if(x){w=x.next(this[t])||(this.get(n)?null:x);}else{w=this._getFirstItemNode();}this.set(f,w);return this;},_activatePrevItem:function(){var x=this.get(f),w=x?x.previous(this[t]):this.get(n)&&this._getLastItemNode();this.set(f,w||null);return this;},_add:function(w){var x=[];k.each(h.isArray(w)?w:[w],function(y){x.push(this._createItemNode(y).setData(v,y));},this);x=b.all(x);this._listNode.append(x.toFrag());return x;},_ariaSay:function(y,w){var x=this.get("strings."+y);this._ariaNode.setContent(w?h.sub(x,w):x);},_bindInput:function(){var z=this._inputNode,x,y,w;if(this.get("align")===null){w=this.get("tokenInput");x=(w&&w.get("boundingBox"))||z;this.set("align",{node:x,points:["tl","bl"]});if(!this.get(g)&&(y=x.get("offsetWidth"))){this.set(g,y);}}this._listEvents.push(z.on("blur",this._onListInputBlur,this));},_bindList:function(){this._listEvents.concat([this.after({mouseover:this._afterMouseOver,mouseout:this._afterMouseOut,activeItemChange:this._afterActiveItemChange,alwaysShowListChange:this._afterAlwaysShowListChange,hoveredItemChange:this._afterHoveredItemChange,resultsChange:this._afterResultsChange,visibleChange:this._afterVisibleChange}),this._listNode.delegate("click",this._onItemClick,this[t],this)]);},_clear:function(){this.set(f,null);this._set(q,null);this._listNode.get("children").remove(true);},_createAriaNode:function(){var w=u.create(this.ARIA_TEMPLATE);return w.addClass(this.getClassName("aria")).setAttrs({"aria-live":"polite",role:"status"});
},_createItemNode:function(w){var x=u.create(this.ITEM_TEMPLATE);return x.addClass(this[r]).setAttrs({id:b.stamp(x),role:"option"}).setAttribute("data-text",w.text).append(w.display);},_createListNode:function(){var w=u.create(this.LIST_TEMPLATE);return w.addClass(this.getClassName(c)).setAttrs({id:b.stamp(w),role:"listbox"});},_getFirstItemNode:function(){return this._listNode.one(this[t]);},_getLastItemNode:function(){return this._listNode.one(this[t]+":last-child");},_syncResults:function(x){var w;if(!x){x=this.get(i);}this._clear();if(x.length){w=this._add(x);this._ariaSay("items_available");}if(this.get("activateFirstItem")&&!this.get(f)){this.set(f,this._getFirstItemNode());}},_syncVisibility:function(w){if(this.get(j)){w=true;this.set(p,w);}if(typeof w==="undefined"){w=this.get(p);}this._inputNode.set("aria-expanded",w);this._boundingBox.set("aria-hidden",!w);if(w){this._syncUIPosAlign();}else{this.set(f,null);this._set(q,null);this._boundingBox.get("offsetWidth");}},_afterActiveItemChange:function(y){var x=this._inputNode,w=y.newVal,z=y.prevVal;if(z&&z._node){z.removeClass(this[s]);}if(w){w.addClass(this[s]);x.set("aria-activedescendant",w.get(l));}else{x.removeAttribute("aria-activedescendant");}if(this.get("scrollIntoView")){(w||x).scrollIntoView();}},_afterAlwaysShowListChange:function(w){this.set(p,w.newVal||this.get(i).length>0);},_afterHoveredItemChange:function(x){var w=x.newVal,y=x.prevVal;if(y){y.removeClass(this[d]);}if(w){w.addClass(this[d]);}},_afterMouseOver:function(w){var x=w.domEvent.target.ancestor(this[t],true);this._mouseOverList=true;if(x){this._set(q,x);}},_afterMouseOut:function(){this._mouseOverList=false;this._set(q,null);},_afterResultsChange:function(w){this._syncResults(w.newVal);if(!this.get(j)){this.set(p,!!w.newVal.length);}},_afterVisibleChange:function(w){this._syncVisibility(!!w.newVal);},_onListInputBlur:function(w){if(!this._mouseOverList||this._lastInputKey===o){this.hide();}},_onItemClick:function(w){var x=w.currentTarget;this.set(f,x);this.selectItem(x);},_defSelectFn:function(w){var x=w.result.text;this._inputNode.focus();this._updateValue(x);this._ariaSay("item_selected",{item:x});this.hide();}},{ATTRS:{activateFirstItem:{value:false},activeItem:{setter:b.one,value:null},alwaysShowList:{value:false},circular:{value:true},hoveredItem:{readOnly:true,value:null},listNode:{readOnly:true,value:null},scrollIntoView:{value:false},strings:{valueFn:function(){return b.Intl.get("autocomplete-list");}},tabSelect:{value:true},visible:{value:false}},CSS_PREFIX:b.ClassNameManager.getClassName("aclist")});b.AutoCompleteList=a;b.AutoComplete=a;},"3.3.0",{lang:["en"],requires:["autocomplete-base","selector-css3","widget","widget-position","widget-position-align","widget-stack"],after:["autocomplete-sources"],skinnable:true});YUI.add("autocomplete-plugin",function(b){var a=b.Plugin;function c(d){d.inputNode=d.host;if(!d.render&&d.render!==false){d.render=true;}c.superclass.constructor.apply(this,arguments);}b.extend(c,b.AutoCompleteList,{},{NAME:"autocompleteListPlugin",NS:"ac",CSS_PREFIX:b.ClassNameManager.getClassName("aclist")});a.AutoComplete=c;a.AutoCompleteList=c;},"3.3.0",{requires:["autocomplete-list","node-pluginhost"]});YUI.add("autocomplete",function(a){},"3.3.0",{use:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("autocomplete-list-keys",function(g){var c=40,a=13,d=27,f=9,b=38;function e(){g.before(this._unbindKeys,this,"destructor");g.before(this._bindKeys,this,"bindUI");this._initKeys();}e.prototype={_initKeys:function(){var h={},i={};this._keyEvents=[];h[c]=this._keyDown;i[a]=this._keyEnter;i[d]=this._keyEsc;i[f]=this._keyTab;i[b]=this._keyUp;this._keys=h;this._keysVisible=i;},_bindKeys:function(){this._keyEvents.push(this._inputNode.on(g.UA.gecko?"keypress":"keydown",this._onInputKey,this));},_unbindKeys:function(){while(this._keyEvents.length){this._keyEvents.pop().detach();}},_keyDown:function(){if(this.get("visible")){this._activateNextItem();}else{this.show();}},_keyEnter:function(){var h=this.get("activeItem");if(h){this.selectItem(h);}else{return false;}},_keyEsc:function(){this.hide();},_keyTab:function(){var h;if(this.get("tabSelect")){h=this.get("activeItem");if(h){this.selectItem(h);return true;}}return false;},_keyUp:function(){this._activatePrevItem();},_onInputKey:function(j){var h,i=j.keyCode;this._lastInputKey=i;if(this.get("results").length){h=this._keys[i];if(!h&&this.get("visible")){h=this._keysVisible[i];}if(h){if(h.call(this,j)!==false){j.preventDefault();}}}}};g.Base.mix(g.AutoCompleteList,[e]);},"3.3.0",{requires:["autocomplete-list","base-build"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("anim-base",function(B){var C="running",N="startTime",L="elapsedTime",J="start",I="tween",M="end",D="node",K="paused",O="reverse",H="iterationCount",A=Number;var F={},E;B.Anim=function(){B.Anim.superclass.constructor.apply(this,arguments);B.Anim._instances[B.stamp(this)]=this;};B.Anim.NAME="anim";B.Anim._instances={};B.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;B.Anim.DEFAULT_UNIT="px";B.Anim.DEFAULT_EASING=function(Q,P,S,R){return S*Q/R+P;};B.Anim._intervalTime=20;B.Anim.behaviors={left:{get:function(Q,P){return Q._getOffset(P);}}};B.Anim.behaviors.top=B.Anim.behaviors.left;B.Anim.DEFAULT_SETTER=function(S,T,V,W,Y,R,U,X){var Q=S._node,P=U(Y,A(V),A(W)-A(V),R);if(T in Q._node.style||T in B.DOM.CUSTOM_STYLES){X=X||"";Q.setStyle(T,P+X);}else{if(Q._node.attributes[T]){Q.setAttribute(T,P);}else{Q.set(T,P);}}};B.Anim.DEFAULT_GETTER=function(R,P){var Q=R._node,S="";if(P in Q._node.style||P in B.DOM.CUSTOM_STYLES){S=Q.getComputedStyle(P);}else{if(Q._node.attributes[P]){S=Q.getAttribute(P);}else{S=Q.get(P);}}return S;};B.Anim.ATTRS={node:{setter:function(P){P=B.one(P);this._node=P;if(!P){}return P;}},duration:{value:1},easing:{value:B.Anim.DEFAULT_EASING,setter:function(P){if(typeof P==="string"&&B.Easing){return B.Easing[P];}}},from:{},to:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{getter:function(){return !!F[B.stamp(this)];},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reverse:{value:false}};B.Anim.run=function(){var Q=B.Anim._instances;for(var P in Q){if(Q[P].run){Q[P].run();}}};B.Anim.pause=function(){for(var P in F){if(F[P].pause){F[P].pause();}}B.Anim._stopTimer();};B.Anim.stop=function(){for(var P in F){if(F[P].stop){F[P].stop();}}B.Anim._stopTimer();};B.Anim._startTimer=function(){if(!E){E=setInterval(B.Anim._runFrame,B.Anim._intervalTime);}};B.Anim._stopTimer=function(){clearInterval(E);E=0;};B.Anim._runFrame=function(){var P=true;for(var Q in F){if(F[Q]._runFrame){P=false;F[Q]._runFrame();}}if(P){B.Anim._stopTimer();}};B.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var G={run:function(){if(this.get(K)){this._resume();}else{if(!this.get(C)){this._start();}}return this;},pause:function(){if(this.get(C)){this._pause();}return this;},stop:function(P){if(this.get(C)||this.get(K)){this._end(P);}return this;},_added:false,_start:function(){this._set(N,new Date()-this.get(L));this._actualFrames=0;if(!this.get(K)){this._initAnimAttr();}F[B.stamp(this)]=this;B.Anim._startTimer();this.fire(J);},_pause:function(){this._set(N,null);this._set(K,true);delete F[B.stamp(this)];this.fire("pause");},_resume:function(){this._set(K,false);F[B.stamp(this)]=this;this._set(N,new Date()-this.get(L));B.Anim._startTimer();this.fire("resume");},_end:function(P){var Q=this.get("duration")*1000;if(P){this._runAttrs(Q,Q,this.get(O));}this._set(N,null);this._set(L,0);this._set(K,false);delete F[B.stamp(this)];this.fire(M,{elapsed:this.get(L)});},_runFrame:function(){var T=this._runtimeAttr.duration,R=new Date()-this.get(N),Q=this.get(O),P=(R>=T),S,U;this._runAttrs(R,T,Q);this._actualFrames+=1;this._set(L,R);this.fire(I);if(P){this._lastFrame();}},_runAttrs:function(Z,Y,V){var W=this._runtimeAttr,R=B.Anim.behaviors,X=W.easing,P=Y,T=false,Q,S,U;if(Z>=Y){T=true;}if(V){Z=Y-Z;P=0;}for(U in W){if(W[U].to){Q=W[U];S=(U in R&&"set" in R[U])?R[U].set:B.Anim.DEFAULT_SETTER;if(!T){S(this,U,Q.from,Q.to,Z,Y,X,Q.unit);}else{S(this,U,Q.from,Q.to,P,Y,X,Q.unit);}}}},_lastFrame:function(){var P=this.get("iterations"),Q=this.get(H);Q+=1;if(P==="infinite"||Q<P){if(this.get("direction")==="alternate"){this.set(O,!this.get(O));}this.fire("iteration");}else{Q=0;this._end();}this._set(N,new Date());this._set(H,Q);},_initAnimAttr:function(){var W=this.get("from")||{},V=this.get("to")||{},P={duration:this.get("duration")*1000,easing:this.get("easing")},R=B.Anim.behaviors,U=this.get(D),T,S,Q;B.each(V,function(a,Y){if(typeof a==="function"){a=a.call(this,U);}S=W[Y];if(S===undefined){S=(Y in R&&"get" in R[Y])?R[Y].get(this,Y):B.Anim.DEFAULT_GETTER(this,Y);}else{if(typeof S==="function"){S=S.call(this,U);}}var X=B.Anim.RE_UNITS.exec(S);var Z=B.Anim.RE_UNITS.exec(a);S=X?X[1]:S;Q=Z?Z[1]:a;T=Z?Z[2]:X?X[2]:"";if(!T&&B.Anim.RE_DEFAULT_UNIT.test(Y)){T=B.Anim.DEFAULT_UNIT;}if(!S||!Q){B.error('invalid "from" or "to" for "'+Y+'"',"Anim");return;}P[Y]={from:S,to:Q,unit:T};},this);this._runtimeAttr=P;},_getOffset:function(Q){var S=this._node,T=S.getComputedStyle(Q),R=(Q==="left")?"getX":"getY",U=(Q==="left")?"setX":"setY";if(T==="auto"){var P=S.getStyle("position");if(P==="absolute"||P==="fixed"){T=S[R]();S[U](T);}else{T=0;}}return T;},destructor:function(){delete B.Anim._instances[B.stamp(this)];}};B.extend(B.Anim,B.Base,G);},"3.3.0",{requires:["base-base","node-style"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("anim-easing",function(B){var A={easeNone:function(D,C,F,E){return F*D/E+C;},easeIn:function(D,C,F,E){return F*(D/=E)*D+C;},easeOut:function(D,C,F,E){return -F*(D/=E)*(D-2)+C;},easeBoth:function(D,C,F,E){if((D/=E/2)<1){return F/2*D*D+C;}return -F/2*((--D)*(D-2)-1)+C;},easeInStrong:function(D,C,F,E){return F*(D/=E)*D*D*D+C;},easeOutStrong:function(D,C,F,E){return -F*((D=D/E-1)*D*D*D-1)+C;},easeBothStrong:function(D,C,F,E){if((D/=E/2)<1){return F/2*D*D*D*D+C;}return -F/2*((D-=2)*D*D*D-2)+C;},elasticIn:function(E,C,I,H,D,G){var F;if(E===0){return C;}if((E/=H)===1){return C+I;}if(!G){G=H*0.3;}if(!D||D<Math.abs(I)){D=I;F=G/4;}else{F=G/(2*Math.PI)*Math.asin(I/D);}return -(D*Math.pow(2,10*(E-=1))*Math.sin((E*H-F)*(2*Math.PI)/G))+C;},elasticOut:function(E,C,I,H,D,G){var F;if(E===0){return C;}if((E/=H)===1){return C+I;}if(!G){G=H*0.3;}if(!D||D<Math.abs(I)){D=I;F=G/4;}else{F=G/(2*Math.PI)*Math.asin(I/D);}return D*Math.pow(2,-10*E)*Math.sin((E*H-F)*(2*Math.PI)/G)+I+C;},elasticBoth:function(E,C,I,H,D,G){var F;if(E===0){return C;}if((E/=H/2)===2){return C+I;}if(!G){G=H*(0.3*1.5);}if(!D||D<Math.abs(I)){D=I;F=G/4;}else{F=G/(2*Math.PI)*Math.asin(I/D);}if(E<1){return -0.5*(D*Math.pow(2,10*(E-=1))*Math.sin((E*H-F)*(2*Math.PI)/G))+C;}return D*Math.pow(2,-10*(E-=1))*Math.sin((E*H-F)*(2*Math.PI)/G)*0.5+I+C;},backIn:function(D,C,G,F,E){if(E===undefined){E=1.70158;}if(D===F){D-=0.001;}return G*(D/=F)*D*((E+1)*D-E)+C;},backOut:function(D,C,G,F,E){if(typeof E==="undefined"){E=1.70158;}return G*((D=D/F-1)*D*((E+1)*D+E)+1)+C;},backBoth:function(D,C,G,F,E){if(typeof E==="undefined"){E=1.70158;}if((D/=F/2)<1){return G/2*(D*D*(((E*=(1.525))+1)*D-E))+C;}return G/2*((D-=2)*D*(((E*=(1.525))+1)*D+E)+2)+C;},bounceIn:function(D,C,F,E){return F-B.Easing.bounceOut(E-D,0,F,E)+C;},bounceOut:function(D,C,F,E){if((D/=E)<(1/2.75)){return F*(7.5625*D*D)+C;}else{if(D<(2/2.75)){return F*(7.5625*(D-=(1.5/2.75))*D+0.75)+C;}else{if(D<(2.5/2.75)){return F*(7.5625*(D-=(2.25/2.75))*D+0.9375)+C;}}}return F*(7.5625*(D-=(2.625/2.75))*D+0.984375)+C;},bounceBoth:function(D,C,F,E){if(D<E/2){return B.Easing.bounceIn(D*2,0,F,E)*0.5+C;}return B.Easing.bounceOut(D*2-E,0,F,E)*0.5+F*0.5+C;}};B.Easing=A;},"3.3.0",{requires:["anim-base"]});YUI.namespace("Y.Slide"),YUI.add("trip-slide",function(a){typeof a.Node.prototype.queryAll=="undefined"&&(a.Node.prototype.queryAll=a.Node.prototype.all,a.Node.prototype.query=a.Node.prototype.one,a.Node.get=a.Node.one,a.get=a.one);var b=function(){this.init.apply(this,arguments)};a.mix(b,{init:function(a,b){var c=this;c.id=a,c.buildParam(b),c.buildEventCenter(),c.construct(),c.bindEvent(),c.ready({index:0,navnode:c.tabs.item(0),pannelnode:c.pannels.item(0)});if(c.reverse){var d;d=c.previous,c.previous=c.next,c.next=d}return this},renderLazyData:function(b){b.setStyle("display","none");if(b.getAttribute("lazy-data")!="1"){b.setAttribute("lazy-data","1");var c=a.stamp(e),d=b.get("innerHTML").replace(/&lt;/ig,"<").replace(/&gt;/ig,">").replace(/&amp;/ig,"&"),e=a.Node.create("<div>"+d+"</div>");b.insert(e,"before");var f=function(a){if(a&&/\S/.test(a)){var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.text=a,b.insertBefore(c,b.firstChild),b.removeChild(c)}},c="K_"+(new Date).getTime().toString(),g=new RegExp(/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig),h=a.Node.getDOMNode(a.one("head")),i,j,k,l,m,n,o,p=/\ssrc=(['"])(.*?)\1/i,q=/\scharset=(['"])(.*?)\1/i;g.lastIndex=0;while(i=g.exec(d))j=i[1],k=j?j.match(p):!1,k&&k[2]?(n=document.createElement("script"),n.src=k[2],(l=j.match(q))&&l[2]&&(n.charset=l[2]),n.async=!0,h.appendChild(n)):(o=i[2])&&o.length>0&&f(o)}},buildEventCenter:function(){var b=this,c=function(){this.publish("switch")};a.augment(c,a.Event.Target),b.EventCenter=new c;return this},on:function(a,b){var c=this;c.EventCenter.subscribe(a,b);return this},construct:function(){var b=this,c=b.con=a.one("#"+b.id);b.tabs=c.all("."+b.navClass+" li");var d=c.all("."+b.contentClass+" div."+b.pannelClass);b.length=d.size();if(b.tabs.size()==0){var e=c.all("."+b.navClass),f="";for(var g=0;g<b.length;g++){var h="";g==0&&(h=b.selectedClass),f+='<li class="'+h+'"><a href="javascript:void(0);" target="_self">'+(g+1)+"</a></li>"}e.set("innerHTML",f)}b.tabs=c.all("."+b.navClass+" li"),b.animcon=c.query("."+b.contentClass),b.animwrap=null;if(b.effect=="none")b.pannels=c.all("."+b.contentClass+" div."+b.pannelClass);else if(b.effect=="v-slide"){b.animwrap=a.Node.create('<div style="position:absolute;"></div>'),b.animwrap.set("innerHTML",b.animcon.get("innerHTML")),b.animcon.set("innerHTML",""),b.animcon.appendChild(b.animwrap),b.pannels=c.all("."+b.contentClass+" div."+b.pannelClass);var i=b.animcon.get("region"),j=b.itemWidth||i.width;b.pannels.setStyles({height:i.height,"float":"none",overflow:"hidden"}),b.animwrap.setStyles({height:b.length*i.height+"px",overflow:"hidden",top:-1*b.defaultTab*i.height+"px"})}else if(b.effect=="h-slide"){b.animwrap=a.Node.create('<div style="position:absolute;"></div>');var k=b.animcon.get("innerHTML");b.loop&&(k=k+k),b.animwrap.set("innerHTML",k),b.animcon.set("innerHTML",""),b.animcon.appendChild(b.animwrap),b.pannels=c.all("."+b.contentClass+" div."+b.pannelClass);var i=b.animcon.get("region"),j=b.itemWidth||i.width;b.pannels.setStyles({height:i.height,"float":"left",overflow:"hidden"});var l=b.length*j;b.loop&&(l=l*2),b.animwrap.setStyles({width:l,overflow:"hidden",zoom:1,left:-1*b.defaultTab*j+"px"})}else b.effect=="fade"&&(b.pannels=c.all("."+b.contentClass+" div."+b.pannelClass),b.pannels.setStyles({position:"absolute",zIndex:0}),b.pannels.each(function(a,c){c==b.defaultTab?(a.removeClass("hidden"),a.setStyle("opacity",1)):(a.addClass("hidden"),a.setStyle("opacity",0))}));b.switch_to(b.defaultTab),b.autoSlide==!0&&b.play();return this},bindEvent:function(){var a=this;(a.eventype=="click"||a.eventype=="mouseover")&&a.con.delegate(a.eventype,function(b){b.preventDefault(),a.goto(Number(a.tabs.indexOf(b.currentTarget))),a.autoSlide&&a.stop().play()},"."+a.navClass+" li"),a.hoverStop&&(a.con.delegate("mouseover",function(b){a.autoSlide&&a.stop()},"."+a.contentClass+" div."+a.pannelClass),a.con.delegate("mouseout",function(b){a.autoSlide&&a.play()},"."+a.contentClass+" div."+a.pannelClass));return this},buildParam:function(a){var b=this,a=typeof a=="undefined"||a==null?{}:a;b.autoSlide=typeof a.autoSlide=="undefined"||a.autoSlide==null?!1:a.autoSlide,b.speed=typeof a.speed=="undefined"||a.speed==null?.5:a.speed,b.timeout=typeof a.timeout=="undefined"||a.timeout==null?1e3:a.timeout,b.effect=typeof a.effect=="undefined"||a.effect==null?"none":a.effect,b.eventype=typeof a.eventype=="undefined"||a.eventype==null?"click":a.eventype,b.easing=typeof a.easing=="undefined"||a.easing==null?"easeBoth":a.easing,b.hoverStop=typeof a.hoverStop=="undefined"||a.hoverStop==null?!0:a.hoverStop,b.selectedClass=typeof a.selectedClass=="undefined"||a.selectedClass==null?"selected":a.selectedClass,b.conClass=typeof a.conClass=="undefined"||a.conClass==null?"t-slide":a.conClass,b.navClass=typeof a.navClass=="undefined"||a.navClass==null?"tab-nav":a.navClass,b.contentClass=typeof a.contentClass=="undefined"||a.contentClass==null?"tab-content":a.contentClass,b.pannelClass=typeof a.pannelClass=="undefined"||a.pannelClass==null?"tab-pannel":a.pannelClass,b.before_switch=typeof a.before_switch=="undefined"||a.before_switch==null?new Function:a.before_switch,b.ready=typeof a.ready=="undefined"||a.ready==null?new Function:a.ready,b.carousel=typeof a.carousel=="undefined"||a.carousel==null?!1:a.carousel,b.reverse=typeof a.reverse=="undefined"||a.reverse==null?!1:a.reverse,b.itemWidth=typeof a.itemWidth=="undefined"||a.itemWidth==null?!1:a.itemWidth,b.loop=typeof a.loop=="undefined"||a.loop==null?!1:a.loop,b.id=b.id,b.tabs=[],b.animcon=null,b.pannels=[],b.timer=null,b.defaultTab=typeof a.defaultTab=="undefined"||a.defaultTab==null?0:Number(a.defaultTab)-1,b.current_tab=-1;return this},previous:function(){var a=this;try{if(a.anim.get("running")&&a.carousel)return this}catch(b){}var c=a.current_tab+a.length-1;c>=a.length&&(c=c%a.length);if(a.carousel&&c%a.length==a.length-1&&a.current_tab==0){a.fix_pre_carousel(),arguments.callee.call(a);return this}a.loop&&c>=a.length-1&&(c=a.length-1,a.effect=="v-slide"?a.animwrap.setStyle("top",-a.length*a.itemWidth):a.effect=="h-slide"&&a.animwrap.setStyle("left",-a.length*a.itemWidth)),a.goto(c);return this},next:function(){var a=this;try{if(a.anim.get("running")&&a.carousel)return this}catch(b){}var c=a.current_tab+1;c>=a.length&&(c=c%a.length);if(a.carousel&&c%a.length==0&&a.current_tab==a.length-1){a.fix_next_carousel(),arguments.callee.call(a);return this}a.loop&&c%a.length==0&&a.current_tab==a.length-1&&(c=a.length),a.goto(c);return this},fix_next_carousel:function(){var b=this;b.current_tab=b.current_tab-1;var c=b.con=a.one("#"+b.id);b.effect!="none"&&(b.pannels=c.all("."+b.contentClass+" div."+b.pannelClass));var d=b.pannels.item(0);b.animwrap.appendChild(d);if(b.effect=="v-slide"){var e=b.animwrap.getStyle("top").replace(/[^\d]/ig,"");b.animwrap.setStyle("top",-(Number(e)-b.animcon.get("region").height).toString()+"px")}else if(b.effect=="h-slide"){var f=b.animwrap.getStyle("left").replace(/[^\d]/ig,"");b.animwrap.setStyle("left",-(Number(f)-b.animcon.get("region").width).toString()+"px")}},fix_pre_carousel:function(){var b=this;b.current_tab=b.current_tab+1;var c=b.con=a.one("#"+b.id);b.effect!="none"&&(b.pannels=c.all("."+b.contentClass+" div."+b.pannelClass));var d=b.pannels.item(b.pannels.size()-1),e=b.pannels.item(0);b.animwrap.prepend(d);if(b.effect=="v-slide"){var f=b.animwrap.getStyle("top").replace(/[^\d]/ig,"");b.animwrap.setStyle("top",-(Number(f)+b.animcon.get("region").height).toString()+"px")}else if(b.effect=="h-slide"){var g=b.animwrap.getStyle("left").replace(/[^\d]/ig,"");b.animwrap.setStyle("left",-(Number(g)+b.animcon.get("region").width).toString()+"px")}},switch_to:function(b){var c=this;b>=c.length&&!c.loop&&(b=b%c.length);if(b==c.current_tab)return this;if(c.effect=="none")c.pannels.addClass("hidden"),c.pannels.item(b).removeClass("hidden");else if(c.effect=="v-slide"){if(c.anim)try{c.anim.stop(),c.anim.destroy(),c.anim=null}catch(d){}c.anim=new a.Anim({node:c.animwrap,to:{top:-1*b*c.animcon.get("region").height},easing:c.easing,duration:c.speed}),c.anim.run()}else if(c.effect=="h-slide"){if(c.anim)try{c.anim.stop(),c.anim.destroy(),c.anim=null}catch(d){}var e=c.itemWidth||c.animcon.get("region").width;c.anim=new a.Anim({node:c.animwrap,to:{left:-1*b*e},easing:c.easing,duration:c.speed}),c.anim.run(),c.loop&&b>=c.length&&c.anim.on("end",function(){c.animwrap.setStyle("left","0px")})}else if(c.effect=="fade"){var f=c.current_tab==-1?0:c.current_tab;if(c.anim)try{c.anim.stop(),c.anim.destroy(),c.anim=null}catch(d){}c.anim=new a.Anim({node:c.pannels.item(b),to:{opacity:1},easing:c.easing,duration:c.speed}),c.anim.on("start",function(){c.pannels.item(b).removeClass("hidden"),c.pannels.item(b).setStyle("opacity",0),c.pannels.item(f).setStyle("zIndex",1),c.pannels.item(b).setStyle("zIndex",2)}),c.anim.on("end",function(){c.pannels.item(f).setStyle("zIndex",0),c.pannels.item(b).setStyle("zIndex",1),c.pannels.item(f).setStyle("opacity",0),c.pannels.item(f).addClass("hidden")}),c.anim.run()}c.loop&&b>=c.length&&(b=0),c.tabs.removeClass(c.selectedClass),c.tabs.item(b).addClass(c.selectedClass),c.current_tab=b,c.EventCenter.fire("switch",{index:b,navnode:c.tabs.item(b),pannelnode:c.pannels.item(b)});var g=c.pannels.item(b).all(".lazyload");g&&g.each(function(a,b){c.renderLazyData(a)})},"goto":function(a){var b=this;(!!b.loop||b.before_switch({index:a,navnode:b.tabs.item(a),pannelnode:b.pannels.item(a)})!=!1)&&b.switch_to(a)},play:function(){var a=this;a.timer!=null&&clearTimeout(a.timer),a.timer=setTimeout(function(){a.next(),a.timer=setTimeout(arguments.callee,Number(a.timeout))},Number(a.timeout));return this},stop:function(){var a=this;clearTimeout(a.timer),a.timer=null;return this}},0,null,4),a.Slide=b},"",{requires:["node-base","node-event-delegate","node-screen","anim-easing"]});
YUI.add("trip-placeholder",function(Y){if(Y.Modernizr.input.placeholder){Y.TripPlaceholder={init:function(){}};return;}
var Node=Y.Node,NodeList=Y.NodeList;var fnGet=Node.prototype.get;Node.prototype.get=function(attr){if(attr==="value"&&this.getAttribute("placeholder")){return(this._node.value==this.getAttribute("placeholder"))?"":this._node.value;}else{return fnGet.apply(this,arguments);}};Y.TripPlaceholder=function(){function _init(elems){elems.on("focus",function(evt){var node=evt.target;var str=node.getAttribute("placeholder");if(node._node.value==str){node.set("value","");node.removeClass("trip-placeholder");}});elems.on("blur",function(evt){var node=evt.target;var str=node.getAttribute("placeholder");if(node._node.value==""){node.set("value",str);node.addClass("trip-placeholder");}});function getValue(){var ythis=Y.one(this);var val=ythis.get("value"),plhTxt=ythis.getAttribute("placeholder");return(val&&val==plhTxt)?"":val;}
(function(){elems.each(function(node){if(node._node.value==node.getAttribute("placeholder")||node._node.value==""){node.addClass("trip-placeholder");node.set("value",node.getAttribute("placeholder"));}else{node.removeClass("trip-placeholder");}
node.getValue=node._node.getValue=getValue;});})()}
return{init:function(elems){if(!elems){_init(Y.all(".trip-placeholder"));}else if((elems instanceof NodeList)){_init(elems);}else{_init(Y.all(elems));}}}}();},'1.0.0',{requires:['node-base','event-base','trip-modernizr']});var TG=TG||{};TG.SearchForm=TG.SearchForm||{};YUI.namespace('Y.TripAutoComplete');YUI.add('trip-autocomplete',function(Y){var DEF_CONFIG={resultTemplate:'<span class="ac-cityname">{cityName}</span><span class="ac-citypy">{py}</span>',resultFormatter:acFormatter,requestTemplate:function(query){return query;},maxResults:10,resultListLocator:'result',resultTextLocator:'cityName',activateFirstItem:true,width:250,noResultMessage:'\u5bf9\u4e0d\u8d77\uff0c\u6ca1\u6709\u627e\u5230"<span class="highlight">{query}</span>"',hotWidth:320,source:'http://jipiao.trip.taobao.com/remote/livesearch.do?callback={callback}&q=',hotSource:'http://www.taobao.com/go/rgn/trip/chinahotcity.php'};var HOT_CITY_DATA={},bakHotCityData,TEMPLATE='<div class="yui3-hot-city"><div class="yui3-acinput-hot-tit">\u70ed\u95e8\u57ce\u5e02/\u56fd\u5bb6(\u652f\u6301\u6c49\u5b57/\u62fc\u97f3/\u82f1\u6587\u5b57\u6bcd)</div><ul class="tab-nav">{{#results}}<li>{{tabname}}</li>{{/results}}</ul><div class="tab-content">{{#results}}<div class="tab-pannel">{{#tabdata}}<dl><dt>{{dt}}</dt><dd>{{#dd}}<span><a data-code="{{cityCode}}" href="#">{{cityName}}</a></span>{{/dd}}</dd></dl>{{/tabdata}}</div>{{/results}}</div></div>',PLACEHOLDER_CLASS='trip-placeholder',INPUT_FOCUS_CLASS='yui3-acinput-focus',isSupportPlaceHolder=Y.Modernizr.input.placeholder;YUI.Env.JSONP.getHotCityData=function(o){backHotCityData=o;};function highLight(str,key){return str;}
function acFormatter(query,results){return Y.Array.map(results,function(result){result=result.raw;return Y.Lang.sub(DEF_CONFIG.resultTemplate,{cityName:highLight(result.cityName,query),py:highLight(result.py,query)});});}
var TripAutoComplete=Y.Base.create('tripAutoComplete',Y.Base,[],{initializer:function(arg){this.config=arg;Y.mix(this.config,DEF_CONFIG);this.AC=new Y.AutoComplete(this.config);var AC=this.AC;AC.DEF_PARENT_NODE=null;AC.render();this.inputNode=AC.get('inputNode');this.listNode=AC.get('listNode');this.contentBox=AC.get('contentBox');this.boundingBox=AC.get('boundingBox');this.msgBox=Y.Node.create('<div class="yui3-msg-box" style="display:none"></div>');this.contentBox.insertBefore(this.msgBox,this.contentBox.get('firstChild'));this.boundingBox.setStyle('position','absolute');AC.set('zIndex','99999');var codeInputNode=this.config.codeInputNode;this.codeInputNode=typeof codeInputNode!=='undefined'?Y.one(codeInputNode):null;this.isAllowFocus=true;this.isFillFirstItem=true;this.isLoadedHotData=false;this.isHotVisible=false;this.isMouseOverHot=false;this.hotNode=null;this.doc=Y.one(document);Y.TripPlaceholder.init(this.inputNode);this.config.createIcon&&this._createIcon();this.inputNode.addClass('J_TripCityInput');this.publish('select');this._bindUI();this._syncUI();TG.SearchForm['#'+this.inputNode.get('id')]=this;},_syncUI:function(){this.inputNode.setAttribute('x-webkit-speech','x-webkit-speech');this.boundingBox.addClass('has-anim-fast');},_createIcon:function(){var parent=this.inputNode.get('parentNode');var node=Y.Node.create('<div class="yui3-acinput-box"><s class="yui3-acinput-icon"></s></div>');parent.insertBefore(node,this.inputNode);node.appendChild(this.inputNode);this.inputBoxNode=node;return this;},showMessage:function(msg){var that=this;this.msgBox.setContent(msg);this.msgBox.show();this.AC.show();this.boundingBox.addClass('anim-pulse');setTimeout(function(){that.boundingBox.removeClass('anim-pulse');},100);return this;},show:function(){this.AC.show();},hide:function(){this.AC.hide();},focus:function(){this.inputNode.focus();},_syncHot:function(htmlStr){var SELF=this;this.hotNode=this.contentBox.appendChild(htmlStr);this.hotNode.hide();this.hotNode.setAttrs({id:Y.stamp(this.hotNode)});var tabView=new Y.Slide(this.hotNode.get('id'));tabView.on('switch',function(){SELF.AC.sizeShim&&SELF.AC.sizeShim();});this._bindHot();if(this.listNode.get('children').size()<1){this.hotNode&&this.hotNode.show();this.AC.render();this.AC.show();this.AC.sizeShim&&this.AC.sizeShim();this.isHotVisible=true;this.AC.set('width',this.config.hotWidth);}
return this;},_bindUI:function(){var inputNode=this.AC.get('inputNode');inputNode.on('keyup',function(){if(inputNode.get('value')==''){this.msgBox&&this.msgBox.hide();this.showHot();}},this);this._bindAC();this._bindInput();return this;},_bindAC:function(){var AC=this.AC,SELF=this;var selectHoverItem=function(e){AC.set('activeItem',e.currentTarget);};AC.on('select',this._fillInput,this);AC.on('results',this._afterResults,this);AC.on('visibleChange',this._visibleChange,this);AC.on('hoveredItemChange',selectHoverItem,this);this.listNode.on('mousedown',function(e){SELF.isFillFirstItem=false;});},_bindHot:function(){var hotNode=this.hotNode;Y.delegate('click',this._afterHotItemClick,hotNode,'a',this);hotNode.on('mouseenter',this._afterHotMouseOver,this);hotNode.on('mouseleave',this._afterHotMouseOut,this);hotNode.on('click',this._afterHotClick,this);},_bindInput:function(){var inputNode=this.inputNode,SELF=this;var focusInput=function(){setTimeout(function(){inputNode.focus();},10)};inputNode.on('focus',this._afterFocus,this);inputNode.on('blur',this._afterBlur,this);this.config.createIcon&&this.inputBoxNode.on('click',focusInput);},_afterResults:function(e){var AC=this.AC,SELF=this;var contentBox=this.AC.get('contentBox');var qReg=new RegExp('{query}','g');this.listNode.removeClass('hidden');if(this.isHotVisible){this.hotNode.hide();}
if(e.results.length<1){e.preventDefault();this.showMessage(SELF.config.noResultMessage.replace(qReg,e.query));this.codeInputNode&&this.codeInputNode.set('value','');}else{this.msgBox.hide();this.isFillFirstItem=true;this.codeInputNode&&this.codeInputNode.set('value',e.data.result[0].cityCode);}
AC.set('width',SELF.config.width);},_visibleChange:function(e){if(e.newVal==true){this.doc.on('click',this._afterDocClick,this);this.AC.sizeShim&&this.AC.sizeShim();}else{if(this.isHotVisible&&this.isMouseOverHot){e.preventDefault();}}},_fillInput:function(e){var _data=e.result.raw,o={},codeInputNode=this.codeInputNode,SELF=this;if(codeInputNode){codeInputNode.set('value',_data.cityCode);o.cityCode=_data.cityCode;}
if(!isSupportPlaceHolder){this.inputNode.removeClass(PLACEHOLDER_CLASS);}
this.isFillFirstItem=false;this.isAllowFocus=false;o.value=_data.cityName;o.data=_data;setTimeout(function(){SELF.isAllowFocus=true;SELF.fire('select',o);},200);},_afterFocus:function(e){this.msgBox.hide();var SELF=this,target=e.target;target.addClass(INPUT_FOCUS_CLASS);setTimeout(function(){if(SELF.isAllowFocus){target.select();SELF.showHot();SELF.isAllowFocus=false;}},100);},_afterBlur:function(e){var listNode=this.listNode,SELF=this;e.target.removeClass(INPUT_FOCUS_CLASS);if(this.isFillFirstItem){setTimeout(function(){if(listNode&&listNode.get('children').size()>0&&SELF.isFillFirstItem){SELF.AC.selectItem(listNode.get('firstChild'));}},100);}
setTimeout(function(){SELF.isAllowFocus=true;},300);},_afterDocClick:function(e){var target=e.target,SELF=this;if(!this.isMouseOverHot&&target!=this.inputNode){SELF.hideHot('doc');}},_afterHotClick:function(e){e.stopPropagation();},_afterHotMouseOver:function(){this.isMouseOverHot=true;},_afterHotMouseOut:function(){this.isMouseOverHot=false;},_loadHotData:function(){var SELF=this,urlStr=this.config.hotSource;this.isLoadedHotData=true;if(typeof HOT_CITY_DATA[urlStr]!=='undefined'){SELF._syncHot(Y.Mustache.to_html(TEMPLATE,HOT_CITY_DATA[urlStr]));return this;}
Y.Get.script(urlStr,{charset:'gbk',onSuccess:function(o){var data=o.data;if(typeof backHotCityData==='object'){HOT_CITY_DATA[data.url]=backHotCityData;SELF._syncHot(Y.Mustache.to_html(TEMPLATE,backHotCityData));}},data:{url:urlStr}});},showHot:function(){var listNode=this.listNode;listNode.empty();listNode.addClass('hidden');if(!this.isLoadedHotData){this._loadHotData();return this;}
this.AC.set('width',this.config.hotWidth);if(this.hotNode){this.hotNode.show();this.hotNode.setStyle('zoom','0.95');this.hotNode.setStyle('zoom','1');}
this.AC.render();this.AC.show();this.isHotVisible=true;return this;},hideHot:function(){this.isHotVisible=false;this.isMouseOverHot=false;this.hotNode&&this.hotNode.hide();this.doc.detach('click',this._afterDocClick);this.AC.hide();},_afterHotItemClick:function(e){var SELF=this,o={};e.halt();var node=e.currentTarget;if(!isSupportPlaceHolder){this.inputNode.removeClass(PLACEHOLDER_CLASS);}
var val=node.get('innerHTML');o.value=val;o.node=node;this.inputNode.set('value',val);var codeInputNode=this.codeInputNode,codeValue=node.getAttribute('data-code');if(codeValue&&codeInputNode){codeInputNode.set('value',codeValue);o.cityCode=codeValue;}
this.hideHot();setTimeout(function(){SELF.fire('select',o);},200);}},{ATTRS:{config:{value:null}}});Y.TripAutoComplete=TripAutoComplete;},'0.0.1',{requires:['autocomplete','trip-mustache','trip-slide','trip-placeholder']});YUI.namespace('Y.Calendar');YUI.add('calendar',function(Y){var calandarHtml='<div class="oneCalendar">'
+'<s class="J_pre pre <% if(!isFirstNode) {%>hidden<% } %>">\u4e0a</s>'
+'<s class="J_next next <% if(!isLastNode) {%>hidden<% } %>">\u4e0b</s>'
+'<h5>'
+'<% if(isSelect) {%>'
+'<select class="J_selectYear">'
+'<% for(var i = (limitBeginDate.getFullYear() - date.getFullYear()), len = (limitEndDate.getFullYear() - date.getFullYear()); i < len; i++) {%>'
+'<option value="<%=date.getFullYear() + i%>"  <% if(date.getFullYear() + i == date.getFullYear()) {%>selected="true"<%}%>><%=date.getFullYear() + i%></option>'
+'<% } %>'
+'</select>\u5e74'
+'<select class="J_selectMonth">'
+'<% for(var i = 1; i < 13; i++) {%>'
+'<option value="<%=i%>" <% if(i == date.getMonth() + 1) {%>selected="true"<%}%>><%=i%></option>'
+'<% } %>'
+'</select>\u6708'
+'<% } else {%>'
+'<span class="J_selectYear"><%=date.getFullYear()%></span>\u5e74<span class="J_selectMonth"><%=date.getMonth()+1%></span>\u6708'
+'<% } %>'
+'</h5>'
+'<h6><em>\u65e5</em><span>\u4e00</span><span>\u4e8c</span><span>\u4e09</span><span>\u56db</span><span>\u4e94</span><em>\u516d</em></h6>'
+'<ul class="calendar-day">'
+'<% for(var i = 0, len = days.length; i < len; i ++) { %>'
+'<% var nowDay = new Date(date.getFullYear(), date.getMonth(), days[i]); %>'
+'<li class="<% if(beginDate && beginDate.toString() == nowDay.toString()){%>select-begin-date<% } else if(endDate && endDate.toString() == nowDay.toString()){%>select-end-date<% } else if(beginDate && beginDate.getTime() < nowDay.getTime() && endDate && endDate.getTime() > nowDay.getTime()){%>select-date<% } %>">'
+'<% if(days[i] && (!limitBeginDate || nowDay.getTime() >= limitBeginDate.getTime()) && (!limitEndDate || nowDay.getTime() <= limitEndDate.getTime())) {%>'
+'<a href="javascript:;" <% if(nowDay.getTime() == toDay.getTime()){%> class="current" <%}%>><%=days[i]%></a>'
+'<% } else { %>'
+'<span class="disable" <% if(days[i] && (!limitEndDate || nowDay.getTime() > limitEndDate.getTime())) {%>title="<%=titleTips%>"<%}%>><%=days[i]%></span>'
+'<% } %>'
+'</li>'
+'<% } %>'
+'</ul>'
+'</div>';Y.Calendar=Y.Base.create("calendar",Y.Widget,[Y.WidgetPosition],{initializer:function(){var t=this;t.render();t.get("contentBox").set("className","calendar-main clearfix");t.calendarNode=t.get("contentBox").get("parentNode");t.calendarNode.addClass("calendar shadow").append("<span class='cal-close J_close'>\u5173\u95ed</span>");t._iehack();},festival:{'today':'\u4eca\u5929','2012-01-01':'\u5143\u65e6','2012-01-22':'\u9664\u5915','2012-01-23':'\u6625\u8282','2012-04-04':'\u6e05\u660e\u8282','2012-05-01':'\u52b3\u52a8\u8282','2012-06-23':'\u7aef\u5348\u8282','2012-09-30':'\u4e2d\u79cb\u8282','2012-10-01':'\u56fd\u5e86\u8282','2013-01-01':'\u5143\u65e6','2013-02-09':'\u9664\u5915','2013-02-10':'\u6625\u8282','2013-04-04':'\u6e05\u660e\u8282','2013-05-01':'\u52b3\u52a8\u8282','2013-06-12':'\u7aef\u5348\u8282','2013-09-19':'\u4e2d\u79cb\u8282','2013-10-01':'\u56fd\u5e86\u8282','2014-01-01':'\u5143\u65e6','2014-01-30':'\u9664\u5915','2014-01-31':'\u6625\u8282','2014-04-05':'\u6e05\u660e\u8282','2014-05-01':'\u52b3\u52a8\u8282','2014-06-02':'\u7aef\u5348\u8282','2014-09-08':'\u4e2d\u79cb\u8282','2014-10-01':'\u56fd\u5e86\u8282','2015-01-01':'\u5143\u65e6','2015-02-18':'\u9664\u5915','2015-02-19':'\u6625\u8282','2015-04-05':'\u6e05\u660e\u8282','2015-05-01':'\u52b3\u52a8\u8282','2015-06-20':'\u7aef\u5348\u8282','2015-09-27':'\u4e2d\u79cb\u8282','2015-10-01':'\u56fd\u5e86\u8282','2016-01-01':'\u5143\u65e6','2016-02-07':'\u9664\u5915','2016-02-08':'\u6625\u8282','2016-04-04':'\u6e05\u660e\u8282','2016-05-01':'\u52b3\u52a8\u8282','2016-06-09':'\u7aef\u5348\u8282','2016-09-15':'\u4e2d\u79cb\u8282','2016-10-01':'\u56fd\u5e86\u8282','2017-01-01':'\u5143\u65e6','2017-01-27':'\u9664\u5915','2017-01-28':'\u6625\u8282','2017-04-04':'\u6e05\u660e\u8282','2017-05-01':'\u52b3\u52a8\u8282','2017-05-30':'\u7aef\u5348\u8282','2017-10-04':'\u4e2d\u79cb\u8282','2017-10-01':'\u56fd\u5e86\u8282','2018-01-01':'\u5143\u65e6','2018-02-15':'\u9664\u5915','2018-02-16':'\u6625\u8282','2018-04-05':'\u6e05\u660e\u8282','2018-05-01':'\u52b3\u52a8\u8282','2018-06-18':'\u7aef\u5348\u8282','2018-09-24':'\u4e2d\u79cb\u8282','2018-10-01':'\u56fd\u5e86\u8282','2019-01-01':'\u5143\u65e6','2019-02-04':'\u9664\u5915','2019-02-05':'\u6625\u8282','2019-04-05':'\u6e05\u660e\u8282','2019-05-01':'\u52b3\u52a8\u8282','2019-06-07':'\u7aef\u5348\u8282','2019-09-13':'\u4e2d\u79cb\u8282','2019-10-01':'\u56fd\u5e86\u8282','2020-01-01':'\u5143\u65e6','2020-01-24':'\u9664\u5915','2020-01-25':'\u6625\u8282','2020-04-04':'\u6e05\u660e\u8282','2020-05-01':'\u52b3\u52a8\u8282','2020-06-25':'\u7aef\u5348\u8282','2020-10-01':'\u56fd\u5e86\u8282'},renderUI:function(){var t=this;if(!t.calendarNode){t.get("contentBox").get("parentNode").setStyles({position:"absolute",display:"none"});}
var date=t.get("date");var html=[];var htmlDay=t.getHtmlDay();for(var i=0,len=t.get("calendarCount");i<len;){t.set("days",htmlDay[i]);t.set("isFirstNode",false);t.set("isLastNode",false);i==0&&(t.set("isFirstNode",true));++i==len&&(t.set("isLastNode",true));html.push(t.tempReplace(calandarHtml,t.getAttrs()));t.set("date",new Date(t.get("date").getFullYear(),t.get("date").getMonth()+1,1));}
for(var i=html.length;i--;){(function(){var iYear=html[i].match(/<span class="J_selectYear">(\d+)<\/span>/)[1];var iMonth=html[i].match(/<span class="J_selectMonth">(\d+)<\/span>/)[1].replace(/^(\d)$/,"0$1");var reg=/(<a[^>]+>)(\d+)(<\/a>)/g;html[i]=html[i].replace(reg,function(){var aClass=["jiantian","shiyi","qingming"]
var oDate=new Date();var sToday=oDate.getFullYear()+"-"+(oDate.getMonth()+1).toString().replace(/^(\d)$/,"0$1")+"-"+oDate.getDate().toString().replace(/^(\d)$/,"0$1");var args=arguments;var iDate=iYear+"-"+iMonth+"-"+args[2].replace(/^(\d)$/,"0$1");iDate==sToday&&(iDate="today");var tmp=args[1]
var sss=["yuandan","chuxi","chunjie","yuanxiao","qingming","wuyi","duanwu","zhongqiu","guoqing","today"];var index=0;if(iDate in t.festival){switch(t.festival[iDate].substr(0,2)){case"\u5143\u65e6":index=0;break;case"\u9664\u5915":index=1;break;case"\u6625\u8282":index=2;break;case"\u5143\u5bb5":index=3;break;case"\u6e05\u660e":index=4;break;case"\u52b3\u52a8":index=5;break;case"\u7aef\u5348":index=6;break;case"\u4e2d\u79cb":index=7;break;case"\u56fd\u5e86":index=8;break;case"\u4eca\u5929":index=9;break;}
args[1]="<a href=\"javascript:;\" class=\""+sss[index]+"\">";}
return args[1]+args[2]+args[3]});})(i);}
t.get("contentBox").set("innerHTML",html.join(""));t.set("date",date);},bindUI:function(){var t=this;Y.delegate("click",t.showPreDays,t.get("contentBox"),".J_pre",t);Y.delegate("click",t.showNextDays,t.get("contentBox"),".J_next",t);Y.delegate("change",t.selectDate,t.get("contentBox"),".J_selectYear",t);Y.delegate("change",t.selectDate,t.get("contentBox"),".J_selectMonth",t);Y.delegate("click",t.hide,t.get("contentBox"),".J_close",t);},show:function(x,y){var t=this;t.calendarNode.setStyles({display:"block",position:"absolute"});t._iehack();y=Y.UA.ie==6?(y-1):y;t.move(x,y);},hide:function(){var t=this;t.fire("close",{});t.calendarNode.setStyle("display","none");},setNowShowDays:function(date){var t=this;t.set("date",date);},setLimitDays:function(limitBeginDate,limitEndDate){var t=this;t.set("limitBeginDate",limitBeginDate);t.set("limitEndDate",limitEndDate);},setBeginAndEndDate:function(beginDate,endTime){var t=this;t.set("beginDate",beginDate);t.set("endDate",endTime);},showPreDays:function(e){var t=this;t.set("date",t.getPreAndNextMonth(t.get("date"),-1));t.renderUI();e.halt();},showNextDays:function(e){var t=this;t.set("date",t.getPreAndNextMonth(t.get("date"),1));t.renderUI();e.halt();},selectDate:function(e){var t=this;var node=e.currentTarget;var year=node.ancestor("h5").one(".J_selectYear").get("value");var month=node.ancestor("h5").one(".J_selectMonth").get("value");t.set("date",new Date(year,month-1,1));t.renderUI();},getPreAndNextMonth:function(date,flag){var month=date.getMonth()+flag;if(month>11){return new Date(date.getFullYear()+1,0,date.getDate());}
if(month<0){return new Date(date.getFullYear()-1,11,date.getDate());}
return new Date(date.getFullYear(),month,date.getDate());},getHtmlDay:function(){var t=this;var firstItem=t.get("date");var count=t.get("calendarCount");var daysArr=[];var dateArr=[];var htmlDayArr={};for(var i=0;i<count;i++){dateArr.push(new Date(firstItem.getFullYear(),firstItem.getMonth()+i,1));daysArr.push(t.getOneMonthDay(firstItem.getFullYear(),firstItem.getMonth()+i+1)+dateArr[i].getDay());htmlDayArr[i]=[];};daysArr.sort(function(a,b){return b-a;});for(var i=0;i<count;i++){var startDay=new Date(dateArr[i].getFullYear(),dateArr[i].getMonth(),1).getDay();for(var j=0;j<startDay;j++){htmlDayArr[i].push("");};for(var j=0,len=t.getOneMonthDay(dateArr[i].getFullYear(),dateArr[i].getMonth()+1);j<len;){htmlDayArr[i].push(++j);}
var maxLength=daysArr[0]+(daysArr[0]%7==0?0:1)*7-daysArr[0]%7;for(var j=htmlDayArr[i].length;j<maxLength;j++){htmlDayArr[i].push("");}}
return htmlDayArr;},getOneMonthDay:function(year,month){return 32-new Date(year,month-1,32).getDate();},_iehack:function(){if(Y.UA.ie==6){var t=this;if(!t.calendarNode.one("iframe")){this.calendarNode.append('<iframe></iframe>');}
var width=t.calendarNode.get("offsetWidth");var height=t.calendarNode.get("offsetHeight");t.calendarNode.removeClass("shadow");t.calendarNode.one("iframe").setStyles({width:width,height:height});}},tempReplace:function(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||tmpl(str):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"
+"with(obj){p.push('"
+str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")
+"');}return p.join('');");return data?fn(data):fn;}},{ATTRS:{beginDate:{value:null},endDate:{value:null},limitBeginDate:{value:null},limitEndDate:{value:null},calendarCount:{value:2},toDay:{value:new Date(new Date().setHours(0,0,0,0))},date:{value:new Date()},days:[],isFirstNode:{value:false},isLastNode:{value:false},id:{value:"J_calendar"},isSelect:{value:false},titleTips:{value:""}}});},'1.0',{requires:["widget","widget-position"]});var TG=TG||{};TG.SearchForm=TG.SearchForm||{};YUI.namespace('Y.TripCalandar');YUI.add('trip-calendar',function(Y){var trim=Y.Lang.trim;var config={weekStr:['\u661f\u671f\u65e5','\u661f\u671f\u4e00','\u661f\u671f\u4e8c','\u661f\u671f\u4e09','\u661f\u671f\u56db','\u661f\u671f\u4e94','\u661f\u671f\u516d'],today:new Date(new Date().setHours(0,0,0,0)),dataExp:/^(\d{2,4})-(?:[0]?)(\d{1,2})-(?:[0]?)(\d{1,2})$/,time:24*60*60*1000};Y.TripCalendar=function(){Y.TripCalendar.superclass.constructor.apply(this,arguments);};Y.TripCalendar.NAME="tripCalendar";Y.TripCalendar.ATTRS={isWeek:{value:true},isFestival:{value:true},calendarCount:{value:2},limitBeginDate:{value:''},limitEndDate:{value:''},limitDays:{value:0},beginNode:{value:""},endNode:{value:""},beginDate:{value:""},endDate:{value:""},isSelect:{value:false},titleTips:{value:""},limitBox:{value:""}};Y.extend(Y.TripCalendar,Y.Widget,{initializer:function(){var t=this;var oInputB=null;var oInputE=null;t.isCalendarShow=false;t.hideCalendar=false;t.calendarTimeout=null;t.limitBox=Y.one(t.get("limitBox")?t.get("limitBox"):"body");t.beginNode=Y.one(t.get("beginNode"));t.endNode=Y.one(t.get("endNode"));t.beginDate=t.beginNode.get("value");t.endDate=t.endNode?t.endNode.get("value"):"";oInputB=t.beginNode.one("input[type=text]");oInputB.addClass("J_DateInput");oInputE=t.endNode&&t.endNode.one("input[type=text]");oInputE&&oInputE.addClass("J_DateInput");oInputB.calendarObj=this;t.endNode&&(oInputE.calendarObj=this);TG.SearchForm['#'+oInputB.get('id')]=this;oInputE&&(TG.SearchForm['#'+oInputE.get('id')]=this);Y.TripPlaceholder.init(t.beginNode.one("input"));t.endNode&&Y.TripPlaceholder.init(t.endNode.one("input"));t.oneCalendar=new Y.Calendar({calendarCount:t.get("calendarCount"),isSelect:t.get("isSelect"),beginDate:t.formatDate(t.beginDate),endDate:t.formatDate(t.endDate),limitBeginTime:"",limitEndTime:"",titleTips:t.get("titleTips")});t.calendarNode=t.oneCalendar.calendarNode;t.calendarNode.addClass('has-anim-fast');t.calendarNode.setStyle("width",453);t.renderUI();t.bindUI();var oBeginWeek=t.beginNode.one("span");var oEndWeek=t.endNode?t.endNode.one("span"):null;oBeginWeek&&oBeginWeek.addClass("b");oEndWeek&&oEndWeek.addClass("e");},renderUI:function(){var t=this;t.beginNode.one("input").setAttribute("autocomplete","off");t.endNode&&t.endNode.one("input").setAttribute("autocomplete","off");t.setDateInputDayInfo(t.beginNode,t.beginDate);t.setDateInputDayInfo(t.endNode,t.endDate);},bindUI:function(){var t=this;var doc=Y.one("document");t.onSelectBoxBindEvent(t.beginNode);t.onSelectBoxBindEvent(t.endNode);doc.on("mousedown",function(e){var nowNode=e.target;clearTimeout(t.calendarTimeout);if(!t.beginNode.one("input")){return;}
if(nowNode.ancestor(".calendar")==t.calendarNode&&!nowNode.hasClass("J_close")){e.halt();t.ieTimeout();return;}
t.hideCalendar=true;t.inputBlur();});t.calendarNode.delegate("click",function(e){t.selectDay(e);t.hideCalendar=true;t.inputBlur();},"a",t);var aResizeTimeout=null;Y.one("window").on("resize",function(){aResizeTimeout&&clearTimeout(aResizeTimeout);aResizeTimeout=setTimeout(function(){t.isCalendarShow&&t.showClalender();},10);},t);Y.all(".J_DateInput").on("keyup",function(e){var sValue=e.target.get("value");t.setDateInfo(sValue);e.target.get("id")=="J_jipiao_depDate"&&t.oneCalendar.setBeginAndEndDate(t.formatDate(sValue),t.formatDate(t.endDate));e.target.get("id")=="J_jipiao_endDate"&&t.oneCalendar.setBeginAndEndDate(t.formatDate(t.beginDate),t.formatDate(sValue));t.oneCalendar.renderUI();});},onSelectBoxBindEvent:function(selectBox){var t=this;if(selectBox){selectBox.one("input").on("focus",t.inputFocus,t);selectBox.one("input").on("blur",function(){t.hideCalendar=true;t.calendarTimeout=setTimeout(function(){t.inputBlur();},10);});selectBox.on("mousedown",function(e){if(e.target!=selectBox.one("input")){e.halt();t.ieTimeout();selectBox.one("input").focus();}else{e.stopPropagation();}});}},setDateInputDayInfo:function(node,dateStr){if(node){var t=this;t.nowSelNode=node;t.setDateInfo(dateStr);}},inputFocus:function(e){var t=this;var nowNode=e.target.get("parentNode");e.target.addClass("yui3-acinput-focus");clearTimeout(t.calendarTimeout);if(nowNode!=t.nowSelNode){t.hideCalendar=true;t.inputBlur();}
t.beginDate=t.getInputVal(t.beginNode);t.endDate=t.endNode?t.getInputVal(t.endNode):"";if(!t.isCalendarShow||(t.getInputVal(nowNode)!=t.getInputVal(t.nowSelNode))){var nowDate=t.getInputVal(nowNode)||config.today;if(t.endDate==""&&nowNode==t.endNode){nowDate=t.beginDate||nowDate;}
t.oneCalendar.setNowShowDays(t.formatDate(nowDate)||new Date());}
if(nowNode==t.endNode){t.calendarNode.addClass("end-select");t.setLimitDate(t.get("limitBeginDate"),t.get("limitEndDate"),true);}else{t.setLimitDate(t.get("limitBeginDate"),t.get("limitEndDate"),false);}
t.nowSelNode=nowNode;t.nowSelNode.addClass("cal-input-focus");t.oneCalendar.setBeginAndEndDate(t.formatDate(t.beginDate),t.formatDate(t.endDate));t.showClalender();var oInput=nowNode.one("input");setTimeout(function(){oInput.select()}, 50);;t.calendarNode.all(".oneCalendar li").set("title","");var oSelectBegin=Y.one(".select-begin-date");var oSelectEnd=Y.one(".select-end-date");oSelectBegin&&oSelectBegin.set("title","\u51fa\u53d1\u65f6\u95f4");oSelectEnd&&oSelectEnd.set("title","\u8fd4\u7a0b\u65f6\u95f4");},inputBlur:function(){var t=this;var oCal=t.calendarNode;if(t.hideCalendar){t.setDateInfo();t.oneCalendar.hide();t.isCalendarShow=false;t.nowSelNode.one("input").removeClass("yui3-acinput-focus");t.calendarNode.removeClass("end-select");t.hideCalendar=false;oCal.one(".message-tips")&&oCal.one(".message-tips").remove();oCal.one('.calendar-main').setStyle('paddingTop',20);oCal.one('.J_close').setStyle("top",8);}},getInputVal:function(node){return trim(node.one("input").get("value"));},showClalender:function(){var t=this;t.isCalendarShow=true;t.oneCalendar.renderUI();t.calendarNode.setStyles({display:"block",visibility:"hidden",top:"0px",left:"0px"});var position=t.getShowXY();t.oneCalendar.show(position.x,position.y);t.calendarNode.setStyle("visibility","visible");},getShowXY:function(){var t=this;var oCal=t.calendarNode;var nodeH=t.nowSelNode.get("region").height-1;var winW=parseInt(t.oneCalendar.calendarNode.get("scrollWidth"));var winH=parseInt(t.oneCalendar.calendarNode.get("scrollHeight"));var limitW=t.limitBox==Y.one("body")?Y.DOM.docWidth():t.limitBox.get("scrollWidth");var limitH=t.limitBox==Y.one("body")?Y.DOM.docHeight():t.limitBox.get("scrollHeight");var position={};if((t.nowSelNode.getX()-t.limitBox.getX())>(limitW-winW)){position.x=t.limitBox.getX()+limitW-winW-2;}else{position.x=t.nowSelNode.getX();}
if((t.nowSelNode.getY()+nodeH-t.limitBox.getY())>(limitH-winH)){position.y=t.nowSelNode.getY()-winH;}else{position.y=t.nowSelNode.getY()+nodeH;}
return position;},setLimitDate:function(limitBeginDate,limitEndDate,isLimited){var t=this;limitBeginDate=t.formatDate(limitBeginDate);if(isLimited&&limitBeginDate&&t.get("limitDays")&&t.formatDate(t.beginDate)){limitEndDate=new Date(t.formatDate(t.beginDate).getTime()+config.time*parseInt(t.get("limitDays")));}
if(isLimited&&limitEndDate){limitEndDate=t.formatDate(limitEndDate);}
t.oneCalendar.setLimitDays(limitBeginDate,limitEndDate);},selectDay:function(e){var t=this;e.preventDefault();var node=e.currentTarget;var oneCalendar=node.ancestor("div");var year=oneCalendar.one(".J_selectYear").get("value")||oneCalendar.one(".J_selectYear").get("innerHTML");var month=oneCalendar.one(".J_selectMonth").get("value")||oneCalendar.one(".J_selectMonth").get("innerHTML");var day=node.get("innerHTML");var nowDate=year+"-"+t.gerDoubleNum(month)+"-"+t.gerDoubleNum(day);t.fire("select",{dateStr:nowDate,inputNode:t.nowSelNode.one("input[type=text]")});t.nowSelNode.one("input").set("value",year+"-"+t.gerDoubleNum(month)+"-"+t.gerDoubleNum(day));t.nowSelNode.one("input").removeClass("trip-placeholder");t.setDateInfo(nowDate);t.inputBlur();t.nowSelNode.one("input").blur();if(t.nowSelNode.get("id")=="J_jipiao_depDateBox"&&Y.one("#J_jipiao_FlightTypeRadio_2").get("checked")){setTimeout(function(){Y.one("#J_jipiao_endDate")._node.focus();},0)}},setDateInfo:function(nowDate,node){var t=this;var inputNode=node||t.nowSelNode.one("input");var dayInfo="";var oHoliday={'2012-01-01':'\u5143\u65e6','2012-01-19':'\u9664\u5915\u524d\u4e09\u5929','2012-01-20':'\u9664\u5915\u524d\u4e8c\u5929','2012-01-21':'\u9664\u5915\u524d\u4e00\u5929','2012-01-22':'\u9664\u5915','2012-01-23':'\u6625\u8282','2012-01-24':'\u6625\u8282\u540e\u4e00\u5929','2012-01-25':'\u6625\u8282\u540e\u4e8c\u5929','2012-01-26':'\u6625\u8282\u540e\u4e09\u5929','2012-04-01':'\u6e05\u660e\u8282\u524d\u4e09\u5929','2012-04-02':'\u6e05\u660e\u8282\u524d\u4e8c\u5929','2012-04-03':'\u6e05\u660e\u8282\u524d\u4e00\u5929','2012-04-04':'\u6e05\u660e\u8282','2012-04-05':'\u6e05\u660e\u8282\u540e\u4e00\u5929','2012-04-06':'\u6e05\u660e\u8282\u540e\u4e8c\u5929','2012-04-07':'\u6e05\u660e\u8282\u540e\u4e09\u5929','2012-04-28':'\u52b3\u52a8\u8282\u524d\u4e09\u5929','2012-04-29':'\u52b3\u52a8\u8282\u524d\u4e8c\u5929','2012-04-30':'\u52b3\u52a8\u8282\u524d\u4e00\u5929','2012-05-01':'\u52b3\u52a8\u8282','2012-05-02':'\u52b3\u52a8\u8282\u540e\u4e00\u5929','2012-05-03':'\u52b3\u52a8\u8282\u540e\u4e8c\u5929','2012-05-04':'\u52b3\u52a8\u8282\u540e\u4e09\u5929','2012-06-20':'\u7aef\u5348\u8282\u524d\u4e09\u5929','2012-06-21':'\u7aef\u5348\u8282\u524d\u4e8c\u5929','2012-06-22':'\u7aef\u5348\u8282\u524d\u4e00\u5929','2012-06-23':'\u7aef\u5348\u8282','2012-06-24':'\u7aef\u5348\u8282\u540e\u4e00\u5929','2012-06-25':'\u7aef\u5348\u8282\u540e\u4e8c\u5929','2012-06-26':'\u7aef\u5348\u8282\u540e\u4e09\u5929','2012-09-27':'\u4e2d\u79cb\u8282\u524d\u4e09\u5929','2012-09-28':'\u4e2d\u79cb\u8282\u524d\u4e8c\u5929','2012-09-29':'\u4e2d\u79cb\u8282\u524d\u4e00\u5929','2012-09-30':'\u4e2d\u79cb\u8282','2012-10-01':'\u56fd\u5e86\u8282','2012-10-02':'\u56fd\u5e86\u8282\u540e\u4e00\u5929','2012-10-03':'\u56fd\u5e86\u8282\u540e\u4e8c\u5929','2012-10-04':'\u56fd\u5e86\u8282\u540e\u4e09\u5929','2012-12-29':'\u5143\u65e6\u524d\u4e09\u5929','2012-12-30':'\u5143\u65e6\u524d\u4e8c\u5929','2012-12-31':'\u5143\u65e6\u524d\u4e00\u5929','2013-01-01':'\u5143\u65e6','2013-01-02':'\u5143\u65e6\u540e\u4e00\u5929','2013-01-03':'\u5143\u65e6\u540e\u4e8c\u5929','2013-01-04':'\u5143\u65e6\u540e\u4e09\u5929','2013-02-06':'\u9664\u5915\u524d\u4e09\u5929','2013-02-07':'\u9664\u5915\u524d\u4e8c\u5929','2013-02-08':'\u9664\u5915\u524d\u4e00\u5929','2013-02-09':'\u9664\u5915','2013-02-10':'\u6625\u8282','2013-02-11':'\u6625\u8282\u540e\u4e00\u5929','2013-02-12':'\u6625\u8282\u540e\u4e8c\u5929','2013-02-13':'\u6625\u8282\u540e\u4e09\u5929','2013-04-01':'\u6e05\u660e\u8282\u524d\u4e09\u5929','2013-04-02':'\u6e05\u660e\u8282\u524d\u4e8c\u5929','2013-04-03':'\u6e05\u660e\u8282\u524d\u4e00\u5929','2013-04-04':'\u6e05\u660e\u8282','2013-04-05':'\u6e05\u660e\u8282\u540e\u4e00\u5929','2013-04-06':'\u6e05\u660e\u8282\u540e\u4e8c\u5929','2013-04-07':'\u6e05\u660e\u8282\u540e\u4e09\u5929','2013-04-28':'\u52b3\u52a8\u8282\u524d\u4e09\u5929','2013-04-29':'\u52b3\u52a8\u8282\u524d\u4e8c\u5929','2013-04-30':'\u52b3\u52a8\u8282\u524d\u4e00\u5929','2013-05-01':'\u52b3\u52a8\u8282','2013-05-02':'\u52b3\u52a8\u8282\u540e\u4e00\u5929','2013-05-03':'\u52b3\u52a8\u8282\u540e\u4e8c\u5929','2013-05-04':'\u52b3\u52a8\u8282\u540e\u4e09\u5929','2013-06-09':'\u7aef\u5348\u8282\u524d\u4e09\u5929','2013-06-10':'\u7aef\u5348\u8282\u524d\u4e8c\u5929','2013-06-11':'\u7aef\u5348\u8282\u524d\u4e00\u5929','2013-06-12':'\u7aef\u5348\u8282','2013-06-13':'\u7aef\u5348\u8282\u540e\u4e00\u5929','2013-06-14':'\u7aef\u5348\u8282\u540e\u4e8c\u5929','2013-06-15':'\u7aef\u5348\u8282\u540e\u4e09\u5929','2013-09-16':'\u4e2d\u79cb\u8282\u524d\u4e09\u5929','2013-09-17':'\u4e2d\u79cb\u8282\u524d\u4e8c\u5929','2013-09-18':'\u4e2d\u79cb\u8282\u524d\u4e00\u5929','2013-09-19':'\u4e2d\u79cb\u8282','2013-09-20':'\u4e2d\u79cb\u8282\u540e\u4e00\u5929','2013-09-21':'\u4e2d\u79cb\u8282\u540e\u4e8c\u5929','2013-09-22':'\u4e2d\u79cb\u8282\u540e\u4e09\u5929','2013-09-28':'\u56fd\u5e86\u8282\u524d\u4e09\u5929','2013-09-29':'\u56fd\u5e86\u8282\u524d\u4e8c\u5929','2013-09-30':'\u56fd\u5e86\u8282\u524d\u4e00\u5929','2013-10-01':'\u56fd\u5e86\u8282','2013-10-01':'\u56fd\u5e86\u8282\u540e\u4e00\u5929','2013-10-01':'\u56fd\u5e86\u8282\u540e\u4e8c\u5929','2013-10-01':'\u56fd\u5e86\u8282\u540e\u4e09\u5929','2014-01-01':'\u5143\u65e6','2014-01-30':'\u9664\u5915','2014-01-31':'\u6625\u8282','2014-04-05':'\u6e05\u660e\u8282','2014-05-01':'\u52b3\u52a8\u8282','2014-06-02':'\u7aef\u5348\u8282','2014-09-08':'\u4e2d\u79cb\u8282','2014-10-01':'\u56fd\u5e86\u8282','2015-01-01':'\u5143\u65e6','2015-02-18':'\u9664\u5915','2015-02-19':'\u6625\u8282','2015-04-05':'\u6e05\u660e\u8282','2015-05-01':'\u52b3\u52a8\u8282','2015-06-20':'\u7aef\u5348\u8282','2015-09-27':'\u4e2d\u79cb\u8282','2015-10-01':'\u56fd\u5e86\u8282','2016-01-01':'\u5143\u65e6','2016-02-07':'\u9664\u5915','2016-02-08':'\u6625\u8282','2016-04-04':'\u6e05\u660e\u8282','2016-05-01':'\u52b3\u52a8\u8282','2016-06-09':'\u7aef\u5348\u8282','2016-09-15':'\u4e2d\u79cb\u8282','2016-10-01':'\u56fd\u5e86\u8282','2017-01-01':'\u5143\u65e6','2017-01-27':'\u9664\u5915','2017-01-28':'\u6625\u8282','2017-04-04':'\u6e05\u660e\u8282','2017-05-01':'\u52b3\u52a8\u8282','2017-05-30':'\u7aef\u5348\u8282','2017-10-04':'\u4e2d\u79cb\u8282','2017-10-01':'\u56fd\u5e86\u8282','2018-01-01':'\u5143\u65e6','2018-02-15':'\u9664\u5915','2018-02-16':'\u6625\u8282','2018-04-05':'\u6e05\u660e\u8282','2018-05-01':'\u52b3\u52a8\u8282','2018-06-18':'\u7aef\u5348\u8282','2018-09-24':'\u4e2d\u79cb\u8282','2018-10-01':'\u56fd\u5e86\u8282','2019-01-01':'\u5143\u65e6','2019-02-04':'\u9664\u5915','2019-02-05':'\u6625\u8282','2019-04-05':'\u6e05\u660e\u8282','2019-05-01':'\u52b3\u52a8\u8282','2019-06-07':'\u7aef\u5348\u8282','2019-09-13':'\u4e2d\u79cb\u8282','2019-10-01':'\u56fd\u5e86\u8282','2020-01-01':'\u5143\u65e6','2020-01-24':'\u9664\u5915','2020-01-25':'\u6625\u8282','2020-04-04':'\u6e05\u660e\u8282','2020-05-01':'\u52b3\u52a8\u8282','2020-06-25':'\u7aef\u5348\u8282','2020-09-28':'\u56fd\u5e86\u8282\u524d\u4e09\u5929','2020-09-29':'\u56fd\u5e86\u8282\u524d\u4e24\u5929','2020-09-30':'\u56fd\u5e86\u8282\u524d\u4e00\u5929','2020-10-01':'\u56fd\u5e86\u8282','2020-10-02':'\u56fd\u5e86\u8282\u540e\u4e00\u5929','2020-10-03':'\u56fd\u5e86\u8282\u540e\u4e24\u5929','2020-10-04':'\u56fd\u5e86\u8282\u540e\u4e09\u5929'};nowDate=nowDate?nowDate:inputNode.get("value");if(t.get("isFestival")){var nowDateObj=t.formatDate(nowDate);if(nowDate&&nowDateObj){dayInfo=config.weekStr[nowDateObj.getDay()]?config.weekStr[nowDateObj.getDay()]:"";}
if(nowDateObj){var disDays=(nowDateObj.getTime()-config.today.getTime())/config.time+1;switch(disDays){case 1:dayInfo="\u4eca\u5929";break;case 2:dayInfo="\u660e\u5929";break;case 3:dayInfo="\u540e\u5929";break;}}
if(oHoliday[nowDate]){dayInfo=oHoliday[nowDate];}}
inputNode.get('parentNode').one("span").set("innerHTML",dayInfo);},ieTimeout:function(){var t=this;setTimeout(function(){t.hideCalendar=false;},1);},gerDoubleNum:function(num){if(num.length<2){return"0"+num;}
return num;},formatDate:function(dateStr){if(typeof dateStr=="object"){return new Date(dateStr.getFullYear(),dateStr.getMonth(),dateStr.getDate());}
var date=dateStr.match(config.dataExp);if(dateStr&&date){return new Date(date[1],date[2]-1,date[3]);}
return null;},showMessage:function(message,input){var oCal=this.calendarNode,that=this;input._node.focus();oCal.prepend('<div class="message-tips"><p>'+message+'</p></div>');oCal.one('.calendar-main').setStyle('paddingTop',oCal.one('.message-tips').get('offsetHeight')+20);oCal.one('.J_close').setStyle("top",oCal.one(".message-tips").get("offsetHeight")+8);oCal.setStyle('zoom',1);this.calendarNode.addClass('anim-shake');setTimeout(function(){that.calendarNode.removeClass('anim-shake');},100);}});},'1.0',{requires:["widget","calendar"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("widget-stdmod",function(b){var f=b.Lang,q=b.Node,x=b.UA,e=b.Widget,d="",J="hd",G="bd",j="ft",D="header",M="body",K="footer",N="fillHeight",m="stdmod",u="Node",I="Content",C="firstChild",h="childNodes",n="ownerDocument",v="contentBox",z="height",F="offsetHeight",y="auto",l="headerContentChange",B="bodyContentChange",o="footerContentChange",r="fillHeightChange",t="heightChange",O="contentUpdate",w="renderUI",E="bindUI",g="syncUI",H="_applyParsedConfig",s=b.Widget.UI_SRC;function P(L){this._stdModNode=this.get(v);b.before(this._renderUIStdMod,this,w);b.before(this._bindUIStdMod,this,E);b.before(this._syncUIStdMod,this,g);}P.HEADER=D;P.BODY=M;P.FOOTER=K;P.AFTER="after";P.BEFORE="before";P.REPLACE="replace";var k=P.HEADER,A=P.BODY,p=P.FOOTER,a=k+I,c=p+I,i=A+I;P.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:P.BODY,validator:function(L){return this._validateFillHeight(L);}}};P.HTML_PARSER={headerContent:function(L){return this._parseStdModHTML(k);},bodyContent:function(L){return this._parseStdModHTML(A);},footerContent:function(L){return this._parseStdModHTML(p);}};P.SECTION_CLASS_NAMES={header:e.getClassName(J),body:e.getClassName(G),footer:e.getClassName(j)};P.TEMPLATES={header:'<div class="'+P.SECTION_CLASS_NAMES[k]+'"></div>',body:'<div class="'+P.SECTION_CLASS_NAMES[A]+'"></div>',footer:'<div class="'+P.SECTION_CLASS_NAMES[p]+'"></div>'};P.prototype={_syncUIStdMod:function(){var L=this._stdModParsed;if(!L||!L[a]){this._uiSetStdMod(k,this.get(a));}if(!L||!L[i]){this._uiSetStdMod(A,this.get(i));}if(!L||!L[c]){this._uiSetStdMod(p,this.get(c));}this._uiSetFillHeight(this.get(N));},_renderUIStdMod:function(){this._stdModNode.addClass(e.getClassName(m));this._renderStdModSections();},_renderStdModSections:function(){if(f.isValue(this.get(a))){this._renderStdMod(k);}if(f.isValue(this.get(i))){this._renderStdMod(A);}if(f.isValue(this.get(c))){this._renderStdMod(p);}},_bindUIStdMod:function(){this.after(l,this._afterHeaderChange);this.after(B,this._afterBodyChange);this.after(o,this._afterFooterChange);this.after(r,this._afterFillHeightChange);this.after(t,this._fillHeight);this.after(O,this._fillHeight);},_afterHeaderChange:function(L){if(L.src!==s){this._uiSetStdMod(k,L.newVal,L.stdModPosition);}},_afterBodyChange:function(L){if(L.src!==s){this._uiSetStdMod(A,L.newVal,L.stdModPosition);}},_afterFooterChange:function(L){if(L.src!==s){this._uiSetStdMod(p,L.newVal,L.stdModPosition);}},_afterFillHeightChange:function(L){this._uiSetFillHeight(L.newVal);},_validateFillHeight:function(L){return !L||L==P.BODY||L==P.HEADER||L==P.FOOTER;},_uiSetFillHeight:function(R){var Q=this.getStdModNode(R);var L=this._currFillNode;if(L&&Q!==L){L.setStyle(z,d);}if(Q){this._currFillNode=Q;}this._fillHeight();},_fillHeight:function(){if(this.get(N)){var L=this.get(z);if(L!=d&&L!=y){this.fillHeight(this._currFillNode);}}},_uiSetStdMod:function(S,R,L){if(f.isValue(R)){var Q=this.getStdModNode(S)||this._renderStdMod(S);this._addStdModContent(Q,R,L);this.set(S+I,this._getStdModContent(S),{src:s});}else{this._eraseStdMod(S);}this.fire(O);},_renderStdMod:function(R){var L=this.get(v),Q=this._findStdModSection(R);if(!Q){Q=this._getStdModTemplate(R);}this._insertStdModSection(L,R,Q);this[R+u]=Q;return this[R+u];},_eraseStdMod:function(Q){var L=this.getStdModNode(Q);if(L){L.remove(true);delete this[Q+u];}},_insertStdModSection:function(L,S,R){var Q=L.get(C);if(S===p||!Q){L.appendChild(R);}else{if(S===k){L.insertBefore(R,Q);}else{var T=this[p+u];if(T){L.insertBefore(R,T);}else{L.appendChild(R);}}}},_getStdModTemplate:function(L){return q.create(P.TEMPLATES[L],this._stdModNode.get(n));},_addStdModContent:function(R,Q,L){switch(L){case P.BEFORE:L=0;break;case P.AFTER:L=undefined;break;default:L=P.REPLACE;}R.insert(Q,L);},_getPreciseHeight:function(R){var L=(R)?R.get(F):0,S="getBoundingClientRect";if(R&&R.hasMethod(S)){var Q=R.invoke(S);if(Q){L=Q.bottom-Q.top;}}return L;},_findStdModSection:function(L){return this.get(v).one("> ."+P.SECTION_CLASS_NAMES[L]);},_parseStdModHTML:function(Q){var L=this._findStdModSection(Q);if(L){if(!this._stdModParsed){this._stdModParsed={};b.before(this._applyStdModParsedConfig,this,H);}this._stdModParsed[Q+I]=1;return L.get("innerHTML");}return null;},_applyStdModParsedConfig:function(S,L,R){var Q=this._stdModParsed;if(Q){Q[a]=!(a in L)&&(a in Q);Q[i]=!(i in L)&&(i in Q);Q[c]=!(c in L)&&(c in Q);}},_getStdModContent:function(L){return(this[L+u])?this[L+u].get(h):null;},setStdModContent:function(R,Q,L){this.set(R+I,Q,{stdModPosition:L});},getStdModNode:function(L){return this[L+u]||null;},fillHeight:function(Q){if(Q){var V=this.get(v),W=[this.headerNode,this.bodyNode,this.footerNode],L,X,Y=0,T=0,S=false;for(var U=0,R=W.length;U<R;U++){L=W[U];if(L){if(L!==Q){Y+=this._getPreciseHeight(L);}else{S=true;}}}if(S){if(x.ie||x.opera){Q.set(F,0);}X=V.get(F)-parseInt(V.getComputedStyle("paddingTop"),10)-parseInt(V.getComputedStyle("paddingBottom"),10)-parseInt(V.getComputedStyle("borderBottomWidth"),10)-parseInt(V.getComputedStyle("borderTopWidth"),10);if(f.isNumber(X)){T=X-Y;if(T>=0){Q.set(F,T);}}}}}};b.WidgetStdMod=P;},"3.3.0",{requires:["base-build","widget"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("widget-position-constrain",function(C){var F="constrain",D="constrain|xyChange",B="constrainChange",N="preventOverlap",E="align",O="",G="bindUI",I="xy",A="x",M="y",J=C.Node,P="viewportRegion",L="region",K;function H(Q){if(!this._posNode){C.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added");}C.after(this._bindUIPosConstrained,this,G);}H.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:false}};K=H._PREVENT_OVERLAP={x:{"tltr":1,"blbr":1,"brbl":1,"trtl":1},y:{"trbr":1,"tlbl":1,"bltl":1,"brtr":1}};H.prototype={getConstrainedXY:function(T,S){S=S||this.get(F);var R=this._getRegion((S===true)?null:S),Q=this._posNode.get(L);return[this._constrain(T[0],A,Q,R),this._constrain(T[1],M,Q,R)];},constrain:function(U,R){var T,Q,S=R||this.get(F);if(S){T=U||this.get(I);Q=this.getConstrainedXY(T,S);if(Q[0]!==T[0]||Q[1]!==T[1]){this.set(I,Q,{constrained:true});}}},_setConstrain:function(Q){return(Q===true)?Q:J.one(Q);},_constrain:function(Q,R,Y,S){if(S){if(this.get(N)){Q=this._preventOverlap(Q,R,Y,S);}var V=(R==A),X=(V)?S.width:S.height,U=(V)?Y.width:Y.height,T=(V)?S.left:S.top,W=(V)?S.right-U:S.bottom-U;if(Q<T||Q>W){if(U<X){if(Q<T){Q=T;}else{if(Q>W){Q=W;}}}else{Q=T;}}}return Q;},_preventOverlap:function(R,S,b,T){var W=this.get(E),a=(S===A),Y,V,U,X,Z,Q;if(W&&W.points&&K[S][W.points.join(O)]){V=this._getRegion(W.node);if(V){Y=(a)?b.width:b.height;U=(a)?V.left:V.top;X=(a)?V.right:V.bottom;Z=(a)?V.left-T.left:V.top-T.top;Q=(a)?T.right-V.right:T.bottom-V.bottom;}if(R>U){if(Q<Y&&Z>Y){R=U-Y;}}else{if(Z<Y&&Q>Y){R=X;}}}return R;},_bindUIPosConstrained:function(){this.after(B,this._afterConstrainChange);this._enableConstraints(this.get(F));},_afterConstrainChange:function(Q){this._enableConstraints(Q.newVal);},_enableConstraints:function(Q){if(Q){this.constrain();this._cxyHandle=this._cxyHandle||this.on(D,this._constrainOnXYChange);}else{if(this._cxyHandle){this._cxyHandle.detach();this._cxyHandle=null;}}},_constrainOnXYChange:function(Q){if(!Q.constrained){Q.newVal=this.getConstrainedXY(Q.newVal);}},_getRegion:function(Q){var R;if(!Q){R=this._posNode.get(P);}else{Q=J.one(Q);if(Q){R=Q.get(L);}}return R;}};C.WidgetPositionConstrain=H;},"3.3.0",{requires:["widget-position"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("overlay",function(A){A.Overlay=A.Base.create("overlay",A.Widget,[A.WidgetStdMod,A.WidgetPosition,A.WidgetStack,A.WidgetPositionAlign,A.WidgetPositionConstrain]);},"3.3.0",{requires:["widget","widget-stdmod","widget-position","widget-stack","widget-position-align","widget-position-constrain"]});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("dd-ddm-base",function(B){var A=function(){A.superclass.constructor.apply(this,arguments);};A.NAME="ddm";A.ATTRS={dragCursor:{value:"move"},clickPixelThresh:{value:3},clickTimeThresh:{value:1000},throttleTime:{value:-1},dragMode:{value:"point",setter:function(C){this._setDragMode(C);return C;}}};B.extend(A,B.Base,{_createPG:function(){},_active:null,_setDragMode:function(C){if(C===null){C=B.DD.DDM.get("dragMode");}switch(C){case 1:case"intersect":return 1;case 2:case"strict":return 2;case 0:case"point":return 0;}return 0;},CSS_PREFIX:B.ClassNameManager.getClassName("dd"),_activateTargets:function(){},_drags:[],activeDrag:false,_regDrag:function(C){if(this.getDrag(C.get("node"))){return false;}if(!this._active){this._setupListeners();}this._drags.push(C);return true;},_unregDrag:function(D){var C=[];B.each(this._drags,function(F,E){if(F!==D){C[C.length]=F;}});this._drags=C;},_setupListeners:function(){this._createPG();this._active=true;var C=B.one(B.config.doc);C.on("mousemove",B.throttle(B.bind(this._move,this),this.get("throttleTime")));C.on("mouseup",B.bind(this._end,this));},_start:function(){this.fire("ddm:start");this._startDrag();},_startDrag:function(){},_endDrag:function(){},_dropMove:function(){},_end:function(){if(this.activeDrag){this._endDrag();this.fire("ddm:end");this.activeDrag.end.call(this.activeDrag);this.activeDrag=null;}},stopDrag:function(){if(this.activeDrag){this._end();}return this;},_move:function(C){if(this.activeDrag){this.activeDrag._move.call(this.activeDrag,C);this._dropMove();}},cssSizestoObject:function(D){var C=D.split(" ");switch(C.length){case 1:C[1]=C[2]=C[3]=C[0];break;case 2:C[2]=C[0];C[3]=C[1];break;case 3:C[3]=C[1];break;}return{top:parseInt(C[0],10),right:parseInt(C[1],10),bottom:parseInt(C[2],10),left:parseInt(C[3],10)};},getDrag:function(D){var C=false,E=B.one(D);if(E instanceof B.Node){B.each(this._drags,function(G,F){if(E.compareTo(G.get("node"))){C=G;}});}return C;},swapPosition:function(D,C){D=B.DD.DDM.getNode(D);C=B.DD.DDM.getNode(C);var F=D.getXY(),E=C.getXY();D.setXY(E);C.setXY(F);return D;},getNode:function(C){if(C&&C.get){if(B.Widget&&(C instanceof B.Widget)){C=C.get("boundingBox");}else{C=C.get("node");}}else{C=B.one(C);}return C;},swapNode:function(E,C){E=B.DD.DDM.getNode(E);C=B.DD.DDM.getNode(C);var F=C.get("parentNode"),D=C.get("nextSibling");if(D==E){F.insertBefore(E,C);}else{if(C==E.get("nextSibling")){F.insertBefore(C,E);}else{E.get("parentNode").replaceChild(C,E);F.insertBefore(E,D);}}return E;}});B.namespace("DD");B.DD.DDM=new A();},"3.3.0",{requires:["node","base","yui-throttle","classnamemanager"],skinnable:false});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("dd-drag",function(D){var E=D.DD.DDM,R="node",G="dragging",M="dragNode",C="offsetHeight",K="offsetWidth",H="drag:mouseDown",B="drag:afterMouseDown",F="drag:removeHandle",L="drag:addHandle",P="drag:removeInvalid",Q="drag:addInvalid",J="drag:start",I="drag:end",N="drag:drag",O="drag:align",A=function(T){this._lazyAddAttrs=false;A.superclass.constructor.apply(this,arguments);var S=E._regDrag(this);if(!S){D.error("Failed to register node, already in use: "+T.node);}};A.NAME="drag";A.START_EVENT="mousedown";A.ATTRS={node:{setter:function(S){var T=D.one(S);if(!T){D.error("DD.Drag: Invalid Node Given: "+S);}return T;}},dragNode:{setter:function(S){var T=D.one(S);if(!T){D.error("DD.Drag: Invalid dragNode Given: "+S);}return T;}},offsetNode:{value:true},startCentered:{value:false},clickPixelThresh:{value:E.get("clickPixelThresh")},clickTimeThresh:{value:E.get("clickTimeThresh")},lock:{value:false,setter:function(S){if(S){this.get(R).addClass(E.CSS_PREFIX+"-locked");}else{this.get(R).removeClass(E.CSS_PREFIX+"-locked");}return S;}},data:{value:false},move:{value:true},useShim:{value:true},activeHandle:{value:false},primaryButtonOnly:{value:true},dragging:{value:false},parent:{value:false},target:{value:false,setter:function(S){this._handleTarget(S);return S;}},dragMode:{value:null,setter:function(S){return E._setDragMode(S);}},groups:{value:["default"],getter:function(){if(!this._groups){this._groups={};}var S=[];D.each(this._groups,function(U,T){S[S.length]=T;});return S;},setter:function(S){this._groups={};D.each(S,function(U,T){this._groups[U]=true;},this);return S;}},handles:{value:null,setter:function(S){if(S){this._handles={};D.each(S,function(U,T){var V=U;if(U instanceof D.Node||U instanceof D.NodeList){V=U._yuid;}this._handles[V]=U;},this);}else{this._handles=null;}return S;}},bubbles:{setter:function(S){this.addTarget(S);return S;}},haltDown:{value:true}};D.extend(A,D.Base,{_bubbleTargets:D.DD.DDM,addToGroup:function(S){this._groups[S]=true;E._activateTargets();return this;},removeFromGroup:function(S){delete this._groups[S];E._activateTargets();return this;},target:null,_handleTarget:function(S){if(D.DD.Drop){if(S===false){if(this.target){E._unregTarget(this.target);this.target=null;}return false;}else{if(!D.Lang.isObject(S)){S={};}S.bubbleTargets=("bubbleTargets" in S)?S.bubbleTargets:D.Object.values(this._yuievt.targets);S.node=this.get(R);S.groups=S.groups||this.get("groups");this.target=new D.DD.Drop(S);}}else{return false;}},_groups:null,_createEvents:function(){this.publish(H,{defaultFn:this._defMouseDownFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(O,{defaultFn:this._defAlignFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(N,{defaultFn:this._defDragFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(I,{defaultFn:this._defEndFn,preventedFn:this._prevEndFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});var S=[B,F,L,P,Q,J,"drag:drophit","drag:dropmiss","drag:over","drag:enter","drag:exit"];D.each(S,function(U,T){this.publish(U,{type:U,emitFacade:true,bubbles:true,preventable:false,queuable:false,prefix:"drag"});},this);},_ev_md:null,_startTime:null,_endTime:null,_handles:null,_invalids:null,_invalidsDefault:{"textarea":true,"input":true,"a":true,"button":true,"select":true},_dragThreshMet:null,_fromTimeout:null,_clickTimeout:null,deltaXY:null,startXY:null,nodeXY:null,lastXY:null,actXY:null,realXY:null,mouseXY:null,region:null,_handleMouseUp:function(S){this.fire("drag:mouseup");this._fixIEMouseUp();if(E.activeDrag){E._end();}},_fixDragStart:function(S){S.preventDefault();},_ieSelectFix:function(){return false;},_ieSelectBack:null,_fixIEMouseDown:function(S){if(D.UA.ie){this._ieSelectBack=D.config.doc.body.onselectstart;D.config.doc.body.onselectstart=this._ieSelectFix;}},_fixIEMouseUp:function(){if(D.UA.ie){D.config.doc.body.onselectstart=this._ieSelectBack;}},_handleMouseDownEvent:function(S){this.fire(H,{ev:S});},_defMouseDownFn:function(T){var S=T.ev;this._dragThreshMet=false;this._ev_md=S;if(this.get("primaryButtonOnly")&&S.button>1){return false;}if(this.validClick(S)){this._fixIEMouseDown(S);if(this.get("haltDown")){S.halt();}else{S.preventDefault();}this._setStartPosition([S.pageX,S.pageY]);E.activeDrag=this;this._clickTimeout=D.later(this.get("clickTimeThresh"),this,this._timeoutCheck);}this.fire(B,{ev:S});},validClick:function(W){var V=false,Z=false,S=W.target,U=null,T=null,X=null,Y=false;if(this._handles){D.each(this._handles,function(a,b){if(a instanceof D.Node||a instanceof D.NodeList){if(!V){X=a;if(X instanceof D.Node){X=new D.NodeList(a._node);}X.each(function(c){if(c.contains(S)){V=true;}});}}else{if(D.Lang.isString(b)){if(S.test(b+", "+b+" *")&&!U){U=b;V=true;}}}});}else{Z=this.get(R);if(Z.contains(S)||Z.compareTo(S)){V=true;}}if(V){if(this._invalids){D.each(this._invalids,function(a,b){if(D.Lang.isString(b)){if(S.test(b+", "+b+" *")){V=false;}}});}}if(V){if(U){T=W.currentTarget.all(U);Y=false;T.each(function(b,a){if((b.contains(S)||b.compareTo(S))&&!Y){Y=true;this.set("activeHandle",b);}},this);}else{this.set("activeHandle",this.get(R));}}return V;},_setStartPosition:function(S){this.startXY=S;this.nodeXY=this.lastXY=this.realXY=this.get(R).getXY();if(this.get("offsetNode")){this.deltaXY=[(this.startXY[0]-this.nodeXY[0]),(this.startXY[1]-this.nodeXY[1])];}else{this.deltaXY=[0,0];}},_timeoutCheck:function(){if(!this.get("lock")&&!this._dragThreshMet&&this._ev_md){this._fromTimeout=this._dragThreshMet=true;this.start();this._alignNode([this._ev_md.pageX,this._ev_md.pageY],true);}},removeHandle:function(T){var S=T;if(T instanceof D.Node||T instanceof D.NodeList){S=T._yuid;}if(this._handles[S]){delete this._handles[S];this.fire(F,{handle:T});}return this;},addHandle:function(T){if(!this._handles){this._handles={};}var S=T;if(T instanceof D.Node||T instanceof D.NodeList){S=T._yuid;}this._handles[S]=T;this.fire(L,{handle:T});return this;},removeInvalid:function(S){if(this._invalids[S]){this._invalids[S]=null;
delete this._invalids[S];this.fire(P,{handle:S});}return this;},addInvalid:function(S){if(D.Lang.isString(S)){this._invalids[S]=true;this.fire(Q,{handle:S});}return this;},initializer:function(S){this.get(R).dd=this;if(!this.get(R).get("id")){var T=D.stamp(this.get(R));this.get(R).set("id",T);}this.actXY=[];this._invalids=D.clone(this._invalidsDefault,true);this._createEvents();if(!this.get(M)){this.set(M,this.get(R));}this.on("initializedChange",D.bind(this._prep,this));this.set("groups",this.get("groups"));},_prep:function(){this._dragThreshMet=false;var S=this.get(R);S.addClass(E.CSS_PREFIX+"-draggable");S.on(A.START_EVENT,D.bind(this._handleMouseDownEvent,this));S.on("mouseup",D.bind(this._handleMouseUp,this));S.on("dragstart",D.bind(this._fixDragStart,this));},_unprep:function(){var S=this.get(R);S.removeClass(E.CSS_PREFIX+"-draggable");S.detachAll();},start:function(){if(!this.get("lock")&&!this.get(G)){var T=this.get(R),S,U,V;this._startTime=(new Date()).getTime();E._start();T.addClass(E.CSS_PREFIX+"-dragging");this.fire(J,{pageX:this.nodeXY[0],pageY:this.nodeXY[1],startTime:this._startTime});T=this.get(M);V=this.nodeXY;S=T.get(K);U=T.get(C);if(this.get("startCentered")){this._setStartPosition([V[0]+(S/2),V[1]+(U/2)]);}this.region={"0":V[0],"1":V[1],area:0,top:V[1],right:V[0]+S,bottom:V[1]+U,left:V[0]};this.set(G,true);}return this;},end:function(){this._endTime=(new Date()).getTime();if(this._clickTimeout){this._clickTimeout.cancel();}this._dragThreshMet=this._fromTimeout=false;if(!this.get("lock")&&this.get(G)){this.fire(I,{pageX:this.lastXY[0],pageY:this.lastXY[1],startTime:this._startTime,endTime:this._endTime});}this.get(R).removeClass(E.CSS_PREFIX+"-dragging");this.set(G,false);this.deltaXY=[0,0];return this;},_defEndFn:function(S){this._fixIEMouseUp();this._ev_md=null;},_prevEndFn:function(S){this._fixIEMouseUp();this.get(M).setXY(this.nodeXY);this._ev_md=null;this.region=null;},_align:function(S){this.fire(O,{pageX:S[0],pageY:S[1]});},_defAlignFn:function(S){this.actXY=[S.pageX-this.deltaXY[0],S.pageY-this.deltaXY[1]];},_alignNode:function(S){this._align(S);this._moveNode();},_moveNode:function(S){var T=[],U=[],W=this.nodeXY,V=this.actXY;T[0]=(V[0]-this.lastXY[0]);T[1]=(V[1]-this.lastXY[1]);U[0]=(V[0]-this.nodeXY[0]);U[1]=(V[1]-this.nodeXY[1]);this.region={"0":V[0],"1":V[1],area:0,top:V[1],right:V[0]+this.get(M).get(K),bottom:V[1]+this.get(M).get(C),left:V[0]};this.fire(N,{pageX:V[0],pageY:V[1],scroll:S,info:{start:W,xy:V,delta:T,offset:U}});this.lastXY=V;},_defDragFn:function(S){if(this.get("move")){if(S.scroll){S.scroll.node.set("scrollTop",S.scroll.top);S.scroll.node.set("scrollLeft",S.scroll.left);}this.get(M).setXY([S.pageX,S.pageY]);this.realXY=[S.pageX,S.pageY];}},_move:function(U){if(this.get("lock")){return false;}else{this.mouseXY=[U.pageX,U.pageY];if(!this._dragThreshMet){var T=Math.abs(this.startXY[0]-U.pageX),S=Math.abs(this.startXY[1]-U.pageY);if(T>this.get("clickPixelThresh")||S>this.get("clickPixelThresh")){this._dragThreshMet=true;this.start();this._alignNode([U.pageX,U.pageY]);}}else{if(this._clickTimeout){this._clickTimeout.cancel();}this._alignNode([U.pageX,U.pageY]);}}},stopDrag:function(){if(this.get(G)){E._end();}return this;},destructor:function(){this._unprep();this.detachAll();if(this.target){this.target.destroy();}E._unregDrag(this);}});D.namespace("DD");D.DD.Drag=A;},"3.3.0",{requires:["dd-ddm-base"],skinnable:false});/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("dd-plugin",function(B){var A=function(C){C.node=((B.Widget&&C.host instanceof B.Widget)?C.host.get("boundingBox"):C.host);A.superclass.constructor.call(this,C);};A.NAME="dd-plugin";A.NS="dd";B.extend(A,B.DD.Drag);B.namespace("Plugin");B.Plugin.Drag=A;},"3.3.0",{requires:["dd-drag"],skinnable:false,optional:["dd-constrain","dd-proxy"]});YUI.namespace("Y.Box");
YUI.add("trip-box",function(d){if(typeof d.Node.prototype.queryAll=="undefined")d.Node.prototype.queryAll=d.Node.prototype.all,d.Node.prototype.query=d.Node.prototype.one,d.Node.get=d.Node.one,d.get=d.one;d.Box=function(){this.init.apply(this,arguments)};d.Box.overlays=[];d.Box.prototype={init:function(a){var b=this;b.buildParam(a);b.overlay=new d.Overlay({contentBox:"myContent",height:b.height,width:b.width,zIndex:1E3,visible:!1,shim:!0,centered:!0,align:b.align,headerContent:b.head,bodyContent:b.body,
footerContent:b.foot});d.Box.overlays.push(b.overlay);b.bringToTop();b.overlay._posNode.on("focus",function(){});b.overlay._posNode.on("mousedown",function(a){if((a=d.Widget.getByNode(a.target))&&a instanceof d.Overlay)b.bringToTop(),d.log("bringToTop()");d.Box._xy=a._posNode.getXY()});b.overlay._posNode.on("mouseup",function(a){if((a=d.Widget.getByNode(a.target))&&a instanceof d.Overlay){var e=a._posNode.getXY();if(e[0]!=d.Box._xy[0]||e[1]!=d.Box._xy[1])b.afterDrag(a),d.log("\u62d6\u62fd\u7ed3\u675f")}});if(b.resizeable)b.resize=
new d.Resize({node:b.overlay._posNode});return this},bringToTop:function(){if(d.Box.overlays.length!=1){for(var a=0,b=0;b<d.Box.overlays.length;b++){var c=Number(d.Box.overlays[b].get("zIndex"));c>a&&(a=c)}this.overlay.set("zIndex",a+1);return this}},render:function(a){var b=this;b.parseParam(a);b.overlay.render("#overlay-align");var a=b.overlay.get("x"),c=b.overlay.get("y");if(b.height=="auto"||b.width=="auto"){var e=b.overlay._posNode.get("region");b.height=="auto"&&(c-=Number(e.height/2));b.width==
"auto"&&(d.UA.ie<7&&d.UA.ie>0&&b.overlay.set("width",b.overlay._posNode.query("div.yui3-widget-bd").get("region").width),d.UA.ie>=7&&(b.overlay._posNode.query("div.yui3-widget-bd").setStyle("width","100%"),b.overlay.set("width",b.overlay._posNode.query("div.yui3-widget-bd").get("region").width)),a-=Number(b.overlay._posNode.get("region").width/2));b.overlay.move([a,c<0?0:c])}b.shownImmediately&&b.overlay.set("visible",!0);b.fixed&&(/6/i.test(d.UA.ie)?b.overlay._posNode.setStyle("position","absolute"):
(c-=d.get("docscrollY").get("scrollTop"),a-=d.get("docscrollX").get("scrollLeft"),b.overlay.move([a,c<0?0:c]),b.overlay._posNode.setStyle("position","fixed")));b.x&&b.overlay.set("x",Number(b.x));b.y&&b.overlay.set("y",Number(b.y)<0?0:Number(b.y));b.draggable&&(b.overlay.headerNode.setStyle("cursor","move"),b.overlay._posNode.dd||(b.overlay._posNode.plug(d.Plugin.Drag),b.overlay._posNode.dd.addHandle(".yui3-widget-hd")));b.onload(b);b.modal&&b.addMask();b.antijam&&b.hideMedias();if(b.resizeable)try{var f=
b.overlay._posNode.query(".yui3-widget-hd"),g=b.overlay._posNode.query(".yui3-widget-bd"),h=b.overlay._posNode.query(".yui3-widget-ft");b.resize.on("resize:resize",function(){var a=b.overlay._posNode.get("region").height,c=f.get("region").height,d=h.get("region").height;g.setStyle("height",a-c-d-20-2+"px")})}catch(i){}return this},removeArray:function(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]==a){b.splice(c,1);break}},close:function(){this.beforeUnload(this);this.overlay.hide();this.showMedias();
this.removeArray(this.overlay,d.Box.overlays);this.overlay._posNode.remove();this.removeMask();this.afterUnload(this);d.log("close()");return this},hide:function(){this.overlay.hide();this.showMedias();this.afterHide(this);return this},show:function(){this.overlay.show();this.hideMedias();this.afterShow(this);return this},buildParam:function(a){a=a||{};this.head=typeof a.head=="undefined"||a.head==null?"":a.head;this.body=typeof a.body=="undefined"||a.body==null?"":a.body;this.foot=typeof a.foot==
"undefined"||a.foot==null?"":a.foot;this.skin=typeof a.skin=="undefined"||a.skin==null?"default":a.skin;this.draggable=typeof a.draggable=="undefined"||a.draggable==null?!0:a.draggable;this.fixed=typeof a.fixed=="undefined"||a.fixed==null?!0:a.fixed;this.shownImmediately=typeof a.shownImmediately=="undefined"||a.shownImmediately==null?!0:a.shownImmediately;this.modal=typeof a.modal=="undefined"||a.modal==null?!1:a.modal;this.maskOpacity=typeof a.maskOpacity=="undefined"||a.maskOpacity==null?0.6:a.maskOpacity;
this.x=typeof a.x=="undefined"||a.x==null?!1:a.x;this.y=typeof a.y=="undefined"||a.y==null?!1:a.y;this.align=a.align||null;this.width=typeof a.width=="undefined"||a.width==null?"300px":a.width;this.height=typeof a.height=="undefined"||a.height==null?"auto":a.height;this.clickToFront=typeof a.clickToFront=="undefined"||a.clickToFront==null?"":a.clickToFront;this.behaviours=typeof a.behaviours=="undefined"||a.behaviours==null?"":a.behaviours;this.afterHide=typeof a.afterHide=="undefined"||a.afterHide==
null?new Function:a.afterHide;this.afterDrag=typeof a.afterDrag=="undefined"||a.afterDrag==null?new Function:a.afterDrag;this.afterShow=typeof a.afterShow=="undefined"||a.afterShow==null?new Function:a.afterShow;this.beforeUnload=typeof a.beforeUnload=="undefined"||a.beforeUnload==null?new Function:a.beforeUnload;this.afterUnload=typeof a.afterUnload=="undefined"||a.afterUnload==null?new Function:a.afterUnload;this.onload=typeof a.onload=="undefined"||a.onload==null?new Function:a.onload;this.duration=
typeof a.duration=="undefined"||a.duration==null?0.3:a.duration;this.antijam=typeof a.antijam=="undefined"||a.antijam==null?!1:a.antijam;this.resizeable=typeof a.resizeable=="undefined"||a.resizeable==null?!1:a.resizeable;return this},parseParam:function(a){var a=a||{},b;for(b in a)this[b]=a[b];return this},hideMedias:function(){if(this.antijam==!1)return this;this.hiddenMedia=[];for(var a=document.body.getElementsByTagName("object"),b=0,c=a.length;b<c;b++)if(a[b].type.indexOf("x-oleobject")>0)this.hiddenMedia.push(a[b]),
a[b].style.visibility="hidden";return this},showMedias:function(){if(this.antijam==!1)return this;if(this.hiddenMedia.length>0){for(var a=0,b=this.hiddenMedia.length;a<b;a++)this.hiddenMedia[a].style.visibility="visible";this.hiddenMedia=[]}return this},addMask:function(){if(d.one("#t-shade-tmp"))return this;var a=d.Node.create('<div id="t-shade-tmp" style="display: block; z-index: 999;background-color:black;left:0;position:absolute;top:0;width:100%;display:none"></div>');a.setStyle("opacity",this.maskOpacity.toString());
a.setStyle("height",d.one("body").get("docHeight")+"px");d.one("html").setStyle("overflow","hidden");d.one("body").append(a);a.setStyle("display","block");return this},removeMask:function(){d.Box.overlays.length==0&&d.one("#t-shade-tmp")&&(d.one("#t-shade-tmp").remove(),d.one("html").setStyle("overflow",""));return this}};d.Box.alert=function(a,b,c){if(typeof a=="undefined"||a==null)a="";if(typeof b=="undefined"||b==null)b=new Function;if(typeof c=="undefined"||c==null)c={};var e=typeof c.closeText==
"undefined"||c.closeText==null?'<img src="http://img04.taobaocdn.com/tps/i4/T1m6tpXfxBXXXXXXXX-14-14.gif" border=0>':c.closeText,f=typeof c.btnText=="undefined"||c.btnText==null?"\u786e\u5b9a":c.btnText;c.head='<span class="title">'+(typeof c.title=="undefined"||c.title==null?"\u63d0\u793a":c.title)+"</span>"+(typeof c.closeable=="undefined"||c.closeable==null||c.closeable?'<a class="close closebtn">'+e+"</a>":"");c.body=a;c.foot='<div align=right><button class="okbtn">'+f+"</div>";c._onload=c.onload||new Function;c.onload=
function(a){var d=a.overlay._posNode;d.query(".okbtn").on("click",function(c){c.halt();b(a);a.close()});try{d.query(".closebtn").setStyle("cursor","pointer"),d.query(".closebtn").on("click",function(b){b.halt();a.close()})}catch(e){}c._onload(a)};return(new d.Box(c)).render()};d.Box.confirm=function(a,b,c){if(typeof a=="undefined"||a==null)a="";if(typeof b=="undefined"||b==null)b=new Function;if(typeof c=="undefined"||c==null)c={};var e=typeof c.title=="undefined"||c.title==null?"\u63d0\u793a":c.title,f=typeof c.closeable==
"undefined"||c.closeable==null?!0:c.closeable,g=typeof c.closeText=="undefined"||c.closeText==null?'<img src="http://img04.taobaocdn.com/tps/i4/T1m6tpXfxBXXXXXXXX-14-14.gif" border=0>':c.closeText;c.yes=typeof c.yes=="undefined"||c.yes==null?b:c.yes;c.no=typeof c.no=="undefined"||c.no==null?new Function:c.no;var b=typeof c.yesText=="undefined"||c.yesText==null?"\u786e\u5b9a":c.yesText,h=typeof c.noText=="undefined"||c.noText==null?"\u53d6\u6d88":c.noText,i=typeof c.cancleBtn=="undefined"||c.cancleBtn==null?!1:c.cancleBtn,
j=typeof c.cancleText=="undefined"||c.cancleText==null?"\u5173\u95ed":c.cancleText;c.head='<span class="title">'+e+"</span>"+(f?'<a class="close closebtn">'+g+"</a>":"");c.body=a;c.foot='<div align=right><button class="yesbtn">'+b+'</button>&nbsp;<button class="nobtn">'+h+"</button>&nbsp;"+(i?'<button class="canclebtn">'+j+"</button>":"")+"</div>";c._onload=c.onload||new Function;c.onload=function(a){var b=a.overlay._posNode;b.query(".yesbtn").on("click",function(b){b.halt();c.yes(a);a.close()});b.query(".nobtn").on("click",
function(b){b.halt();c.no(a);a.close()});if(i)b.query(".canclebtn").on("click",function(b){b.halt();a.close()});try{b.query(".closebtn").setStyle("cursor","pointer"),b.query(".closebtn").on("click",function(b){b.halt();a.close()})}catch(d){}c._onload(a)};return(new d.Box(c)).render()}},"0.1",{requires:["node-base","event-base","overlay","dd-plugin"]});
/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
YUI.add("imageloader",function(B){B.ImgLoadGroup=function(){this._init();B.ImgLoadGroup.superclass.constructor.apply(this,arguments);};B.ImgLoadGroup.NAME="imgLoadGroup";B.ImgLoadGroup.ATTRS={name:{value:""},timeLimit:{value:null},foldDistance:{validator:B.Lang.isNumber,setter:function(D){this._setFoldTriggers();return D;},lazyAdd:false},className:{value:null,setter:function(D){this._className=D;return D;},lazyAdd:false}};var C={_init:function(){this._triggers=[];this._imgObjs={};this._timeout=null;this._classImageEls=null;this._className=null;this._areFoldTriggersSet=false;this._maxKnownHLimit=0;B.on("domready",this._onloadTasks,this);},addTrigger:function(F,E){if(!F||!E){return this;}var D=function(){this.fetch();};this._triggers.push(B.on(E,D,F,this));return this;},addCustomTrigger:function(D,F){if(!D){return this;}var E=function(){this.fetch();};if(B.Lang.isUndefined(F)){this._triggers.push(B.on(D,E,this));}else{this._triggers.push(F.on(D,E,this));}return this;},_setFoldTriggers:function(){if(this._areFoldTriggersSet){return;}var D=function(){this._foldCheck();};this._triggers.push(B.on("scroll",D,window,this));this._triggers.push(B.on("resize",D,window,this));this._areFoldTriggersSet=true;},_onloadTasks:function(){var D=this.get("timeLimit");if(D&&D>0){this._timeout=setTimeout(this._getFetchTimeout(),D*1000);}if(!B.Lang.isUndefined(this.get("foldDistance"))){this._foldCheck();}},_getFetchTimeout:function(){var D=this;return function(){D.fetch();};},registerImage:function(){var D=arguments[0].domId;if(!D){return null;}this._imgObjs[D]=new B.ImgLoadImgObj(arguments[0]);return this._imgObjs[D];},fetch:function(){this._clearTriggers();this._fetchByClass();for(var D in this._imgObjs){if(this._imgObjs.hasOwnProperty(D)){this._imgObjs[D].fetch();}}},_clearTriggers:function(){clearTimeout(this._timeout);for(var E=0,D=this._triggers.length;E<D;E++){this._triggers[E].detach();}},_foldCheck:function(){var I=true,J=B.DOM.viewportRegion(),H=J.bottom+this.get("foldDistance"),K,E,G,F,D;if(H<=this._maxKnownHLimit){return;}this._maxKnownHLimit=H;for(K in this._imgObjs){if(this._imgObjs.hasOwnProperty(K)){E=this._imgObjs[K].fetch(H);I=I&&E;}}if(this._className){if(this._classImageEls===null){this._classImageEls=[];G=B.all("."+this._className);G.each(function(L){this._classImageEls.push({el:L,y:L.getY(),fetched:false});},this);}G=this._classImageEls;for(F=0,D=G.length;F<D;F++){if(G[F].fetched){continue;}if(G[F].y&&G[F].y<=H){G[F].el.removeClass(this._className);G[F].fetched=true;}else{I=false;}}}if(I){this._clearTriggers();}},_fetchByClass:function(){if(!this._className){return;}B.all("."+this._className).removeClass(this._className);}};B.extend(B.ImgLoadGroup,B.Base,C);B.ImgLoadImgObj=function(){B.ImgLoadImgObj.superclass.constructor.apply(this,arguments);this._init();};B.ImgLoadImgObj.NAME="imgLoadImgObj";B.ImgLoadImgObj.ATTRS={domId:{value:null,writeOnce:true},bgUrl:{value:null},srcUrl:{value:null},width:{value:null},height:{value:null},setVisible:{value:false},isPng:{value:false},sizingMethod:{value:"scale"},enabled:{value:"true"}};var A={_init:function(){this._fetched=false;this._imgEl=null;this._yPos=null;},fetch:function(F){if(this._fetched){return true;}var D=this._getImgEl(),E;if(!D){return false;}if(F){E=this._getYPos();if(!E||E>F){return false;}}if(this.get("bgUrl")!==null){if(this.get("isPng")&&B.UA.ie&&B.UA.ie<=6){D.setStyle("filter",'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+this.get("bgUrl")+'", sizingMethod="'+this.get("sizingMethod")+'", enabled="'+this.get("enabled")+'")');}else{D.setStyle("backgroundImage","url('"+this.get("bgUrl")+"')");}}else{if(this.get("srcUrl")!==null){D.setAttribute("src",this.get("srcUrl"));}}if(this.get("setVisible")){D.setStyle("visibility","visible");}if(this.get("width")){D.setAttribute("width",this.get("width"));}if(this.get("height")){D.setAttribute("height",this.get("height"));}this._fetched=true;return true;},_getImgEl:function(){if(this._imgEl===null){this._imgEl=B.one("#"+this.get("domId"));}return this._imgEl;},_getYPos:function(){if(this._yPos===null){this._yPos=this._getImgEl().getY();}return this._yPos;}};B.extend(B.ImgLoadImgObj,B.Base,A);},"3.3.0",{requires:["base-base","node-style","node-screen"]});
